<?xml version="1.0" encoding="UTF-8"?>
<DOQueryBuilderCollection>
  <CollectionName>Payment</CollectionName>
  <MainTableName>tbPayment</MainTableName> 
  <MainTableAlias>PAY</MainTableAlias>
   
  <FieldList>
    <Field TableAlias="PAY" FieldName="PaymentId" FieldAlias="PaymentId" DataType="11"/>
    <Field TableAlias="PAY" FieldName="TransactionId" FieldAlias="TransactionId" DataType="11"/>
    <Field TableAlias="PAY" FieldName="PaymentStatus" FieldAlias="PaymentStatus" DataType="20"/>
    <Field TableAlias="PAY" FieldName="PaymentAmount" FieldAlias="PaymentAmount" DataType="23" AutoAggregate="true"/>
    <Field TableAlias="PAY" FieldName="PluginId" FieldAlias="PaymentMethodId" DataType="11" />
    <Field TableAlias="DRV" FieldType="20" FieldAlias="PaymentMethodName" DataType="10" SQL="Coalesce(PLG.PLuginName, DRV.DriverName)"/>
    <Field TableAlias="PPM" FieldName="PaymentMethodCode" FieldAlias="PaymentMethodCode" DataType="10" />
    <Field TableAlias="PPM" FieldName="PaymentGroupTagId" FieldAlias="PaymentGroupId" DataType="11"/>
    <Field TableAlias="GRP" FieldName="TagCode" FieldAlias="PaymentGroupCode" DataType="10"/>
    <Field TableAlias="GRP" FieldName="TagName" FieldAlias="PaymentGroupName" DataType="10"/>
    </FieldList>
  
  <TableList>
    <Table TableAlias="PLG" TableName="tbPlugin" ParentTableAlias="PAY" OnClause="PLG.PluginId=PAY.PluginId"/>
    <Table TableAlias="DRV" TableName="tbDriver" ParentTableAlias="PLG" OnClause="DRV.DriverId=PLG.DriverId"/>
    <Table TableAlias="PPM" TableName="tbPluginPaymentMethod" ParentTableAlias="PAY" OnClause="PPM.PluginId=PAY.PluginId"/>
    <Table TableAlias="GRP" TableName="tbTag" ParentTableAlias="PPM" OnClause="GRP.TagId=PPM.PaymentGroupTagId"/>
  </TableList>
  
  <ForeignKeyList>
    <ForeignKey ParentCollectionName="Transaction" ParentFieldAlias="TransactionId" ChildFieldAlias="TransactionId"/>
  </ForeignKeyList>
</DOQueryBuilderCollection>