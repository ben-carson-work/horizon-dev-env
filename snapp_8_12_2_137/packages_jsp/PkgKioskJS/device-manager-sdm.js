/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../libraries/mqtt/mqtt.min.js":
/*!*************************************!*\
  !*** ../libraries/mqtt/mqtt.min.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("!function(e){if(true)module.exports=e();else {}}(function(){return function(){return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var l=undefined;if(!a&&l)return require(s,!0);if(o)return o(s,!0);var u=new Error(\"Cannot find module '\"+s+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){return i(t[s][1][e]||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o=undefined,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(e,t,r){(function(r,n){(function(){\"use strict\";const i=e(\"events\").EventEmitter,o=e(\"./store\"),s=e(\"./topic-alias-recv\"),a=e(\"./topic-alias-send\"),l=e(\"mqtt-packet\"),u=e(\"./default-message-id-provider\"),c=e(\"readable-stream\").Writable,h=e(\"inherits\"),f=e(\"reinterval\"),p=e(\"rfdc/default\"),d=e(\"./validations\"),g=e(\"xtend\"),y=e(\"debug\")(\"mqttjs:client\"),b=r?r.nextTick:function(e){setTimeout(e,0)},m=n.setImmediate||function(e){b(e)},v={keepalive:60,reschedulePings:!0,protocolId:\"MQTT\",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},w=[\"ECONNREFUSED\",\"EADDRINUSE\",\"ECONNRESET\",\"ENOTFOUND\"],_={0:\"\",1:\"Unacceptable protocol version\",2:\"Identifier rejected\",3:\"Server unavailable\",4:\"Bad username or password\",5:\"Not authorized\",16:\"No matching subscribers\",17:\"No subscription existed\",128:\"Unspecified error\",129:\"Malformed Packet\",130:\"Protocol Error\",131:\"Implementation specific error\",132:\"Unsupported Protocol Version\",133:\"Client Identifier not valid\",134:\"Bad User Name or Password\",135:\"Not authorized\",136:\"Server unavailable\",137:\"Server busy\",138:\"Banned\",139:\"Server shutting down\",140:\"Bad authentication method\",141:\"Keep Alive timeout\",142:\"Session taken over\",143:\"Topic Filter invalid\",144:\"Topic Name invalid\",145:\"Packet identifier in use\",146:\"Packet Identifier not found\",147:\"Receive Maximum exceeded\",148:\"Topic Alias invalid\",149:\"Packet too large\",150:\"Message rate too high\",151:\"Quota exceeded\",152:\"Administrative action\",153:\"Payload format invalid\",154:\"Retain not supported\",155:\"QoS not supported\",156:\"Use another server\",157:\"Server moved\",158:\"Shared Subscriptions not supported\",159:\"Connection rate exceeded\",160:\"Maximum connect time\",161:\"Subscription Identifiers not supported\",162:\"Wildcard Subscriptions not supported\"};function k(e,t){let r;t.properties&&(r=t.properties.topicAlias);let n=t.topic.toString();if(0===n.length){if(void 0===r)return new Error(\"Unregistered Topic Alias\");if(void 0===(n=e.topicAliasSend.getTopicByAlias(r)))return new Error(\"Unregistered Topic Alias\");t.topic=n}r&&delete t.properties.topicAlias}function S(e,t,r){y(\"sendPacket :: packet: %O\",t),y(\"sendPacket :: emitting `packetsend`\"),e.emit(\"packetsend\",t),y(\"sendPacket :: writing to stream\");const n=l.writeToStream(t,e.stream,e.options);y(\"sendPacket :: writeToStream result %s\",n),!n&&r&&r!==C?(y(\"sendPacket :: handle events on `drain` once through callback.\"),e.stream.once(\"drain\",r)):r&&(y(\"sendPacket :: invoking cb\"),r())}function E(e,t,r,n){y(\"storeAndSend :: store packet with cmd %s to outgoingStore\",t.cmd);let i,o=t;if(\"publish\"===o.cmd&&(o=p(t),i=k(e,o)))return r&&r(i);e.outgoingStore.put(o,function(i){if(i)return r&&r(i);n(),S(e,t,r)})}function C(e){y(\"nop ::\",e)}function T(e,t){let r;const n=this;if(!(this instanceof T))return new T(e,t);for(r in this.options=t||{},v)void 0===this.options[r]?this.options[r]=v[r]:this.options[r]=t[r];y(\"MqttClient :: options.protocol\",t.protocol),y(\"MqttClient :: options.protocolVersion\",t.protocolVersion),y(\"MqttClient :: options.username\",t.username),y(\"MqttClient :: options.keepalive\",t.keepalive),y(\"MqttClient :: options.reconnectPeriod\",t.reconnectPeriod),y(\"MqttClient :: options.rejectUnauthorized\",t.rejectUnauthorized),y(\"MqttClient :: options.topicAliasMaximum\",t.topicAliasMaximum),this.options.clientId=\"string\"==typeof t.clientId?t.clientId:\"mqttjs_\"+Math.random().toString(16).substr(2,8),y(\"MqttClient :: clientId\",this.options.clientId),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.messageIdProvider=void 0===this.options.messageIdProvider?new u:this.options.messageIdProvider,this.outgoingStore=t.outgoingStore||new o,this.incomingStore=t.incomingStore||new o,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,t.topicAliasMaximum>0&&(t.topicAliasMaximum>65535?y(\"MqttClient :: options.topicAliasMaximum is out of range\"):this.topicAliasRecv=new s(t.topicAliasMaximum)),this.on(\"connect\",function(){const e=this.queue;y(\"connect :: sending queued packets\"),function t(){const r=e.shift();y(\"deliver :: entry %o\",r);let i=null;if(!r)return void n._resubscribe();i=r.packet,y(\"deliver :: call _sendPacket for %o\",i);let o=!0;i.messageId&&0!==i.messageId&&(n.messageIdProvider.register(i.messageId)||(o=!1)),o?n._sendPacket(i,function(e){r.cb&&r.cb(e),t()}):(y(\"messageId: %d has already used. The message is skipped and removed.\",i.messageId),t())}()}),this.on(\"close\",function(){y(\"close :: connected set to `false`\"),this.connected=!1,y(\"close :: clearing connackTimer\"),clearTimeout(this.connackTimer),y(\"close :: clearing ping timer\"),null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),y(\"close :: calling _setupReconnect\"),this._setupReconnect()}),i.call(this),y(\"MqttClient :: setting up stream\"),this._setupStream()}h(T,i),T.prototype._setupStream=function(){const e=this,t=new c,r=l.parser(this.options);let n=null;const i=[];function o(){if(i.length)b(s);else{const e=n;n=null,e()}}function s(){y(\"work :: getting next packet in queue\");const t=i.shift();if(t)y(\"work :: packet pulled from queue\"),e._handlePacket(t,o);else{y(\"work :: no packets in queue\");const e=n;n=null,y(\"work :: done flag is %s\",!!e),e&&e()}}y(\"_setupStream :: calling method to clear reconnect\"),this._clearReconnect(),y(\"_setupStream :: using streamBuilder provided to client to create stream\"),this.stream=this.streamBuilder(this),r.on(\"packet\",function(e){y(\"parser :: on packet push to packets array.\"),i.push(e)}),t._write=function(e,t,i){n=i,y(\"writable stream :: parsing buffer\"),r.parse(e),s()},y(\"_setupStream :: pipe stream to writable stream\"),this.stream.pipe(t),this.stream.on(\"error\",function(t){y(\"streamErrorHandler :: error\",t.message),w.includes(t.code)?(y(\"streamErrorHandler :: emitting error\"),e.emit(\"error\",t)):C(t)}),this.stream.on(\"close\",function(){var t;y(\"(%s)stream :: on close\",e.options.clientId),(t=e.outgoing)&&(y(\"flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function\"),Object.keys(t).forEach(function(e){t[e].volatile&&\"function\"==typeof t[e].cb&&(t[e].cb(new Error(\"Connection closed\")),delete t[e])})),y(\"stream: emit close to MqttClient\"),e.emit(\"close\")}),y(\"_setupStream: sending packet `connect`\");const a=Object.create(this.options);if(a.cmd=\"connect\",this.topicAliasRecv&&(a.properties||(a.properties={}),this.topicAliasRecv&&(a.properties.topicAliasMaximum=this.topicAliasRecv.max)),S(this,a),r.on(\"error\",this.emit.bind(this,\"error\")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return e.end(()=>this.emit(\"error\",new Error(\"Packet has no Authentication Method\"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&\"object\"==typeof this.options.authPacket){S(this,g({cmd:\"auth\",reasonCode:0},this.options.authPacket))}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){y(\"!!connectTimeout hit!! Calling _cleanUp with force `true`\"),e._cleanUp(!0)},this.options.connectTimeout)},T.prototype._handlePacket=function(e,t){const r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<e.length)return this.emit(\"error\",new Error(\"exceeding packets size \"+e.cmd)),this.end({reasonCode:149,properties:{reasonString:\"Maximum packet size was exceeded\"}}),this;switch(y(\"_handlePacket :: emitting packetreceive\"),this.emit(\"packetreceive\",e),e.cmd){case\"publish\":this._handlePublish(e,t);break;case\"puback\":case\"pubrec\":case\"pubcomp\":case\"suback\":case\"unsuback\":this._handleAck(e),t();break;case\"pubrel\":this._handlePubrel(e,t);break;case\"connack\":this._handleConnack(e),t();break;case\"auth\":this._handleAuth(e),t();break;case\"pingresp\":this._handlePingresp(e),t();break;case\"disconnect\":this._handleDisconnect(e),t()}},T.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e&&e!==C?e(new Error(\"client disconnecting\")):this.emit(\"error\",new Error(\"client disconnecting\"))),this.disconnecting},T.prototype.publish=function(e,t,r,n){y(\"publish :: message `%s` to topic `%s`\",t,e);const i=this.options;\"function\"==typeof r&&(n=r,r=null);if(r=g({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;const o=this,s=function(){let s=0;if((1===r.qos||2===r.qos)&&null===(s=o._nextId()))return y(\"No messageId left\"),!1;const a={cmd:\"publish\",topic:e,payload:t,qos:r.qos,retain:r.retain,messageId:s,dup:r.dup};switch(5===i.protocolVersion&&(a.properties=r.properties),y(\"publish :: qos\",r.qos),r.qos){case 1:case 2:o.outgoing[a.messageId]={volatile:!1,cb:n||C},y(\"MqttClient:publish: packet cmd: %s\",a.cmd),o._sendPacket(a,void 0,r.cbStorePut);break;default:y(\"MqttClient:publish: packet cmd: %s\",a.cmd),o._sendPacket(a,n,r.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,cbStorePut:r.cbStorePut,callback:n}),this},T.prototype.subscribe=function(){const e=this,t=new Array(arguments.length);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];const r=[];let n=t.shift();const i=n.resubscribe;let o=t.pop()||C,s=t.pop();const a=this.options.protocolVersion;delete n.resubscribe,\"string\"==typeof n&&(n=[n]),\"function\"!=typeof o&&(s=o,o=C);const l=d.validateTopics(n);if(null!==l)return m(o,new Error(\"Invalid topic \"+l)),this;if(this._checkDisconnecting(o))return y(\"subscribe: discconecting true\"),this;const u={qos:0};if(5===a&&(u.nl=!1,u.rap=!1,u.rh=0),s=g(u,s),Array.isArray(n)?n.forEach(function(t){if(y(\"subscribe: array topic %s\",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<s.qos||i){const e={topic:t,qos:s.qos};5===a&&(e.nl=s.nl,e.rap=s.rap,e.rh=s.rh,e.properties=s.properties),y(\"subscribe: pushing topic `%s` and qos `%s` to subs list\",e.topic,e.qos),r.push(e)}}):Object.keys(n).forEach(function(t){if(y(\"subscribe: object topic %s\",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<n[t].qos||i){const e={topic:t,qos:n[t].qos};5===a&&(e.nl=n[t].nl,e.rap=n[t].rap,e.rh=n[t].rh,e.properties=s.properties),y(\"subscribe: pushing `%s` to subs list\",e),r.push(e)}}),!r.length)return o(null,[]),this;const c=function(){const t=e._nextId();if(null===t)return y(\"No messageId left\"),!1;const n={cmd:\"subscribe\",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:t};if(s.properties&&(n.properties=s.properties),e.options.resubscribe){y(\"subscribe :: resubscribe true\");const t=[];r.forEach(function(r){if(e.options.reconnectPeriod>0){const n={qos:r.qos};5===a&&(n.nl=r.nl||!1,n.rap=r.rap||!1,n.rh=r.rh||0,n.properties=r.properties),e._resubscribeTopics[r.topic]=n,t.push(r.topic)}}),e.messageIdToTopic[n.messageId]=t}return e.outgoing[n.messageId]={volatile:!0,cb:function(e,t){if(!e){const e=t.granted;for(let t=0;t<e.length;t+=1)r[t].qos=e[t]}o(e,r)}},y(\"subscribe :: call _sendPacket\"),e._sendPacket(n),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!c())&&this._storeProcessingQueue.push({invoke:c,callback:o}),this},T.prototype.unsubscribe=function(){const e=this,t=new Array(arguments.length);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];let r=t.shift(),n=t.pop()||C,i=t.pop();\"string\"==typeof r&&(r=[r]),\"function\"!=typeof n&&(i=n,n=C);const o=d.validateTopics(r);if(null!==o)return m(n,new Error(\"Invalid topic \"+o)),this;if(e._checkDisconnecting(n))return this;const s=function(){const t=e._nextId();if(null===t)return y(\"No messageId left\"),!1;const o={cmd:\"unsubscribe\",qos:1,messageId:t};return\"string\"==typeof r?o.unsubscriptions=[r]:Array.isArray(r)&&(o.unsubscriptions=r),e.options.resubscribe&&o.unsubscriptions.forEach(function(t){delete e._resubscribeTopics[t]}),\"object\"==typeof i&&i.properties&&(o.properties=i.properties),e.outgoing[o.messageId]={volatile:!0,cb:n},y(\"unsubscribe: call _sendPacket\"),e._sendPacket(o),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,callback:n}),this},T.prototype.end=function(e,t,r){const n=this;function i(){y(\"end :: (%s) :: finish :: calling _cleanUp with force %s\",n.options.clientId,e),n._cleanUp(e,()=>{y(\"end :: finish :: calling process.nextTick on closeStores\"),b(function(){y(\"end :: closeStores: closing incoming and outgoing stores\"),n.disconnected=!0,n.incomingStore.close(function(e){n.outgoingStore.close(function(t){if(y(\"end :: closeStores: emitting end\"),n.emit(\"end\"),r){const n=e||t;y(\"end :: closeStores: invoking callback with args\"),r(n)}})}),n._deferredReconnect&&n._deferredReconnect()}.bind(n))},t)}return y(\"end :: (%s)\",this.options.clientId),null!=e&&\"boolean\"==typeof e||(r=t||C,t=e,e=!1,\"object\"!=typeof t&&(r=t,t=null,\"function\"!=typeof r&&(r=C))),\"object\"!=typeof t&&(r=t,t=null),y(\"end :: cb? %s\",!!r),r=r||C,this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(y(\"end :: (%s) :: calling finish in 10ms once outgoing is empty\",n.options.clientId),this.once(\"outgoingEmpty\",setTimeout.bind(null,i,10))):(y(\"end :: (%s) :: immediately calling finish\",n.options.clientId),i()),this)},T.prototype.removeOutgoingMessage=function(e){const t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},function(){t(new Error(\"Message removed\"))}),this},T.prototype.reconnect=function(e){y(\"client reconnect\");const t=this,r=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new o,t.outgoingStore=t.options.outgoingStore||new o,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},T.prototype._reconnect=function(){y(\"_reconnect: emitting reconnect to client\"),this.emit(\"reconnect\"),this.connected?(this.end(()=>{this._setupStream()}),y(\"client already connected. disconnecting first.\")):(y(\"_reconnect: calling _setupStream\"),this._setupStream())},T.prototype._setupReconnect=function(){const e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0?(this.reconnecting||(y(\"_setupReconnect :: emit `offline` state\"),this.emit(\"offline\"),y(\"_setupReconnect :: set `reconnecting` to `true`\"),this.reconnecting=!0),y(\"_setupReconnect :: setting reconnectTimer for %d ms\",e.options.reconnectPeriod),e.reconnectTimer=setInterval(function(){y(\"reconnectTimer :: reconnect triggered!\"),e._reconnect()},e.options.reconnectPeriod)):y(\"_setupReconnect :: doing nothing...\")},T.prototype._clearReconnect=function(){y(\"_clearReconnect : clearing reconnect timer\"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},T.prototype._cleanUp=function(e,t){const r=arguments[2];if(t&&(y(\"_cleanUp :: done callback provided for on stream close\"),this.stream.on(\"close\",t)),y(\"_cleanUp :: forced? %s\",e),e)0===this.options.reconnectPeriod&&this.options.clean&&(n=this.outgoing)&&(y(\"flush: queue exists? %b\",!!n),Object.keys(n).forEach(function(e){\"function\"==typeof n[e].cb&&(n[e].cb(new Error(\"Connection closed\")),delete n[e])})),y(\"_cleanUp :: (%s) :: destroying stream\",this.options.clientId),this.stream.destroy();else{const e=g({cmd:\"disconnect\"},r);y(\"_cleanUp :: (%s) :: call _sendPacket with disconnect packet\",this.options.clientId),this._sendPacket(e,m.bind(null,this.stream.end.bind(this.stream)))}var n;this.disconnecting||(y(\"_cleanUp :: client not disconnecting. Clearing and resetting reconnect.\"),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(y(\"_cleanUp :: clearing pingTimer\"),this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(y(\"_cleanUp :: (%s) :: removing stream `done` callback `close` listener\",this.options.clientId),this.stream.removeListener(\"close\",t),t())},T.prototype._sendPacket=function(e,t,r){y(\"_sendPacket :: (%s) ::  start\",this.options.clientId),r=r||C,t=t||C;const n=function(e,t){if(5===e.options.protocolVersion&&\"publish\"===t.cmd){let r;t.properties&&(r=t.properties.topicAlias);const n=t.topic.toString();if(e.topicAliasSend)if(r){if(0!==n.length&&(y(\"applyTopicAlias :: register topic: %s - alias: %d\",n,r),!e.topicAliasSend.put(n,r)))return y(\"applyTopicAlias :: error out of range. topic: %s - alias: %d\",n,r),new Error(\"Sending Topic Alias out of range\")}else 0!==n.length&&(e.options.autoAssignTopicAlias?(r=e.topicAliasSend.getAliasByTopic(n))?(t.topic=\"\",t.properties={...t.properties,topicAlias:r},y(\"applyTopicAlias :: auto assign(use) topic: %s - alias: %d\",n,r)):(r=e.topicAliasSend.getLruAlias(),e.topicAliasSend.put(n,r),t.properties={...t.properties,topicAlias:r},y(\"applyTopicAlias :: auto assign topic: %s - alias: %d\",n,r)):e.options.autoUseTopicAlias&&(r=e.topicAliasSend.getAliasByTopic(n))&&(t.topic=\"\",t.properties={...t.properties,topicAlias:r},y(\"applyTopicAlias :: auto use topic: %s - alias: %d\",n,r)));else if(r)return y(\"applyTopicAlias :: error out of range. topic: %s - alias: %d\",n,r),new Error(\"Sending Topic Alias out of range\")}}(this,e);if(n)t(n);else{if(!this.connected)return\"auth\"===e.cmd?(this._shiftPingInterval(),void S(this,e,t)):(y(\"_sendPacket :: client not connected. Storing packet offline.\"),void this._storePacket(e,t,r));switch(this._shiftPingInterval(),e.cmd){case\"publish\":break;case\"pubrel\":return void E(this,e,t,r);default:return void S(this,e,t)}switch(e.qos){case 2:case 1:E(this,e,t,r);break;case 0:default:S(this,e,t)}y(\"_sendPacket :: (%s) ::  end\",this.options.clientId)}},T.prototype._storePacket=function(e,t,r){y(\"_storePacket :: packet: %o\",e),y(\"_storePacket :: cb? %s\",!!t),r=r||C;let n=e;if(\"publish\"===n.cmd){const r=k(this,n=p(e));if(r)return t&&t(r)}0===(n.qos||0)&&this.queueQoSZero||\"publish\"!==n.cmd?this.queue.push({packet:n,cb:t}):n.qos>0?(t=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,function(e){if(e)return t&&t(e);r()})):t&&t(new Error(\"No connection to broker\"))},T.prototype._setupPingTimer=function(){y(\"_setupPingTimer :: keepalive %d (seconds)\",this.options.keepalive);const e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=f(function(){e._checkPing()},1e3*this.options.keepalive))},T.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},T.prototype._checkPing=function(){y(\"_checkPing :: checking ping...\"),this.pingResp?(y(\"_checkPing :: ping response received. Clearing flag and sending `pingreq`\"),this.pingResp=!1,this._sendPacket({cmd:\"pingreq\"})):(y(\"_checkPing :: calling _cleanUp with force true\"),this._cleanUp(!0))},T.prototype._handlePingresp=function(){this.pingResp=!0},T.prototype._handleConnack=function(e){y(\"_handleConnack\");const t=this.options,r=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,e.properties){if(e.properties.topicAliasMaximum){if(e.properties.topicAliasMaximum>65535)return void this.emit(\"error\",new Error(\"topicAliasMaximum from broker is out of range\"));e.properties.topicAliasMaximum>0&&(this.topicAliasSend=new a(e.properties.topicAliasMaximum))}e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)}if(0===r)this.reconnecting=!1,this._onConnect(e);else if(r>0){const e=new Error(\"Connection refused: \"+_[r]);e.code=r,this.emit(\"error\",e)}},T.prototype._handleAuth=function(e){const t=this.options.protocolVersion,r=5===t?e.reasonCode:e.returnCode;if(5!==t){const e=new Error(\"Protocol error: Auth packets are only supported in MQTT 5. Your version:\"+t);return e.code=r,void this.emit(\"error\",e)}const n=this;this.handleAuth(e,function(e,t){if(e)n.emit(\"error\",e);else if(24===r)n.reconnecting=!1,n._sendPacket(t);else{const t=new Error(\"Connection refused: \"+_[r]);e.code=r,n.emit(\"error\",t)}})},T.prototype.handleAuth=function(e,t){t()},T.prototype._handlePublish=function(e,t){y(\"_handlePublish: packet %o\",e),t=void 0!==t?t:C;let r=e.topic.toString();const n=e.payload,i=e.qos,o=e.messageId,s=this,a=this.options,l=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let t;if(e.properties&&(t=e.properties.topicAlias),void 0!==t)if(0===r.length){if(!(t>0&&t<=65535))return y(\"_handlePublish :: topic alias out of range. alias: %d\",t),void this.emit(\"error\",new Error(\"Received Topic Alias is out of range\"));{const e=this.topicAliasRecv.getTopicByAlias(t);if(!e)return y(\"_handlePublish :: unregistered topic alias. alias: %d\",t),void this.emit(\"error\",new Error(\"Received unregistered Topic Alias\"));y(\"_handlePublish :: topic complemented by alias. topic: %s - alias: %d\",r=e,t)}}else{if(!this.topicAliasRecv.put(r,t))return y(\"_handlePublish :: topic alias out of range. alias: %d\",t),void this.emit(\"error\",new Error(\"Received Topic Alias is out of range\"));y(\"_handlePublish :: registered topic: %s - alias: %d\",r,t)}}switch(y(\"_handlePublish: qos %d\",i),i){case 2:a.customHandleAcks(r,n,e,function(r,n){return r instanceof Error||(n=r,r=null),r?s.emit(\"error\",r):-1===l.indexOf(n)?s.emit(\"error\",new Error(\"Wrong reason code for pubrec\")):void(n?s._sendPacket({cmd:\"pubrec\",messageId:o,reasonCode:n},t):s.incomingStore.put(e,function(){s._sendPacket({cmd:\"pubrec\",messageId:o},t)}))});break;case 1:a.customHandleAcks(r,n,e,function(i,a){return i instanceof Error||(a=i,i=null),i?s.emit(\"error\",i):-1===l.indexOf(a)?s.emit(\"error\",new Error(\"Wrong reason code for puback\")):(a||s.emit(\"message\",r,n,e),void s.handleMessage(e,function(e){if(e)return t&&t(e);s._sendPacket({cmd:\"puback\",messageId:o,reasonCode:a},t)}))});break;case 0:this.emit(\"message\",r,n,e),this.handleMessage(e,t);break;default:y(\"_handlePublish: unknown QoS. Doing nothing.\")}},T.prototype.handleMessage=function(e,t){t()},T.prototype._handleAck=function(e){const t=e.messageId,r=e.cmd;let n=null;const i=this.outgoing[t]?this.outgoing[t].cb:null,o=this;let s;if(i){switch(y(\"_handleAck :: packet type\",r),r){case\"pubcomp\":case\"puback\":{const r=e.reasonCode;r&&r>0&&16!==r&&((s=new Error(\"Publish error: \"+_[r])).code=r,i(s,e)),delete this.outgoing[t],this.outgoingStore.del(e,i),this.messageIdProvider.deallocate(t),this._invokeStoreProcessingQueue();break}case\"pubrec\":{n={cmd:\"pubrel\",qos:2,messageId:t};const r=e.reasonCode;r&&r>0&&16!==r?((s=new Error(\"Publish error: \"+_[r])).code=r,i(s,e)):this._sendPacket(n);break}case\"suback\":delete this.outgoing[t],this.messageIdProvider.deallocate(t);for(let r=0;r<e.granted.length;r++)if(0!=(128&e.granted[r])){const e=this.messageIdToTopic[t];e&&e.forEach(function(e){delete o._resubscribeTopics[e]})}this._invokeStoreProcessingQueue(),i(null,e);break;case\"unsuback\":delete this.outgoing[t],this.messageIdProvider.deallocate(t),this._invokeStoreProcessingQueue(),i(null);break;default:o.emit(\"error\",new Error(\"unrecognized packet type\"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit(\"outgoingEmpty\")}else y(\"_handleAck :: Server sent an ack in error. Ignoring.\")},T.prototype._handlePubrel=function(e,t){y(\"handling pubrel packet\"),t=void 0!==t?t:C;const r=this,n={cmd:\"pubcomp\",messageId:e.messageId};r.incomingStore.get(e,function(e,i){e?r._sendPacket(n,t):(r.emit(\"message\",i.topic,i.payload,i),r.handleMessage(i,function(e){if(e)return t(e);r.incomingStore.del(i,C),r._sendPacket(n,t)}))})},T.prototype._handleDisconnect=function(e){this.emit(\"disconnect\",e)},T.prototype._nextId=function(){return this.messageIdProvider.allocate()},T.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},T.prototype._resubscribe=function(){y(\"_resubscribe\");const e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){y(\"_resubscribe: protocolVersion 5\");for(let t=0;t<e.length;t++){const r={};r[e[t]]=this._resubscribeTopics[e[t]],r.resubscribe=!0,this.subscribe(r,{properties:r[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},T.prototype._onConnect=function(e){if(this.disconnected)return void this.emit(\"connect\",e);const t=this;this.connackPacket=e,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function r(){let n=t.outgoingStore.createStream();function i(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function o(){n.destroy(),n=null,t._flushStoreProcessingQueue(),i()}t.once(\"close\",o),n.on(\"error\",function(e){i(),t._flushStoreProcessingQueue(),t.removeListener(\"close\",o),t.emit(\"error\",e)}),n.on(\"end\",function(){let n=!0;for(const e in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[e]){n=!1;break}n?(i(),t.removeListener(\"close\",o),t._invokeAllStoreProcessingQueue(),t.emit(\"connect\",e)):r()}),function e(){if(!n)return;t._storeProcessing=!0;const r=n.read(1);let i;r?t._packetIdsDuringStoreProcessing[r.messageId]?e():t.disconnecting||t.reconnectTimer?n.destroy&&n.destroy():(i=t.outgoing[r.messageId]?t.outgoing[r.messageId].cb:null,t.outgoing[r.messageId]={volatile:!1,cb:function(t,r){i&&i(t,r),e()}},t._packetIdsDuringStoreProcessing[r.messageId]=!0,t.messageIdProvider.register(r.messageId)?t._sendPacket(r):y(\"messageId: %d has already used.\",r.messageId)):n.once(\"readable\",e)}()}()},T.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1},T.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},T.prototype._flushStoreProcessingQueue=function(){for(const e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error(\"Connection closed\")),e.callback&&e.callback(new Error(\"Connection closed\"));this._storeProcessingQueue.splice(0)},t.exports=T}).call(this)}).call(this,e(\"_process\"),\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./default-message-id-provider\":7,\"./store\":8,\"./topic-alias-recv\":9,\"./topic-alias-send\":10,\"./validations\":11,_process:50,debug:18,events:22,inherits:24,\"mqtt-packet\":40,\"readable-stream\":69,reinterval:70,\"rfdc/default\":71,xtend:81}],2:[function(e,t,r){\"use strict\";const{Buffer:n}=e(\"buffer\"),i=e(\"readable-stream\").Transform,o=e(\"duplexify\");let s,a,l,u=!1;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error(\"Could not determine host. Specify host manually.\");const r=\"MQIsdp\"===t.protocolId&&3===t.protocolVersion?\"mqttv3.1\":\"mqtt\";!function(e){e.hostname||(e.hostname=\"localhost\"),e.path||(e.path=\"/\"),e.wsOptions||(e.wsOptions={})}(t);const c=function(e,t){const r=\"alis\"===e.protocol?\"wss\":\"ws\";let n=r+\"://\"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+\"://\"+e.hostname+\":\"+e.port+e.path),\"function\"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(t,e);return(s=t.my).connectSocket({url:c,protocols:r}),a=function(){const e=new i;return e._write=function(e,t,r){s.sendSocketMessage({data:e.buffer,success:function(){r()},fail:function(){r(new Error)}})},e._flush=function(e){s.closeSocket({success:function(){e()}})},e}(),l=o.obj(),u||(u=!0,s.onSocketOpen(function(){l.setReadable(a),l.setWritable(a),l.emit(\"connect\")}),s.onSocketMessage(function(e){if(\"string\"==typeof e.data){const t=n.from(e.data,\"base64\");a.push(t)}else{const t=new FileReader;t.addEventListener(\"load\",function(){let e=t.result;e=e instanceof ArrayBuffer?n.from(e):n.from(e,\"utf8\"),a.push(e)}),t.readAsArrayBuffer(e.data)}}),s.onSocketClose(function(){l.end(),l.destroy()}),s.onSocketError(function(e){l.destroy(e)})),l}},{buffer:17,duplexify:20,\"readable-stream\":69}],3:[function(e,t,r){\"use strict\";const n=e(\"net\"),i=e(\"debug\")(\"mqttjs:tcp\");t.exports=function(e,t){t.port=t.port||1883,t.hostname=t.hostname||t.host||\"localhost\";const r=t.port,o=t.hostname;return i(\"port %d and host %s\",r,o),n.createConnection(r,o)}},{debug:18,net:16}],4:[function(e,t,r){\"use strict\";const n=e(\"tls\"),i=e(\"net\"),o=e(\"debug\")(\"mqttjs:tls\");t.exports=function(e,t){t.port=t.port||8883,t.host=t.hostname||t.host||\"localhost\",0===i.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,o(\"port %d host %s rejectUnauthorized %b\",t.port,t.host,t.rejectUnauthorized);const r=n.connect(t);function s(n){t.rejectUnauthorized&&e.emit(\"error\",n),r.end()}return r.on(\"secureConnect\",function(){t.rejectUnauthorized&&!r.authorized?r.emit(\"error\",new Error(\"TLS not authorized\")):r.removeListener(\"error\",s)}),r.on(\"error\",s),r}},{debug:18,net:16,tls:16}],5:[function(e,t,r){(function(r){(function(){\"use strict\";const{Buffer:n}=e(\"buffer\"),i=e(\"ws\"),o=e(\"debug\")(\"mqttjs:ws\"),s=e(\"duplexify\"),a=e(\"readable-stream\").Transform,l=[\"rejectUnauthorized\",\"ca\",\"cert\",\"key\",\"pfx\",\"passphrase\"],u=void 0!==r&&\"browser\"===r.title||\"function\"==typeof __webpack_require__;function c(e,t){let r=e.protocol+\"://\"+e.hostname+\":\"+e.port+e.path;return\"function\"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function h(e){const t=e;return e.hostname||(t.hostname=\"localhost\"),e.port||(\"wss\"===e.protocol?t.port=443:t.port=80),e.path||(t.path=\"/\"),e.wsOptions||(t.wsOptions={}),u||\"wss\"!==e.protocol||l.forEach(function(r){Object.prototype.hasOwnProperty.call(e,r)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,r)&&(t.wsOptions[r]=e[r])}),t}t.exports=u?function(e,t){let r;o(\"browserStreamBuilder\");const i=function(e){const t=h(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if(\"undefined\"==typeof document)throw new Error(\"Could not determine host. Specify host manually.\");const e=new URL(document.URL);t.hostname=e.hostname,t.port||(t.port=e.port)}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,l=t.browserBufferTimeout||1e3,u=!t.objectMode,f=function(e,t){const r=\"MQIsdp\"===t.protocolId&&3===t.protocolVersion?\"mqttv3.1\":\"mqtt\",n=c(t,e),i=new WebSocket(n,[r]);return i.binaryType=\"arraybuffer\",i}(e,t),p=function(e,t,r){const n=new a({objectModeMode:e.objectMode});return n._write=t,n._flush=r,n}(t,function e(t,r,o){f.bufferedAmount>i&&setTimeout(e,l,t,r,o),u&&\"string\"==typeof t&&(t=n.from(t,\"utf8\"));try{f.send(t)}catch(e){return o(e)}o()},function(e){f.close(),e()});t.objectMode||(p._writev=v),p.on(\"close\",()=>{f.close()});const d=void 0!==f.addEventListener;function g(){r.setReadable(p),r.setWritable(p),r.emit(\"connect\")}function y(){r.end(),r.destroy()}function b(e){r.destroy(e)}function m(e){let t=e.data;t=t instanceof ArrayBuffer?n.from(t):n.from(t,\"utf8\"),p.push(t)}function v(e,t){const r=new Array(e.length);for(let t=0;t<e.length;t++)\"string\"==typeof e[t].chunk?r[t]=n.from(e[t],\"utf8\"):r[t]=e[t].chunk;this._write(n.concat(r),\"binary\",t)}return f.readyState===f.OPEN?r=p:(r=r=s(void 0,void 0,t),t.objectMode||(r._writev=v),d?f.addEventListener(\"open\",g):f.onopen=g),r.socket=f,d?(f.addEventListener(\"close\",y),f.addEventListener(\"error\",b),f.addEventListener(\"message\",m)):(f.onclose=y,f.onerror=b,f.onmessage=m),r}:function(e,t){o(\"streamBuilder\");const r=h(t),n=c(r,e),s=function(e,t,r){o(\"createWebSocket\"),o(\"protocol: \"+r.protocolId+\" \"+r.protocolVersion);const n=\"MQIsdp\"===r.protocolId&&3===r.protocolVersion?\"mqttv3.1\":\"mqtt\";return o(\"creating new Websocket for url: \"+t+\" and protocol: \"+n),new i(t,[n],r.wsOptions)}(0,n,r),a=i.createWebSocketStream(s,r.wsOptions);return a.url=n,s.on(\"close\",()=>{a.destroy()}),a}}).call(this)}).call(this,e(\"_process\"))},{_process:50,buffer:17,debug:18,duplexify:20,\"readable-stream\":69,ws:80}],6:[function(e,t,r){\"use strict\";const{Buffer:n}=e(\"buffer\"),i=e(\"readable-stream\").Transform,o=e(\"duplexify\");let s,a,l;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error(\"Could not determine host. Specify host manually.\");const r=\"MQIsdp\"===t.protocolId&&3===t.protocolVersion?\"mqttv3.1\":\"mqtt\";!function(e){e.hostname||(e.hostname=\"localhost\"),e.path||(e.path=\"/\"),e.wsOptions||(e.wsOptions={})}(t);const u=function(e,t){const r=\"wxs\"===e.protocol?\"wss\":\"ws\";let n=r+\"://\"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+\"://\"+e.hostname+\":\"+e.port+e.path),\"function\"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(t,e);s=wx.connectSocket({url:u,protocols:[r]}),a=function(){const e=new i;return e._write=function(e,t,r){s.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){s.close({success:function(){e()}})},e}(),(l=o.obj())._destroy=function(e,t){s.close({success:function(){t&&t(e)}})};const c=l.destroy;return l.destroy=function(){l.destroy=c;const e=this;setTimeout(function(){s.close({fail:function(){e._destroy(new Error)}})},0)}.bind(l),s.onOpen(function(){l.setReadable(a),l.setWritable(a),l.emit(\"connect\")}),s.onMessage(function(e){let t=e.data;t=t instanceof ArrayBuffer?n.from(t):n.from(t,\"utf8\"),a.push(t)}),s.onClose(function(){l.end(),l.destroy()}),s.onError(function(e){l.destroy(new Error(e.errMsg))}),l}},{buffer:17,duplexify:20,\"readable-stream\":69}],7:[function(e,t,r){\"use strict\";function n(){if(!(this instanceof n))return new n;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}n.prototype.allocate=function(){const e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},n.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},n.prototype.register=function(e){return!0},n.prototype.deallocate=function(e){},n.prototype.clear=function(){},t.exports=n},{}],8:[function(e,t,r){\"use strict\";const n=e(\"xtend\"),i=e(\"readable-stream\").Readable,o={objectMode:!0},s={clean:!0};function a(e){if(!(this instanceof a))return new a(e);this.options=e||{},this.options=n(s,e),this._inflights=new Map}a.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},a.prototype.createStream=function(){const e=new i(o),t=[];let r=!1,n=0;return this._inflights.forEach(function(e,r){t.push(e)}),e._read=function(){!r&&n<t.length?this.push(t[n++]):this.push(null)},e.destroy=function(){if(r)return;const e=this;r=!0,setTimeout(function(){e.emit(\"close\")},0)},e},a.prototype.del=function(e,t){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error(\"missing packet\")),this},a.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error(\"missing packet\")),this},a.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},t.exports=a},{\"readable-stream\":69,xtend:81}],9:[function(e,t,r){\"use strict\";function n(e){if(!(this instanceof n))return new n(e);this.aliasToTopic={},this.max=e}n.prototype.put=function(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)},n.prototype.getTopicByAlias=function(e){return this.aliasToTopic[e]},n.prototype.clear=function(){this.aliasToTopic={}},t.exports=n},{}],10:[function(e,t,r){\"use strict\";const n=e(\"lru-cache\"),i=e(\"number-allocator\").NumberAllocator;function o(e){if(!(this instanceof o))return new o(e);e>0&&(this.aliasToTopic=new n({max:e}),this.topicToAlias={},this.numberAllocator=new i(1,e),this.max=e,this.length=0)}o.prototype.put=function(e,t){if(0===t||t>this.max)return!1;const r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.length,!0},o.prototype.getTopicByAlias=function(e){return this.aliasToTopic.get(e)},o.prototype.getAliasByTopic=function(e){const t=this.topicToAlias[e];return void 0!==t&&this.aliasToTopic.get(t),t},o.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},o.prototype.getLruAlias=function(){const e=this.numberAllocator.firstVacant();return e||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=o},{\"lru-cache\":37,\"number-allocator\":46}],11:[function(e,t,r){\"use strict\";function n(e){const t=e.split(\"/\");for(let e=0;e<t.length;e++)if(\"+\"!==t[e]){if(\"#\"===t[e])return e===t.length-1;if(-1!==t[e].indexOf(\"+\")||-1!==t[e].indexOf(\"#\"))return!1}return!0}t.exports={validateTopics:function(e){if(0===e.length)return\"empty_topic_list\";for(let t=0;t<e.length;t++)if(!n(e[t]))return e[t];return null}}},{}],12:[function(e,t,r){(function(r){(function(){\"use strict\";const n=e(\"../client\"),i=e(\"../store\"),o=e(\"url\"),s=e(\"xtend\"),a=e(\"debug\")(\"mqttjs\"),l={};function u(e,t){if(a(\"connecting to an MQTT broker...\"),\"object\"!=typeof e||t||(t=e,e=null),t=t||{},e){const r=o.parse(e,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(t=s(r,t)).protocol)throw new Error(\"Missing protocol\");t.protocol=t.protocol.replace(/:$/,\"\")}if(function(e){let t;e.auth&&((t=e.auth.match(/^(.+):(.+)$/))?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&\"string\"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error(\"Missing secure protocol key\");if(-1===[\"mqtts\",\"wss\",\"wxs\",\"alis\"].indexOf(t.protocol))switch(t.protocol){case\"mqtt\":t.protocol=\"mqtts\";break;case\"ws\":t.protocol=\"wss\";break;case\"wx\":t.protocol=\"wxs\";break;case\"ali\":t.protocol=\"alis\";break;default:throw new Error('Unknown protocol for secure connection: \"'+t.protocol+'\"!')}}if(!l[t.protocol]){const e=-1!==[\"mqtts\",\"wss\"].indexOf(t.protocol);t.protocol=[\"mqtt\",\"mqtts\",\"ws\",\"wss\",\"wx\",\"wxs\",\"ali\",\"alis\"].filter(function(t,r){return(!e||r%2!=0)&&\"function\"==typeof l[t]})[0]}if(!1===t.clean&&!t.clientId)throw new Error(\"Missing clientId for unclean clients\");t.protocol&&(t.defaultProtocol=t.protocol);const r=new n(function(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),a(\"calling streambuilder for\",t.protocol),l[t.protocol](e,t)},t);return r.on(\"error\",function(){}),r}void 0!==r&&\"browser\"!==r.title||\"function\"!=typeof __webpack_require__?(l.mqtt=e(\"./tcp\"),l.tcp=e(\"./tcp\"),l.ssl=e(\"./tls\"),l.tls=e(\"./tls\"),l.mqtts=e(\"./tls\")):(l.wx=e(\"./wx\"),l.wxs=e(\"./wx\"),l.ali=e(\"./ali\"),l.alis=e(\"./ali\")),l.ws=e(\"./ws\"),l.wss=e(\"./ws\"),t.exports=u,t.exports.connect=u,t.exports.MqttClient=n,t.exports.Store=i}).call(this)}).call(this,e(\"_process\"))},{\"../client\":1,\"../store\":8,\"./ali\":2,\"./tcp\":3,\"./tls\":4,\"./ws\":5,\"./wx\":6,_process:50,debug:18,url:76,xtend:81}],13:[function(e,t,r){\"use strict\";r.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=u(e),s=n[0],a=n[1],l=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),c=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+\"==\")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+\"=\"));return o.join(\"\")};for(var n=[],i=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,l=s.length;a<l;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=e.indexOf(\"=\");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},{}],14:[function(e,t,r){\"use strict\";const{Buffer:n}=e(\"buffer\"),i=Symbol.for(\"BufferList\");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return\"number\"==typeof e&&e<0&&(e+=this.length),\"number\"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if((\"number\"!=typeof r||r<0)&&(r=0),(\"number\"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||n.alloc(0);if(i<=0)return e||n.alloc(0);const o=!!e,s=this._offset(r),a=i-r;let l=a,u=o&&t||0,c=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(l<=this._bufs[s[0]].length-c)return o?this._bufs[s[0]].copy(e,t,c,c+l):this._bufs[s[0]].slice(c,c+l);o||(e=n.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const r=this._bufs[t].length-c;if(!(l>r)){this._bufs[t].copy(e,u,c,c+l),u+=r;break}this._bufs[t].copy(e,u,c),u+=r,l-=r,c&&(c=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t=\"number\"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else\"number\"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&\"string\"==typeof t&&(r=t,t=void 0),\"function\"==typeof e||Array.isArray(e))throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(\"number\"==typeof e?e=n.from([e]):\"string\"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},t.exports=o},{buffer:17}],15:[function(e,t,r){\"use strict\";const n=e(\"readable-stream\").Duplex,i=e(\"inherits\"),o=e(\"./BufferList\");function s(e){if(!(this instanceof s))return new s(e);if(\"function\"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on(\"pipe\",function(e){e.on(\"error\",t)}),this.on(\"unpipe\",function(e){e.removeListener(\"error\",t)}),e=null}o._init.call(this,e),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,r){this._appendBuffer(e),\"function\"==typeof r&&r()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=o},{\"./BufferList\":14,inherits:24,\"readable-stream\":69}],16:[function(e,t,r){},{}],17:[function(e,t,r){(function(t){(function(){\"use strict\";var t=e(\"base64-js\"),n=e(\"ieee754\");r.Buffer=s,r.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,r){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new TypeError('The \"string\" argument must be of type string. Received type number');return u(e)}return a(e,t,r)}function a(e,t,r){if(\"string\"==typeof e)return function(e,t){\"string\"==typeof t&&\"\"!==t||(t=\"utf8\");if(!s.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);var r=0|f(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('\"length\" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=s.prototype,n}(e,t,r);if(\"number\"==typeof e)throw new TypeError('The \"value\" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);var i=function(e){if(s.isBuffer(e)){var t=0|h(e.length),r=o(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(void 0!==e.length)return\"number\"!=typeof e.length||D(e.length)?o(0):c(e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive](\"string\"),t,r);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e)}function l(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}function u(e){return l(e),o(e<0?0:0|h(e))}function c(e){for(var t=e.length<0?0:0|h(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e){if(e>=i)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+i.toString(16)+\" bytes\");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if(\"string\"!=typeof e)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":return L(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return j(e).length;default:if(i)return n?-1:L(e).length;t=(\"\"+t).toLowerCase(),i=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function d(e,t,r,n,i){if(0===e.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),D(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if(\"number\"==typeof t)return t&=255,\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function g(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){h=!1;break}if(h)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(D(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return U(L(t,e.length-r),e,r,n)}function m(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function v(e,t,r,n){return m(e,t,r,n)}function w(e,t,r,n){return U(j(t),e,r,n)}function _(e,t,r,n){return U(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function k(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var r=\"\",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=E));return r}(n)}r.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(s.prototype,\"parent\",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,\"offset\",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),\"undefined\"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,r){return a(e,t,r)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?o(e):void 0!==t?\"string\"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(q(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(q(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('\"list\" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?\"\":0===arguments.length?S(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return x(this,t,r);case\"utf8\":case\"utf-8\":return S(this,t,r);case\"ascii\":return C(this,t,r);case\"latin1\":case\"binary\":return T(this,t,r);case\"base64\":return k(this,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return A(this,t,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),n=!0}}.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e=\"\",t=r.INSPECT_MAX_BYTES;return e=this.toString(\"hex\",0,t).replace(/(.{2})/g,\"$1 \").trim(),this.length>t&&(e+=\" ... \"),\"<Buffer \"+e+\">\"},s.prototype.compare=function(e,t,r,n,i){if(q(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,l=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return d(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return d(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n=\"utf8\",r=this.length,t=0;else if(void 0===r&&\"string\"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var o=!1;;)switch(n){case\"hex\":return y(this,e,t,r);case\"utf8\":case\"utf-8\":return b(this,e,t,r);case\"ascii\":return m(this,e,t,r);case\"latin1\":case\"binary\":return v(this,e,t,r);case\"base64\":return w(this,e,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return _(this,e,t,r);default:if(o)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function C(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=t;o<r;++o)i+=N(e[o]);return i}function A(e,t,r){for(var n=e.slice(t,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>r)throw new RangeError(\"Trying to access beyond buffer length\")}function P(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>e.length)throw new RangeError(\"Index out of range\")}function O(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function B(e,t,r,i,o){return t=+t,r>>>=0,o||O(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function R(e,t,r,i,o){return t=+t,r>>>=0,o||O(e,0,r,8),n.write(e,t,r,i,52,8),r+8}s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=s.prototype,n},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),n.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),n.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),n.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),n.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||P(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return R(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return R(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},s.prototype.fill=function(e,t,r,n){if(\"string\"==typeof e){if(\"string\"==typeof t?(n=t,t=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!s.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n);if(1===e.length){var i=e.charCodeAt(0);(\"utf8\"===n&&i<128||\"latin1\"===n)&&(e=i)}}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError(\"Out of range index\");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),l=a.length;if(0===l)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(o=0;o<r-t;++o)this[o+t]=a[o%l]}return this};var M=/[^+/0-9A-Za-z-_]/g;function N(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function L(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(e){return t.toByteArray(function(e){if((e=(e=e.split(\"=\")[0]).trim().replace(M,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function D(e){return e!=e}}).call(this)}).call(this,e(\"buffer\").Buffer)},{\"base64-js\":13,buffer:17,ieee754:23}],18:[function(e,t,r){(function(n){(function(){r.formatArgs=function(e){if(e[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+e[0]+(this.useColors?\"%c \":\" \")+\"+\"+t.exports.humanize(this.diff),!this.useColors)return;const r=\"color: \"+this.color;e.splice(1,0,r,\"color: inherit\");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,e=>{\"%%\"!==e&&\"%c\"===e&&(i=++n)}),e.splice(i,0,r)},r.save=function(e){try{e?r.storage.setItem(\"debug\",e):r.storage.removeItem(\"debug\")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem(\"debug\")}catch(e){}!e&&void 0!==n&&\"env\"in n&&(e=n.env.DEBUG);return e},r.useColors=function(){if(\"undefined\"!=typeof window&&window.process&&(\"renderer\"===window.process.type||window.process.__nwjs))return!0;if(\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))return!1;return\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),r.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],r.log=console.debug||console.log||(()=>{}),t.exports=e(\"./common\")(r);const{formatters:i}=t.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}}}).call(this)}).call(this,e(\"_process\"))},{\"./common\":19,_process:50}],19:[function(e,t,r){t.exports=function(t){function r(e){let t,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(t||i);n.diff=o,n.prev=t,n.curr=i,t=i,e[0]=r.coerce(e[0]),\"string\"!=typeof e[0]&&e.unshift(\"%O\");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if(\"%%\"===t)return\"%\";s++;const o=r.formatters[i];if(\"function\"==typeof o){const r=e[s];t=o.call(n,r),e.splice(s,1),s--}return t}),r.formatArgs.call(n,e),(n.log||r.log).apply(n,e)}return a.namespace=e,a.useColors=r.useColors(),a.color=r.selectColor(e),a.extend=n,a.destroy=r.destroy,Object.defineProperty(a,\"enabled\",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==r.namespaces&&(i=r.namespaces,o=r.enabled(e)),o),set:e=>{s=e}}),\"function\"==typeof r.init&&r.init(a),a}function n(e,t){const n=r(this.namespace+(void 0===t?\":\":t)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(i),...r.skips.map(i).map(e=>\"-\"+e)].join(\",\");return r.enable(\"\"),e},r.enable=function(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(\"-\"===(e=n[t].replace(/\\*/g,\".*?\"))[0]?r.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):r.names.push(new RegExp(\"^\"+e+\"$\")))},r.enabled=function(e){if(\"*\"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e(\"ms\"),r.destroy=function(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")},Object.keys(t).forEach(e=>{r[e]=t[e]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return r.colors[Math.abs(t)%r.colors.length]},r.enable(r.load()),r}},{ms:45}],20:[function(e,t,r){(function(r,n){(function(){var i=e(\"readable-stream\"),o=e(\"end-of-stream\"),s=e(\"inherits\"),a=e(\"stream-shift\"),l=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),u=function(e,t){e._corked?e.once(\"uncork\",t):t()},c=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,\"premature close\"===r.message?null:r):t&&!e._ended&&e.end()}},h=function(){},f=function(e,t,r){if(!(this instanceof f))return new f(e,t,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};s(f,i.Duplex),f.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new f(e,t,r)},f.prototype.cork=function(){1==++this._corked&&this.emit(\"cork\")},f.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit(\"uncork\")},f.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,n=o(e,{writable:!0,readable:!1},c(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on(\"drain\",i),this._unwrite=function(){t._writable.removeListener(\"drain\",i),n()},this.uncork()}else this.end()},f.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=o(e,{writable:!1,readable:!0},c(this)),s=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on(\"readable\",s),this._readable2.on(\"end\",a),this._unread=function(){r._readable2.removeListener(\"readable\",s),r._readable2.removeListener(\"end\",a),n()},this._forward()}},f.prototype._read=function(){this._drained=!0,this._forward()},f.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},f.prototype.destroy=function(e,t){if(t||(t=h),this.destroyed)return t(null);this.destroyed=!0;var n=this;r.nextTick(function(){n._destroy(e),t(null)})},f.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit(\"error\",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit(\"close\")},f.prototype._write=function(e,t,r){if(!this.destroyed)return this._corked?u(this,this._write.bind(this,e,t,r)):e===l?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:this.destroyed||r()):r()},f.prototype._finish=function(e){var t=this;this.emit(\"preend\"),u(this,function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit(\"prefinish\"),u(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()})},f.prototype.end=function(e,t,r){return\"function\"==typeof e?this.end(null,null,e):\"function\"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this._writableState.destroyed||this.write(l),i.Writable.prototype.end.call(this,r))},t.exports=f}).call(this)}).call(this,e(\"_process\"),e(\"buffer\").Buffer)},{_process:50,buffer:17,\"end-of-stream\":21,inherits:24,\"readable-stream\":69,\"stream-shift\":74}],21:[function(e,t,r){(function(r){(function(){var n=e(\"once\"),i=function(){},o=function(e,t,s){if(\"function\"==typeof t)return o(e,null,t);t||(t={}),s=n(s||i);var a=e._writableState,l=e._readableState,u=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,h=!1,f=function(){e.writable||p()},p=function(){c=!1,u||s.call(e)},d=function(){u=!1,c||s.call(e)},g=function(t){s.call(e,t?new Error(\"exited with error code: \"+t):null)},y=function(t){s.call(e,t)},b=function(){r.nextTick(m)},m=function(){if(!h)return(!u||l&&l.ended&&!l.destroyed)&&(!c||a&&a.ended&&!a.destroyed)?void 0:s.call(e,new Error(\"premature close\"))},v=function(){e.req.on(\"finish\",p)};return!function(e){return e.setHeader&&\"function\"==typeof e.abort}(e)?c&&!a&&(e.on(\"end\",f),e.on(\"close\",f)):(e.on(\"complete\",p),e.on(\"abort\",b),e.req?v():e.on(\"request\",v)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on(\"exit\",g),e.on(\"end\",d),e.on(\"finish\",p),!1!==t.error&&e.on(\"error\",y),e.on(\"close\",b),function(){h=!0,e.removeListener(\"complete\",p),e.removeListener(\"abort\",b),e.removeListener(\"request\",v),e.req&&e.req.removeListener(\"finish\",p),e.removeListener(\"end\",f),e.removeListener(\"close\",f),e.removeListener(\"finish\",p),e.removeListener(\"exit\",g),e.removeListener(\"end\",d),e.removeListener(\"error\",y),e.removeListener(\"close\",b)}};t.exports=o}).call(this)}).call(this,e(\"_process\"))},{_process:50,once:48}],22:[function(e,t,r){var n=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,\"_events\")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,\"x\",{value:0}),a=0===u.x}catch(e){a=!1}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,r,i){var o,s,a;if(\"function\"!=typeof r)throw new TypeError('\"listener\" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit(\"newListener\",t,r.listener?r.listener:r),s=e._events),a=s[t]):(s=e._events=n(null),e._eventsCount=0),a){if(\"function\"==typeof a?a=s[t]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),!a.warned&&(o=c(e))&&o>0&&a.length>o){a.warned=!0;var l=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+' \"'+String(t)+'\" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name=\"MaxListenersExceededWarning\",l.emitter=e,l.type=t,l.count=a.length,\"object\"==typeof console&&console.warn&&console.warn(\"%s: %s\",l.name,l.message)}}else a=s[t]=r,++e._eventsCount;return e}function f(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=o.call(f,n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(!n)return[];var i=n[t];return i?\"function\"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length):[]}function g(e){var t=this._events;if(t){var r=t[e];if(\"function\"==typeof r)return 1;if(r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}a?Object.defineProperty(s,\"defaultMaxListeners\",{enumerable:!0,get:function(){return l},set:function(e){if(\"number\"!=typeof e||e<0||e!=e)throw new TypeError('\"defaultMaxListeners\" must be a positive number');l=e}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||isNaN(e))throw new TypeError('\"n\" argument must be a positive number');return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){var t,r,n,i,o,s,a=\"error\"===e;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled \"error\" event. ('+t+\")\");throw l.context=t,l}if(!(r=s[e]))return!1;var u=\"function\"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=y(e,n),o=0;o<n;++o)i[o].call(r)}(r,u,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=y(e,i),s=0;s<i;++s)o[s].call(r,n)}(r,u,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,s=y(e,o),a=0;a<o;++a)s[a].call(r,n,i)}(r,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var s=e.length,a=y(e,s),l=0;l<s;++l)a[l].call(r,n,i,o)}(r,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=y(e,i),s=0;s<i;++s)o[s].apply(r,n)}(r,u,this,i)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){if(\"function\"!=typeof t)throw new TypeError('\"listener\" argument must be a function');return this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if(\"function\"!=typeof t)throw new TypeError('\"listener\" argument must be a function');return this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,i,o,s,a;if(\"function\"!=typeof t)throw new TypeError('\"listener\" argument must be a function');if(!(i=this._events))return this;if(!(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=n(null):(delete i[e],i.removeListener&&this.emit(\"removeListener\",e,r.listener||t));else if(\"function\"!=typeof r){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,o=s;break}if(o<0)return this;0===o?r.shift():function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,o),1===r.length&&(i[e]=r[0]),i.removeListener&&this.emit(\"removeListener\",e,a||t)}return this},s.prototype.removeAllListeners=function(e){var t,r,o;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=n(null):delete r[e]),this;if(0===arguments.length){var s,a=i(r);for(o=0;o<a.length;++o)\"removeListener\"!==(s=a[o])&&this.removeAllListeners(s);return this.removeAllListeners(\"removeListener\"),this._events=n(null),this._eventsCount=0,this}if(\"function\"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],23:[function(e,t,r){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,f=r?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+p]=255&s,p+=d,s/=256,u-=8);e[r+p-d]|=128*g}},{}],24:[function(e,t,r){\"function\"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],25:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var n=function(){function e(e,t){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=e,this.value=t}return e.prototype.rotateLeft=function(){var e=this.parent,t=this.brother,r=this.leftChild,n=this.rightChild;if(!n)throw new Error(\"unknown error\");var i=n.leftChild,o=n.rightChild;return e&&(e.leftChild===this?e.leftChild=n:e.rightChild===this&&(e.rightChild=n)),n.parent=e,n.brother=t,n.leftChild=this,n.rightChild=o,t&&(t.brother=n),this.parent=n,this.brother=o,this.leftChild=r,this.rightChild=i,o&&(o.parent=n,o.brother=this),r&&(r.parent=this,r.brother=i),i&&(i.parent=this,i.brother=r),n},e.prototype.rotateRight=function(){var e=this.parent,t=this.brother,r=this.leftChild;if(!r)throw new Error(\"unknown error\");var n=this.rightChild,i=r.leftChild,o=r.rightChild;return e&&(e.leftChild===this?e.leftChild=r:e.rightChild===this&&(e.rightChild=r)),r.parent=e,r.brother=t,r.leftChild=i,r.rightChild=this,t&&(t.brother=r),i&&(i.parent=r,i.brother=this),this.parent=r,this.brother=i,this.leftChild=o,this.rightChild=n,o&&(o.parent=this,o.brother=n),n&&(n.parent=this,n.brother=o),r},e.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error(\"can only remove leaf node\");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},e.TreeNodeColorType={red:!0,black:!1},e}();Object.freeze(n),r.default=n},{}],26:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function i(e){var t=this;void 0===e&&(e=[]);var r=[],o=0,s=0,a=0,l=0,u=0,c=0;this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){o=a=s=l=u=c=0,f.call(this,i.bucketSize),c=0},this.front=function(){return r[o][s]},this.back=function(){return r[a][l]},this.forEach=function(e){if(!this.empty()){var t=0;if(o!==a){for(u=s;u<i.bucketSize;++u)e(r[o][u],t++);for(u=o+1;u<a;++u)for(var n=0;n<i.bucketSize;++n)e(r[u][n],t++);for(u=0;u<=l;++u)e(r[a][u],t++)}else for(var u=s;u<=l;++u)e(r[o][u],t++)}};var h=function(e){var t=o*i.bucketSize+s,r=t+e,n=a*i.bucketSize+l;if(r<t||r>n)throw new Error(\"pos should more than 0 and less than queue's size\");return{curNodeBucketIndex:Math.floor(r/i.bucketSize),curNodePointerIndex:r%i.bucketSize}};this.getElementByPos=function(e){var t=h(e),n=t.curNodeBucketIndex,i=t.curNodePointerIndex;return r[n][i]},this.eraseElementByPos=function(e){var t=this;if(e<0||e>c)throw new Error(\"pos should more than 0 and less than queue's size\");if(0===e)this.popFront();else if(e===this.size())this.popBack();else{for(var r=[],n=e+1;n<c;++n)r.push(this.getElementByPos(n));this.cut(e),this.popBack(),r.forEach(function(e){return t.pushBack(e)})}},this.eraseElementByValue=function(e){if(!this.empty()){var t=[];this.forEach(function(r){r!==e&&t.push(r)});for(var r=t.length,n=0;n<r;++n)this.setElementByPos(n,t[n]);this.cut(r-1)}};var f=function(e){for(var t=[],n=e*i.sigma,h=Math.max(Math.ceil(n/i.bucketSize),2),f=0;f<h;++f)t.push(new Array(i.bucketSize));var p=Math.ceil(e/i.bucketSize),d=Math.floor(h/2)-Math.floor(p/2),g=d,y=0;if(this.size())for(f=0;f<p;++f){for(var b=0;b<i.bucketSize;++b)if(t[d+f][b]=this.front(),this.popFront(),this.empty()){g=d+f,y=b;break}if(this.empty())break}r=t,o=d,s=0,a=g,l=y,u=h,c=e};this.pushBack=function(e){this.empty()||(a===u-1&&l===i.bucketSize-1&&f.call(this,this.size()),l<i.bucketSize-1?++l:a<u-1&&(++a,l=0)),++c,r[a][l]=e},this.popBack=function(){this.empty()||(1!==this.size()&&(l>0?--l:o<a&&(--a,l=i.bucketSize-1)),c>0&&--c)},this.setElementByPos=function(e,t){var n=h(e),i=n.curNodeBucketIndex,o=n.curNodePointerIndex;r[i][o]=t},this.insert=function(e,t,r){var n=this;if(void 0===r&&(r=1),0===e)for(;r--;)this.pushFront(t);else if(e===this.size())for(;r--;)this.pushBack(t);else{for(var i=[],o=e;o<c;++o)i.push(this.getElementByPos(o));this.cut(e-1);for(o=0;o<r;++o)this.pushBack(t);i.forEach(function(e){return n.pushBack(e)})}},this.find=function(e){if(o===a){for(var t=s;t<=l;++t)if(r[o][t]===e)return!0;return!1}for(t=s;t<i.bucketSize;++t)if(r[o][t]===e)return!0;for(t=o+1;t<a;++t)for(var n=0;n<i.bucketSize;++n)if(r[t][n]===e)return!0;for(t=0;t<=l;++t)if(r[a][t]===e)return!0;return!1},this.reverse=function(){for(var e=0,t=c-1;e<t;){var r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),++e,--t}},this.unique=function(){if(!this.empty()){var e=[],t=this.front();this.forEach(function(r,n){0!==n&&r===t||(e.push(r),t=r)});for(var r=0;r<c;++r)this.setElementByPos(r,e[r]);this.cut(e.length-1)}},this.sort=function(e){var t=[];this.forEach(function(e){t.push(e)}),t.sort(e);for(var r=0;r<c;++r)this.setElementByPos(r,t[r])},this.pushFront=function(e){this.empty()||(0===o&&0===s&&f.call(this,this.size()),s>0?--s:o>0&&(--o,s=i.bucketSize-1)),++c,r[o][s]=e},this.popFront=function(){this.empty()||(1!==this.size()&&(s<i.bucketSize-1?++s:o<a&&(++o,s=0)),c>0&&--c)},this.shrinkToFit=function(){var e=this,t=[];this.forEach(function(e){t.push(e)});var n=t.length;r=[];for(var o=Math.ceil(n/i.bucketSize),s=0;s<o;++s)r.push(new Array(i.bucketSize));this.clear(),t.forEach(function(t){return e.pushBack(t)})},this.cut=function(e){if(e<0)this.clear();else{var t=h(e),r=t.curNodeBucketIndex,n=t.curNodePointerIndex;a=r,l=n,c=e+1}},this[Symbol.iterator]=function(){return function(){var e,t;return n(this,function(n){switch(n.label){case 0:if(0===c)return[2];if(o!==a)return[3,5];t=s,n.label=1;case 1:return t<=l?[4,r[o][t]]:[3,4];case 2:n.sent(),n.label=3;case 3:return++t,[3,1];case 4:return[2];case 5:t=s,n.label=6;case 6:return t<i.bucketSize?[4,r[o][t]]:[3,9];case 7:n.sent(),n.label=8;case 8:return++t,[3,6];case 9:t=o+1,n.label=10;case 10:if(!(t<a))return[3,15];e=0,n.label=11;case 11:return e<i.bucketSize?[4,r[t][e]]:[3,14];case 12:n.sent(),n.label=13;case 13:return++e,[3,11];case 14:return++t,[3,10];case 15:t=0,n.label=16;case 16:return t<=l?[4,r[a][t]]:[3,19];case 17:n.sent(),n.label=18;case 18:return++t,[3,16];case 19:return[2]}})}()},function(){var n=i.bucketSize;e.size?n=e.size():e.length&&(n=e.length);var s=n*i.sigma;u=Math.ceil(s/i.bucketSize),u=Math.max(u,3);for(var l=0;l<u;++l)r.push(new Array(i.bucketSize));var c=Math.ceil(n/i.bucketSize);o=Math.floor(u/2)-Math.floor(c/2),a=o,e.forEach(function(e){return t.pushBack(e)})}(),Object.freeze(this)}Object.defineProperty(r,\"__esModule\",{value:!0}),i.sigma=3,i.bucketSize=5e3,Object.freeze(i),r.default=i},{}],27:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(r,\"__esModule\",{value:!0});var o=e(\"../LinkList/LinkList\"),s=e(\"../Map/Map\");function a(e,t,r){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=a.initSize),r=r||function(e){var t,r,n=0,o=\"\";if(\"number\"==typeof e)n=((n=Math.floor(e))<<5)-n,n&=n;else{o=\"string\"!=typeof e?JSON.stringify(e):e;try{for(var s=i(o),a=s.next();!a.done;a=s.next()){n=(n<<5)-n+a.value.charCodeAt(0),n&=n}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}return n^=n>>>16},0!=(t&t-1))throw new Error(\"initBucketNum must be 2 to the power of n\");var u=0,c=[],h=Math.max(a.initSize,Math.min(a.maxSize,t));this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){u=0,h=t,c=[]},this.forEach=function(e){var t=0;c.forEach(function(r){r.forEach(function(r){e(r,t++)})})};this.setElement=function(e,t){var n,l;if(null===e||void 0===e)throw new Error(\"to avoid some unnecessary errors, we don't suggest you insert null or undefined here\");if(null!==t&&void 0!==t){var f=r(e)&h-1;if(c[f]){var p=c[f].size();if(c[f]instanceof o.default){try{for(var d=i(c[f]),g=d.next();!g.done;g=d.next()){var y=g.value;if(y.key===e)return void(y.value=t)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(l=d.return)&&l.call(d)}finally{if(n)throw n.error}}c[f].pushBack({key:e,value:t}),c[f].size()>=a.treeifyThreshold&&(c[f]=new s.default(c[f]))}else c[f].setElement(e,t);var b=c[f].size();u+=b-p}else++u,c[f]=new o.default([{key:e,value:t}]);u>h*a.sigma&&function(e){if(!(e>=a.maxSize)){h=2*e;var t=[];c.forEach(function(n,i){if(!n.empty()){if(n instanceof o.default&&1===n.size()){var l=n.front(),u=l.key,f=l.value;t[r(u)&h-1]=new o.default([{key:u,value:f}])}else if(n instanceof s.default){var p=new o.default,d=new o.default;n.forEach(function(t){0==(r(t.key)&e)?p.pushBack(t):d.pushBack(t)}),p.size()>a.untreeifyThreshold?t[i]=new s.default(p):p.size()&&(t[i]=p),d.size()>a.untreeifyThreshold?t[i+e]=new s.default(d):d.size()&&(t[i+e]=d)}else{var g=new o.default,y=new o.default;n.forEach(function(t){0==(r(t.key)&e)?g.pushBack(t):y.pushBack(t)}),g.size()&&(t[i]=g),y.size()&&(t[i+e]=y)}c[i].clear()}}),c=t}}.call(this,h)}else this.eraseElementByKey(e)},this.getElementByKey=function(e){var t,n,o=r(e)&h-1;if(c[o]){if(c[o]instanceof s.default)return c[o].getElementByKey(e);try{for(var a=i(c[o]),l=a.next();!l.done;l=a.next()){var u=l.value;if(u.key===e)return u.value}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},this.eraseElementByKey=function(e){var t,n,l=r(e)&h-1;if(c[l]){var f=c[l].size();if(c[l]instanceof s.default)c[l].eraseElementByKey(e),c[l].size()<=a.untreeifyThreshold&&(c[l]=new o.default(c[l]));else{var p=-1;try{for(var d=i(c[l]),g=d.next();!g.done;g=d.next()){if(++p,g.value.key===e){c[l].eraseElementByPos(p);break}}}catch(e){t={error:e}}finally{try{g&&!g.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}var y=c[l].size();u+=y-f}},this.find=function(e){var t,n,o=r(e)&h-1;if(!c[o])return!1;if(c[o]instanceof s.default)return c[o].find(e);try{for(var a=i(c[o]),l=a.next();!l.done;l=a.next()){if(l.value.key===e)return!0}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!1},this[Symbol.iterator]=function(){return function(){var e,t,r,o,s,a;return n(this,function(n){switch(n.label){case 0:e=0,n.label=1;case 1:if(!(e<h))return[3,10];for(;e<h&&!c[e];)++e;if(e>=h)return[3,10];n.label=2;case 2:n.trys.push([2,7,8,9]),s=void 0,t=i(c[e]),r=t.next(),n.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:n.sent(),n.label=5;case 5:return r=t.next(),[3,3];case 6:return[3,9];case 7:return o=n.sent(),s={error:o},[3,9];case 8:try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(s)throw s.error}return[7];case 9:return++e,[3,1];case 10:return[2]}})}()},e.forEach(function(e){var t=e.key,r=e.value;return l.setElement(t,r)}),Object.freeze(this)}a.initSize=16,a.maxSize=1<<30,a.sigma=.75,a.treeifyThreshold=8,a.untreeifyThreshold=6,a.minTreeifySize=64,Object.freeze(a),r.default=a},{\"../LinkList/LinkList\":29,\"../Map/Map\":30}],28:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(r,\"__esModule\",{value:!0});var o=e(\"../Set/Set\"),s=e(\"../LinkList/LinkList\");function a(e,t,r){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=a.initSize),r=r||function(e){var t=0,r=\"\";if(\"number\"==typeof e)t=((t=Math.floor(e))<<5)-t,t&=t;else{r=\"string\"!=typeof e?JSON.stringify(e):e;for(var n=0;n<r.length;n++){t=(t<<5)-t+r.charCodeAt(n),t&=t}}return t^=t>>>16},0!=(t&t-1))throw new Error(\"initBucketNum must be 2 to the power of n\");var u=0,c=[],h=Math.max(a.initSize,Math.min(a.maxSize,t));this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){u=0,h=t,c=[]},this.forEach=function(e){var t=0;c.forEach(function(r){r.forEach(function(r){e(r,t++)})})};this.insert=function(e){if(null===e||void 0===e)throw new Error(\"to avoid some unnecessary errors, we don't suggest you insert null or undefined here\");var t=r(e)&h-1;if(c[t]){var n=c[t].size();if(c[t]instanceof s.default){if(c[t].find(e))return;c[t].pushBack(e),c[t].size()>=a.treeifyThreshold&&(c[t]=new o.default(c[t]))}else c[t].insert(e);var i=c[t].size();u+=i-n}else c[t]=new s.default([e]),++u;u>h*a.sigma&&function(e){if(!(e>=a.maxSize)){h=2*e;var t=[];c.forEach(function(n,i){if(!n.empty()){if(n instanceof s.default&&1===n.size()){var l=n.front();if(void 0===l)throw new Error(\"unknown error\");t[r(l)&h-1]=new s.default([l])}else if(n instanceof o.default){var u=new s.default,f=new s.default;n.forEach(function(t){0==(r(t)&e)?u.pushBack(t):f.pushBack(t)}),u.size()>a.untreeifyThreshold?t[i]=new o.default(u):u.size()&&(t[i]=u),f.size()>a.untreeifyThreshold?t[i+e]=new o.default(f):f.size()&&(t[i+e]=f)}else{var p=new s.default,d=new s.default;n.forEach(function(t){0==(r(t)&e)?p.pushBack(t):d.pushBack(t)}),p.size()&&(t[i]=p),d.size()&&(t[i+e]=d)}c[i].clear()}}),c=t}}.call(this,h)},this.eraseElementByValue=function(e){var t=r(e)&h-1;if(c[t]){var n=c[t].size();c[t].eraseElementByValue(e),c[t]instanceof o.default&&c[t].size()<=a.untreeifyThreshold&&(c[t]=new s.default(c[t]));var i=c[t].size();u+=i-n}},this.find=function(e){var t=r(e)&h-1;return!!c[t]&&c[t].find(e)},this[Symbol.iterator]=function(){return function(){var e,t,r,o,s,a;return n(this,function(n){switch(n.label){case 0:e=0,n.label=1;case 1:if(!(e<h))return[3,10];for(;e<h&&!c[e];)++e;if(e>=h)return[3,10];n.label=2;case 2:n.trys.push([2,7,8,9]),s=void 0,t=i(c[e]),r=t.next(),n.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:n.sent(),n.label=5;case 5:return r=t.next(),[3,3];case 6:return[3,9];case 7:return o=n.sent(),s={error:o},[3,9];case 8:try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(s)throw s.error}return[7];case 9:return++e,[3,1];case 10:return[2]}})}()},e.forEach(function(e){return l.insert(e)}),Object.freeze(this)}a.initSize=16,a.maxSize=1<<30,a.sigma=.75,a.treeifyThreshold=8,a.untreeifyThreshold=6,a.minTreeifySize=64,Object.freeze(a),r.default=a},{\"../LinkList/LinkList\":29,\"../Set/Set\":33}],29:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(r,\"__esModule\",{value:!0});var i=function(){return function(e){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=e}}();function o(e){var t=this;void 0===e&&(e=[]);var r=0,o=void 0,s=void 0;this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){o=s=void 0,r=0},this.front=function(){return null===o||void 0===o?void 0:o.value},this.back=function(){return null===s||void 0===s?void 0:s.value},this.forEach=function(e){for(var t=o,r=0;t;){if(void 0===t.value)throw new Error(\"unknown error\");e(t.value,r++),t=t.next}},this.getElementByPos=function(e){if(e<0||e>=r)throw new Error(\"pos must more then 0 and less then the list length\");for(var t=o;e--&&t;)t=t.next;if(!t||void 0===t.value)throw new Error(\"unknown error\");return t.value},this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error(\"erase pos must more then 0 and less then the list length\");if(0===e)this.popFront();else if(e===r-1)this.popBack();else{for(var t=o;e--;){if(!(null===t||void 0===t?void 0:t.next))throw new Error(\"unknown error\");t=t.next}if(!t||!t.pre||!t.next)throw new Error(\"unknown error\");var n=t.pre,i=t.next;i.pre=n,n.next=i,r>0&&--r}},this.eraseElementByValue=function(e){for(;o&&o.value===e;)this.popFront();for(;s&&s.value===e;)this.popBack();if(o)for(var t=o;t;){if(t.value===e){var n=t.pre,i=t.next;i&&(i.pre=n),n&&(n.next=i),r>0&&--r}t=t.next}},this.pushBack=function(e){if(null===e||void 0===e)throw new Error(\"you can't push null or undefined here\");++r;var t=new i(e);s?(s.next=t,t.pre=s,s=t):o=s=t},this.popBack=function(){s&&(r>0&&--r,s&&(o===s?o=s=void 0:(s=s.pre)&&(s.next=void 0)))},this.setElementByPos=function(e,t){if(null===t||void 0===t)throw new Error(\"you can't set null or undefined here\");if(e<0||e>=r)throw new Error(\"pos must more then 0 and less then the list length\");for(var n=o;e--;){if(!n)throw new Error(\"unknown error\");n=n.next}n&&(n.value=t)},this.insert=function(e,t,n){if(void 0===n&&(n=1),null===t||void 0===t)throw new Error(\"you can't insert null or undefined here\");if(e<0||e>r)throw new Error(\"insert pos must more then 0 and less then or equal to the list length\");if(n<0)throw new Error(\"insert size must more than 0\");if(0===e)for(;n--;)this.pushFront(t);else if(e===r)for(;n--;)this.pushBack(t);else{for(var s=o,a=1;a<e;++a){if(!(null===s||void 0===s?void 0:s.next))throw new Error(\"unknown error\");s=null===s||void 0===s?void 0:s.next}if(!s)throw new Error(\"unknown error\");var l=s.next;for(r+=n;n--;)s.next=new i(t),s.next.pre=s,s=s.next;s.next=l,l&&(l.pre=s)}},this.find=function(e){for(var t=o;t;){if(t.value===e)return!0;t=t.next}return!1},this.reverse=function(){for(var e=o,t=s,n=0;e&&t&&2*n<r;){var i=e.value;e.value=t.value,t.value=i,e=e.next,t=t.pre,++n}},this.unique=function(){for(var e=o;e;){for(var t=e;t&&t.next&&t.value===t.next.value;)t=t.next,r>0&&--r;e.next=t.next,e.next&&(e.next.pre=e),e=e.next}},this.sort=function(e){var t=[];this.forEach(function(e){t.push(e)}),t.sort(e);var r=o;t.forEach(function(e){r&&(r.value=e,r=r.next)})},this.pushFront=function(e){if(null===e||void 0===e)throw new Error(\"you can't push null or undefined here\");++r;var t=new i(e);o?(t.next=o,o.pre=t,o=t):o=s=t},this.popFront=function(){o&&(r>0&&--r,o&&(o===s?o=s=void 0:(o=o.next)&&(o.pre=void 0)))},this.merge=function(e){var t=this,n=o;e.forEach(function(e){for(;n&&void 0!==n.value&&n.value<=e;)n=n.next;if(void 0===n)t.pushBack(e),n=s;else if(n===o)t.pushFront(e),n=o;else{++r;var a=n.pre;a&&(a.next=new i(e),a.next.pre=a,a.next.next=n,n&&(n.pre=a.next))}})},this[Symbol.iterator]=function(){return function(){var e;return n(this,function(t){switch(t.label){case 0:e=o,t.label=1;case 1:if(void 0===e)return[3,3];if(!e.value)throw new Error(\"unknown error\");return[4,e.value];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}})}()},e.forEach(function(e){return t.pushBack(e)}),Object.freeze(this)}Object.freeze(o),r.default=o},{}],30:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(r,\"__esModule\",{value:!0});var o=e(\"../Base/TreeNode\");function s(e,t){var r=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var s=0,a=new o.default;a.color=o.default.TreeNodeColorType.black,this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){s=0,a.key=a.value=void 0,a.leftChild=a.rightChild=a.brother=void 0};var l=function(e){if(!e||void 0===e.key)throw new Error(\"unknown error\");return e.leftChild?l(e.leftChild):e},u=function(e){if(!e||void 0===e.key)throw new Error(\"unknown error\");return e.rightChild?u(e.rightChild):e};this.front=function(){if(!this.empty()){var e=l(a);if(void 0===e.key||void 0===e.value)throw new Error(\"unknown error\");return{key:e.key,value:e.value}}},this.back=function(){if(!this.empty()){var e=u(a);if(void 0===e.key||void 0===e.value)throw new Error(\"unknown error\");return{key:e.key,value:e.value}}},this.forEach=function(e){var t,r,n=0;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){e(s.value,n++)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,r;if(e<0||e>=this.size())throw new Error(\"pos must more than 0 and less than set's size\");var n=0;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(n===e)return a;++n}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}throw new Error(\"unknown Error\")};var c=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value){var n=t(e.key,r);return 0===n?{key:e.key,value:e.value}:n<0?c(e.rightChild,r):c(e.leftChild,r)||{key:e.key,value:e.value}}};this.lowerBound=function(e){return c(a,e)};var h=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value)return t(e.key,r)<=0?h(e.rightChild,r):h(e.leftChild,r)||{key:e.key,value:e.value}};this.upperBound=function(e){return h(a,e)};var f=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value){var n=t(e.key,r);return 0===n?{key:e.key,value:e.value}:n>0?f(e.leftChild,r):f(e.rightChild,r)||{key:e.key,value:e.value}}};this.reverseLowerBound=function(e){return f(a,e)};var p=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value)return t(e.key,r)>=0?p(e.leftChild,r):p(e.rightChild,r)||{key:e.key,value:e.value}};this.reverseUpperBound=function(e){return p(a,e)};var d=function(e){var t=e.parent;if(!t){if(e===a)return;throw new Error(\"unknown error\")}if(e.color!==o.default.TreeNodeColorType.red){var r=e.brother;if(!r)throw new Error(\"unknown error\");if(e===t.leftChild){if(r.color===o.default.TreeNodeColorType.red){r.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;var n=t.rotateLeft();a===t&&(a=n),d(e)}else if(r.color===o.default.TreeNodeColorType.black)if(r.rightChild&&r.rightChild.color===o.default.TreeNodeColorType.red){r.color=t.color,t.color=o.default.TreeNodeColorType.black,r.rightChild&&(r.rightChild.color=o.default.TreeNodeColorType.black);n=t.rotateLeft();a===t&&(a=n),e.color=o.default.TreeNodeColorType.black}else if(r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||!r.leftChild||r.leftChild.color!==o.default.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||(r.color=o.default.TreeNodeColorType.red,d(t));else{r.color=o.default.TreeNodeColorType.red,r.leftChild&&(r.leftChild.color=o.default.TreeNodeColorType.black);n=r.rotateRight();a===r&&(a=n),d(e)}}else if(e===t.rightChild)if(r.color===o.default.TreeNodeColorType.red){r.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;n=t.rotateRight();a===t&&(a=n),d(e)}else if(r.color===o.default.TreeNodeColorType.black)if(r.leftChild&&r.leftChild.color===o.default.TreeNodeColorType.red){r.color=t.color,t.color=o.default.TreeNodeColorType.black,r.leftChild&&(r.leftChild.color=o.default.TreeNodeColorType.black);n=t.rotateRight();a===t&&(a=n),e.color=o.default.TreeNodeColorType.black}else if(r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||!r.rightChild||r.rightChild.color!==o.default.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||(r.color=o.default.TreeNodeColorType.red,d(t));else{r.color=o.default.TreeNodeColorType.red,r.rightChild&&(r.rightChild.color=o.default.TreeNodeColorType.black);n=r.rotateLeft();a===r&&(a=n),d(e)}}else e.color=o.default.TreeNodeColorType.black},g=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var r=e.key;e.key=t.key,t.key=r;var n=e.value;e.value=t.value,t.value=n,e=t}if(t.leftChild){t=u(t.leftChild);r=e.key;e.key=t.key,t.key=r;n=e.value;e.value=t.value,t.value=n,e=t}}d(t),t&&t.remove(),--s,a.color=o.default.TreeNodeColorType.black},y=function(e,t){return!(!e||void 0===e.key)&&(!!y(e.leftChild,t)||(!!t(e)||y(e.rightChild,t)))};this.eraseElementByPos=function(e){if(e<0||e>=s)throw new Error(\"pos must more than 0 and less than set's size\");var t=0;y(a,function(r){return e===t?(g(r),!0):(++t,!1)})},this.eraseElementByKey=function(e){if(!this.empty()){var r=v(a,e);void 0!==r&&void 0!==r.key&&0===t(r.key,e)&&g(r)}};var b=function(e,r){if(!e||void 0===e.key)throw new Error(\"unknown error\");var n=t(r,e.key);return n<0?e.leftChild?b(e.leftChild,r):(e.leftChild=new o.default,e.leftChild.parent=e,e.leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):n>0?e.rightChild?b(e.rightChild,r):(e.rightChild=new o.default,e.rightChild.parent=e,e.rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},m=function(e){var t=e.parent;if(!t){if(e===a)return;throw new Error(\"unknown error\")}if(t.color!==o.default.TreeNodeColorType.black&&t.color===o.default.TreeNodeColorType.red){var r=t.brother,n=t.parent;if(!n)throw new Error(\"unknown error\");if(r&&r.color===o.default.TreeNodeColorType.red)r.color=t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red,m(n);else if(!r||r.color===o.default.TreeNodeColorType.black)if(t===n.leftChild){if(e===t.leftChild){t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red;var i=n.rotateRight();n===a&&(a=i)}else if(e===t.rightChild){i=t.rotateLeft();n===a&&(a=i),m(t)}}else if(t===n.rightChild)if(e===t.leftChild){i=t.rotateRight();n===a&&(a=i),m(t)}else if(e===t.rightChild){t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red;i=n.rotateLeft();n===a&&(a=i)}}};this.setElement=function(e,r){if(null===e||void 0===e)throw new Error(\"to avoid some unnecessary errors, we don't suggest you insert null or undefined here\");if(null!==r&&void 0!==r){if(this.empty())return++s,a.key=e,a.value=r,void(a.color=o.default.TreeNodeColorType.black);var n=b(a,e);void 0===n.key||0!==t(n.key,e)?(++s,n.key=e,n.value=r,m(n),a.color=o.default.TreeNodeColorType.black):n.value=r}else this.eraseElementByKey(e)};var v=function(e,r){if(e&&void 0!==e.key){var n=t(r,e.key);return n<0?v(e.leftChild,r):n>0?v(e.rightChild,r):e}};this.find=function(e){return!!v(a,e)},this.getElementByKey=function(e){var t=v(a,e);if(void 0===(null===t||void 0===t?void 0:t.key)||void 0===(null===t||void 0===t?void 0:t.value))throw new Error(\"unknown error\");return t.value},this.union=function(e){var t=this;e.forEach(function(e){var r=e.key,n=e.value;return t.setElement(r,n)})},this.getHeight=function(){if(this.empty())return 0;var e=function(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(a)};var w=function(e){return n(this,function(t){switch(t.label){case 0:return e&&void 0!==e.key&&void 0!==e.value?[5,i(w(e.leftChild))]:[2];case 1:return t.sent(),[4,{key:e.key,value:e.value}];case 2:return t.sent(),[5,i(w(e.rightChild))];case 3:return t.sent(),[2]}})};this[Symbol.iterator]=function(){return w(a)},e.forEach(function(e){var t=e.key,n=e.value;return r.setElement(t,n)}),Object.freeze(this)}Object.freeze(s),r.default=s},{\"../Base/TreeNode\":25}],31:[function(e,t,r){\"use strict\";function n(e,t){void 0===e&&(e=[]),t=t||function(e,t){return e>t?-1:e<t?1:0};var r=[];e.forEach(function(e){return r.push(e)});var n=r.length,i=function(e,t){if(e<0||e>=n)throw new Error(\"unknown error\");if(t<0||t>=n)throw new Error(\"unknown error\");var i=r[e];r[e]=r[t],r[t]=i},o=function(e){if(e<0||e>=n)throw new Error(\"unknown error\");var o=2*e+1,s=2*e+2;o<n&&t(r[e],r[o])>0&&i(e,o),s<n&&t(r[e],r[s])>0&&i(e,s)};!function(){for(var e=Math.floor((n-1)/2);e>=0;--e)for(var o=e,s=2*o+1;s<n;){var a=s+1,l=s;if(a<n&&t(r[s],r[a])>0&&(l=a),t(r[o],r[l])<=0)break;i(o,l),s=2*(o=l)+1}}(),this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,r.length=0},this.push=function(e){if(r.push(e),1!==++n)for(var i=n-1;i>0;){var s=Math.floor((i-1)/2);if(t(r[s],e)<=0)break;o(s),i=s}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=r[n-1];--n;for(var i=0;i<this.size();){var o=2*i+1,s=2*i+2;if(o>=this.size())break;var a=o;if(s<this.size()&&t(r[o],r[s])>0&&(a=s),t(r[a],e)>=0)break;r[i]=r[a],i=a}r[i]=e}else--n},this.top=function(){return r[0]},Object.freeze(this)}Object.defineProperty(r,\"__esModule\",{value:!0}),Object.freeze(n),r.default=n},{}],32:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var n=e(\"../LinkList/LinkList\");function i(e){void 0===e&&(e=[]);var t=new n.default(e);this.size=function(){return t.size()},this.empty=function(){return t.empty()},this.clear=function(){t.clear()},this.push=function(e){t.pushBack(e)},this.pop=function(){t.popFront()},this.front=function(){return t.front()},Object.freeze(this)}Object.freeze(i),r.default=i},{\"../LinkList/LinkList\":29}],33:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(r,\"__esModule\",{value:!0});var o=e(\"../Base/TreeNode\");function s(e,t){var r=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var s=0,a=new o.default;a.color=o.default.TreeNodeColorType.black,this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){s=0,a.key=void 0,a.leftChild=a.rightChild=a.brother=a.parent=void 0,a.color=o.default.TreeNodeColorType.black};var l=function(e){if(!e||void 0===e.key)throw new Error(\"unknown error\");return e.leftChild?l(e.leftChild):e},u=function(e){if(!e||void 0===e.key)throw new Error(\"unknown error\");return e.rightChild?u(e.rightChild):e};this.front=function(){if(!this.empty())return l(a).key},this.back=function(){if(!this.empty())return u(a).key},this.forEach=function(e){var t,r,n=0;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){e(s.value,n++)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,r;if(e<0||e>=this.size())throw new Error(\"pos must more than 0 and less than set's size\");var n=0;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(n===e)return a;++n}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}throw new Error(\"unknown error\")};var c=function(e){var t=e.parent;if(!t){if(e===a)return;throw new Error(\"unknown error\")}if(e.color!==o.default.TreeNodeColorType.red){var r=e.brother;if(!r)throw new Error(\"unknown error\");if(e===t.leftChild){if(r.color===o.default.TreeNodeColorType.red){r.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;var n=t.rotateLeft();a===t&&(a=n),c(e)}else if(r.color===o.default.TreeNodeColorType.black)if(r.rightChild&&r.rightChild.color===o.default.TreeNodeColorType.red){r.color=t.color,t.color=o.default.TreeNodeColorType.black,r.rightChild&&(r.rightChild.color=o.default.TreeNodeColorType.black);n=t.rotateLeft();a===t&&(a=n),e.color=o.default.TreeNodeColorType.black}else if(r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||!r.leftChild||r.leftChild.color!==o.default.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||(r.color=o.default.TreeNodeColorType.red,c(t));else{r.color=o.default.TreeNodeColorType.red,r.leftChild&&(r.leftChild.color=o.default.TreeNodeColorType.black);n=r.rotateRight();a===r&&(a=n),c(e)}}else if(e===t.rightChild)if(r.color===o.default.TreeNodeColorType.red){r.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;n=t.rotateRight();a===t&&(a=n),c(e)}else if(r.color===o.default.TreeNodeColorType.black)if(r.leftChild&&r.leftChild.color===o.default.TreeNodeColorType.red){r.color=t.color,t.color=o.default.TreeNodeColorType.black,r.leftChild&&(r.leftChild.color=o.default.TreeNodeColorType.black);n=t.rotateRight();a===t&&(a=n),e.color=o.default.TreeNodeColorType.black}else if(r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||!r.rightChild||r.rightChild.color!==o.default.TreeNodeColorType.red)r.leftChild&&r.leftChild.color!==o.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==o.default.TreeNodeColorType.black||(r.color=o.default.TreeNodeColorType.red,c(t));else{r.color=o.default.TreeNodeColorType.red,r.rightChild&&(r.rightChild.color=o.default.TreeNodeColorType.black);n=r.rotateLeft();a===r&&(a=n),c(e)}}else e.color=o.default.TreeNodeColorType.black},h=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var r=e.key;e.key=t.key,t.key=r,e=t}if(t.leftChild){t=u(t.leftChild);r=e.key;e.key=t.key,t.key=r,e=t}}c(t),t&&t.remove(),--s,a.color=o.default.TreeNodeColorType.black},f=function(e,t){return!(!e||void 0===e.key)&&(!!f(e.leftChild,t)||(!!t(e)||f(e.rightChild,t)))};this.eraseElementByPos=function(e){if(e<0||e>=s)throw new Error(\"pos must more than 0 and less than set's size\");var t=0;f(a,function(r){return e===t?(h(r),!0):(++t,!1)})},this.eraseElementByValue=function(e){if(!this.empty()){var r=g(a,e);void 0!==r&&void 0!==r.key&&0===t(r.key,e)&&h(r)}};var p=function(e,r){if(!e||void 0===e.key)throw new Error(\"unknown error\");var n=t(r,e.key);return n<0?e.leftChild?p(e.leftChild,r):(e.leftChild=new o.default,e.leftChild.parent=e,e.leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):n>0?e.rightChild?p(e.rightChild,r):(e.rightChild=new o.default,e.rightChild.parent=e,e.rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},d=function(e){var t=e.parent;if(!t){if(e===a)return;throw new Error(\"unknown error\")}if(t.color!==o.default.TreeNodeColorType.black&&t.color===o.default.TreeNodeColorType.red){var r=t.brother,n=t.parent;if(!n)throw new Error(\"unknown error\");if(r&&r.color===o.default.TreeNodeColorType.red)r.color=t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red,d(n);else if(!r||r.color===o.default.TreeNodeColorType.black)if(t===n.leftChild){if(e===t.leftChild){t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red;var i=n.rotateRight();n===a&&(a=i)}else if(e===t.rightChild){i=t.rotateLeft();n===a&&(a=i),d(t)}}else if(t===n.rightChild)if(e===t.leftChild){i=t.rotateRight();n===a&&(a=i),d(t)}else if(e===t.rightChild){t.color=o.default.TreeNodeColorType.black,n.color=o.default.TreeNodeColorType.red;i=n.rotateLeft();n===a&&(a=i)}}};this.insert=function(e){if(null===e||void 0===e)throw new Error(\"to avoid some unnecessary errors, we don't suggest you insert null or undefined here\");if(this.empty())return++s,a.key=e,void(a.color=o.default.TreeNodeColorType.black);var r=p(a,e);void 0!==r.key&&0===t(r.key,e)||(++s,r.key=e,d(r),a.color=o.default.TreeNodeColorType.black)};var g=function(e,r){if(e&&void 0!==e.key){var n=t(r,e.key);return n<0?g(e.leftChild,r):n>0?g(e.rightChild,r):e}};this.find=function(e){var r=g(a,e);return void 0!==r&&void 0!==r.key&&0===t(r.key,e)};var y=function(e,r){if(e&&void 0!==e.key){var n=t(e.key,r);if(0===n)return e.key;if(n<0)return y(e.rightChild,r);var i=y(e.leftChild,r);return void 0!==i?i:e.key}};this.lowerBound=function(e){return y(a,e)};var b=function(e,r){if(e&&void 0!==e.key){if(t(e.key,r)<=0)return b(e.rightChild,r);var n=b(e.leftChild,r);return void 0!==n?n:e.key}};this.upperBound=function(e){return b(a,e)};var m=function(e,r){if(e&&void 0!==e.key){var n=t(e.key,r);if(0===n)return e.key;if(n>0)return m(e.leftChild,r);var i=m(e.rightChild,r);return void 0!==i?i:e.key}};this.reverseLowerBound=function(e){return m(a,e)};var v=function(e,r){if(e&&void 0!==e.key){if(t(e.key,r)>=0)return v(e.leftChild,r);var n=v(e.rightChild,r);return void 0!==n?n:e.key}};this.reverseUpperBound=function(e){return v(a,e)},this.union=function(e){var t=this;e.forEach(function(e){return t.insert(e)})},this.getHeight=function(){if(this.empty())return 0;var e=function(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(a)};var w=function(e){return n(this,function(t){switch(t.label){case 0:return e&&void 0!==e.key?[5,i(w(e.leftChild))]:[2];case 1:return t.sent(),[4,e.key];case 2:return t.sent(),[5,i(w(e.rightChild))];case 3:return t.sent(),[2]}})};this[Symbol.iterator]=function(){return w(a)},e.forEach(function(e){return r.insert(e)}),Object.freeze(this)}Object.freeze(s),r.default=s},{\"../Base/TreeNode\":25}],34:[function(e,t,r){\"use strict\";function n(e){var t=this;void 0===e&&(e=[]);var r=0,n=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,n.length=0},this.push=function(e){n.push(e),++r},this.pop=function(){n.pop(),r>0&&--r},this.top=function(){return n[r-1]},e.forEach(function(e){return t.push(e)}),Object.freeze(this)}Object.defineProperty(r,\"__esModule\",{value:!0}),Object.freeze(n),r.default=n},{}],35:[function(e,t,r){\"use strict\";var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__read||function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};function a(e){var t=this;void 0===e&&(e=[]);var r=0,a=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,a.length=0},this.front=function(){if(!this.empty())return a[0]},this.back=function(){if(!this.empty())return a[r-1]},this.forEach=function(e){a.forEach(e)},this.getElementByPos=function(e){if(e<0||e>=r)throw new Error(\"pos must more than 0 and less than vector's size\");return a[e]},this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error(\"pos must more than 0 and less than vector's size\");for(var t=e;t<r-1;++t)a[t]=a[t+1];this.popBack()},this.eraseElementByValue=function(e){var t=[];this.forEach(function(r){r!==e&&t.push(r)}),t.forEach(function(e,t){a[t]=e});for(var n=t.length;r>n;)this.popBack()},this.pushBack=function(e){a.push(e),++r},this.popBack=function(){a.pop(),r>0&&--r},this.setElementByPos=function(e,t){if(e<0||e>=r)throw new Error(\"pos must more than 0 and less than vector's size\");a[e]=t},this.insert=function(e,t,n){if(void 0===n&&(n=1),e<0||e>r)throw new Error(\"pos must more than 0 and less than or equal to vector's size\");a.splice.apply(a,o([e,0],i(new Array(n).fill(t)),!1)),r+=n},this.find=function(e){return a.includes(e)},this.reverse=function(){a.reverse()},this.unique=function(){var e,t=[];this.forEach(function(r,n){0!==n&&r===e||(t.push(r),e=r)}),t.forEach(function(e,t){a[t]=e});for(var n=t.length;r>n;)this.popBack()},this.sort=function(e){a.sort(e)},this[Symbol.iterator]=function(){return function(){return n(this,function(e){switch(e.label){case 0:return[5,s(a)];case 1:return[2,e.sent()]}})}()},e.forEach(function(e){return t.pushBack(e)}),Object.freeze(this)}Object.defineProperty(r,\"__esModule\",{value:!0}),Object.freeze(a),r.default=a},{}],36:[function(e,t,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.HashMap=r.HashSet=r.Map=r.Set=r.PriorityQueue=r.Deque=r.LinkList=r.Queue=r.Stack=r.Vector=void 0;var n=e(\"./Vector/Vector\");r.Vector=n.default;var i=e(\"./Stack/Stack\");r.Stack=i.default;var o=e(\"./Queue/Queue\");r.Queue=o.default;var s=e(\"./LinkList/LinkList\");r.LinkList=s.default;var a=e(\"./Deque/Deque\");r.Deque=a.default;var l=e(\"./PriorityQueue/PriorityQueue\");r.PriorityQueue=l.default;var u=e(\"./Set/Set\");r.Set=u.default;var c=e(\"./Map/Map\");r.Map=c.default;var h=e(\"./HashSet/HashSet\");r.HashSet=h.default;var f=e(\"./HashMap/HashMap\");r.HashMap=f.default},{\"./Deque/Deque\":26,\"./HashMap/HashMap\":27,\"./HashSet/HashSet\":28,\"./LinkList/LinkList\":29,\"./Map/Map\":30,\"./PriorityQueue/PriorityQueue\":31,\"./Queue/Queue\":32,\"./Set/Set\":33,\"./Stack/Stack\":34,\"./Vector/Vector\":35}],37:[function(e,t,r){\"use strict\";const n=e(\"yallist\"),i=Symbol(\"max\"),o=Symbol(\"length\"),s=Symbol(\"lengthCalculator\"),a=Symbol(\"allowStale\"),l=Symbol(\"maxAge\"),u=Symbol(\"dispose\"),c=Symbol(\"noDisposeOnSet\"),h=Symbol(\"lruList\"),f=Symbol(\"cache\"),p=Symbol(\"updateAgeOnGet\"),d=()=>1;const g=(e,t,r)=>{const n=e[f].get(t);if(n){const t=n.value;if(y(e,t)){if(m(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[h].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},b=e=>{if(e[o]>e[i])for(let t=e[h].tail;e[o]>e[i]&&null!==t;){const r=t.prev;m(e,t),t=r}},m=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[o]-=r.length,e[f].delete(r.key),e[h].removeNode(t)}};class v{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const w=(e,t,r,n)=>{let i=r.value;y(e,i)&&(m(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};t.exports=class{constructor(e){if(\"number\"==typeof e&&(e={max:e}),e||(e={}),e.max&&(\"number\"!=typeof e.max||e.max<0))throw new TypeError(\"max must be a non-negative number\");this[i]=e.max||1/0;const t=e.length||d;if(this[s]=\"function\"!=typeof t?d:t,this[a]=e.stale||!1,e.maxAge&&\"number\"!=typeof e.maxAge)throw new TypeError(\"maxAge must be a number\");this[l]=e.maxAge||0,this[u]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(\"number\"!=typeof e||e<0)throw new TypeError(\"max must be a non-negative number\");this[i]=e||1/0,b(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if(\"number\"!=typeof e)throw new TypeError(\"maxAge must be a non-negative number\");this[l]=e,b(this)}get maxAge(){return this[l]}set lengthCalculator(e){\"function\"!=typeof e&&(e=d),e!==this[s]&&(this[s]=e,this[o]=0,this[h].forEach(e=>{e.length=this[s](e.value,e.key),this[o]+=e.length})),b(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let r=this[h].tail;null!==r;){const n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[h].head;null!==r;){const n=r.next;w(this,e,r,t),r=n}}keys(){return this[h].toArray().map(e=>e.key)}values(){return this[h].toArray().map(e=>e.value)}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach(e=>this[u](e.key,e.value)),this[f]=new Map,this[h]=new n,this[o]=0}dump(){return this[h].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[h]}set(e,t,r){if((r=r||this[l])&&\"number\"!=typeof r)throw new TypeError(\"maxAge must be a number\");const n=r?Date.now():0,a=this[s](t,e);if(this[f].has(e)){if(a>this[i])return m(this,this[f].get(e)),!1;const s=this[f].get(e).value;return this[u]&&(this[c]||this[u](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),b(this),!0}const p=new v(e,t,a,n,r);return p.length>this[i]?(this[u]&&this[u](e,t),!1):(this[o]+=p.length,this[h].unshift(p),this[f].set(e,this[h].head),b(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!y(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[h].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[f].forEach((e,t)=>g(this,t,!1))}}},{yallist:83}],38:[function(e,t,r){(function(e){(function(){const r=t.exports;r.types={0:\"reserved\",1:\"connect\",2:\"connack\",3:\"publish\",4:\"puback\",5:\"pubrec\",6:\"pubrel\",7:\"pubcomp\",8:\"subscribe\",9:\"suback\",10:\"unsubscribe\",11:\"unsuback\",12:\"pingreq\",13:\"pingresp\",14:\"disconnect\",15:\"auth\"},r.codes={};for(const e in r.types){const t=r.types[e];r.codes[t]=e}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=e.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=e.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=e.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(const e in r.properties){const t=r.properties[e];r.propertiesCodes[t]=e}function n(t){return[0,1,2].map(n=>[0,1].map(i=>[0,1].map(o=>{const s=e.alloc(1);return s.writeUInt8(r.codes[t]<<r.CMD_SHIFT|(i?r.DUP_MASK:0)|n<<r.QOS_SHIFT|o,0,!0),s})))}r.propertiesTypes={sessionExpiryInterval:\"int32\",willDelayInterval:\"int32\",receiveMaximum:\"int16\",maximumPacketSize:\"int32\",topicAliasMaximum:\"int16\",requestResponseInformation:\"byte\",requestProblemInformation:\"byte\",userProperties:\"pair\",authenticationMethod:\"string\",authenticationData:\"binary\",payloadFormatIndicator:\"byte\",messageExpiryInterval:\"int32\",contentType:\"string\",responseTopic:\"string\",correlationData:\"binary\",maximumQoS:\"int8\",retainAvailable:\"byte\",assignedClientIdentifier:\"string\",reasonString:\"string\",wildcardSubscriptionAvailable:\"byte\",subscriptionIdentifiersAvailable:\"byte\",sharedSubscriptionAvailable:\"byte\",serverKeepAlive:\"int16\",responseInformation:\"string\",serverReference:\"string\",topicAlias:\"int16\",subscriptionIdentifier:\"var\"},r.PUBLISH_HEADER=n(\"publish\"),r.SUBSCRIBE_HEADER=n(\"subscribe\"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=n(\"unsubscribe\"),r.ACKS={unsuback:n(\"unsuback\"),puback:n(\"puback\"),pubcomp:n(\"pubcomp\"),pubrel:n(\"pubrel\"),pubrec:n(\"pubrec\")},r.SUBACK_HEADER=e.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=e.from([3]),r.VERSION4=e.from([4]),r.VERSION5=e.from([5]),r.VERSION131=e.from([131]),r.VERSION132=e.from([132]),r.QOS=[0,1,2].map(t=>e.from([t])),r.EMPTY={pingreq:e.from([r.codes.pingreq<<4,0]),pingresp:e.from([r.codes.pingresp<<4,0]),disconnect:e.from([r.codes.disconnect<<4,0])}}).call(this)}).call(this,e(\"buffer\").Buffer)},{buffer:17}],39:[function(e,t,r){(function(r){(function(){const n=e(\"./writeToStream\"),i=e(\"events\");class o extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e=0;const t=new Array(this._array.length),n=this._array;let i,o=0;for(i=0;i<n.length&&void 0!==n[i];i++)\"string\"!=typeof n[i]?t[i]=n[i].length:t[i]=r.byteLength(n[i]),e+=t[i];const s=r.allocUnsafe(e);for(i=0;i<n.length&&void 0!==n[i];i++)\"string\"!=typeof n[i]?(n[i].copy(s,o),o+=t[i]):(s.write(n[i],o),o+=t[i]);return s}}t.exports=function(e,t){const r=new o;return n(e,r,t),r.concat()}}).call(this)}).call(this,e(\"buffer\").Buffer)},{\"./writeToStream\":44,buffer:17,events:22}],40:[function(e,t,r){r.parser=e(\"./parser\").parser,r.generate=e(\"./generate\"),r.writeToStream=e(\"./writeToStream\")},{\"./generate\":39,\"./parser\":43,\"./writeToStream\":44}],41:[function(e,t,r){(function(e){(function(){const r=65536,n={},i=e.isBuffer(e.from([1,2]).subarray(0,1));function o(t){const r=e.allocUnsafe(2);return r.writeUInt8(t>>8,0),r.writeUInt8(255&t,1),r}t.exports={cache:n,generateCache:function(){for(let e=0;e<r;e++)n[e]=o(e)},generateNumber:o,genBufVariableByteInt:function(t){let r=0,n=0;const o=e.allocUnsafe(4);do{r=t%128|0,(t=t/128|0)>0&&(r|=128),o.writeUInt8(r,n++)}while(t>0&&n<4);return t>0&&(n=0),i?o.subarray(0,n):o.slice(0,n)},generate4ByteBuffer:function(t){const r=e.allocUnsafe(4);return r.writeUInt32BE(t,0),r}}}).call(this)}).call(this,e(\"buffer\").Buffer)},{buffer:17}],42:[function(e,t,r){t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},{}],43:[function(e,t,r){const n=e(\"bl\"),i=e(\"events\"),o=e(\"./packet\"),s=e(\"./constants\"),a=e(\"debug\")(\"mqtt-packet:parser\");class l extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof l?(this.settings=e||{},this._states=[\"_parseHeader\",\"_parseLength\",\"_parsePayload\",\"_newPacket\"],this._resetState(),this):(new l).parser(e)}_resetState(){a(\"_resetState: resetting packet, error, _list, and _stateCounter\"),this.packet=new o,this.error=null,this._list=n(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),a(\"parse: current state: %s\",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,a(\"parse: state complete. _stateCounter is now: %d\",this._stateCounter),a(\"parse: packet.length: %d, buffer list length: %d\",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a(\"parse: exited while loop. packet: %d, buffer list length: %d\",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=s.types[e>>s.CMD_SHIFT],this.packet.retain=0!=(e&s.RETAIN_MASK),this.packet.qos=e>>s.QOS_SHIFT&s.QOS_MASK,this.packet.dup=0!=(e&s.DUP_MASK),a(\"_parseHeader: packet: %o\",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),a(\"_parseLength %d\",e.value),!!e}_parsePayload(){a(\"_parsePayload: payload %O\",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case\"connect\":this._parseConnect();break;case\"connack\":this._parseConnack();break;case\"publish\":this._parsePublish();break;case\"puback\":case\"pubrec\":case\"pubrel\":case\"pubcomp\":this._parseConfirmation();break;case\"subscribe\":this._parseSubscribe();break;case\"suback\":this._parseSuback();break;case\"unsubscribe\":this._parseUnsubscribe();break;case\"unsuback\":this._parseUnsuback();break;case\"pingreq\":case\"pingresp\":break;case\"disconnect\":this._parseDisconnect();break;case\"auth\":this._parseAuth();break;default:this._emitError(new Error(\"Not supported\"))}e=!0}return a(\"_parsePayload complete result: %s\",e),e}_parseConnect(){let e,t,r,n;a(\"_parseConnect\");const i={},o=this.packet,l=this._parseString();if(null===l)return this._emitError(new Error(\"Cannot parse protocolId\"));if(\"MQTT\"!==l&&\"MQIsdp\"!==l)return this._emitError(new Error(\"Invalid protocolId\"));if(o.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error(\"Packet too short\"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error(\"Invalid protocol version\"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error(\"Packet too short\"));if(i.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK,i.will&&(o.will={},o.will.retain=0!=(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),o.will.qos=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT),o.clean=0!=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error(\"Packet too short\"));if(5===o.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(o.properties=e)}const u=this._parseString();if(null===u)return this._emitError(new Error(\"Packet too short\"));if(o.clientId=u,a(\"_parseConnect: packet.clientId: %s\",o.clientId),i.will){if(5===o.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(o.will.properties=e)}if(null===(e=this._parseString()))return this._emitError(new Error(\"Cannot parse will topic\"));if(o.will.topic=e,a(\"_parseConnect: packet.will.topic: %s\",o.will.topic),null===(t=this._parseBuffer()))return this._emitError(new Error(\"Cannot parse will payload\"));o.will.payload=t,a(\"_parseConnect: packet.will.paylaod: %s\",o.will.payload)}if(i.username){if(null===(n=this._parseString()))return this._emitError(new Error(\"Cannot parse username\"));o.username=n,a(\"_parseConnect: packet.username: %s\",o.username)}if(i.password){if(null===(r=this._parseBuffer()))return this._emitError(new Error(\"Cannot parse password\"));o.password=r}return this.settings=o,a(\"_parseConnect: complete\"),o}_parseConnack(){a(\"_parseConnack\");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&s.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error(\"Cannot parse return code\"));if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}a(\"_parseConnack: complete\")}_parsePublish(){a(\"_parsePublish\");const e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error(\"Cannot parse topic\"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),a(\"_parsePublish: payload from buffer list: %o\",e.payload)}}_parseSubscribe(){a(\"_parseSubscribe\");const e=this.packet;let t,r,n,i,o,l,u;if(1!==e.qos)return this._emitError(new Error(\"Wrong subscribe header\"));if(e.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){if(null===(t=this._parseString()))return this._emitError(new Error(\"Cannot parse topic\"));if(this._pos>=e.length)return this._emitError(new Error(\"Malformed Subscribe Payload\"));n=(r=this._parseByte())&s.SUBSCRIBE_OPTIONS_QOS_MASK,l=0!=(r>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK),o=0!=(r>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK),i=r>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,u={topic:t,qos:n},5===this.settings.protocolVersion?(u.nl=l,u.rap=o,u.rh=i):this.settings.bridgeMode&&(u.rh=0,u.rap=!0,u.nl=!0),a(\"_parseSubscribe: push subscription `%s` to subscription\",u),e.subscriptions.push(u)}}}_parseSuback(){a(\"_parseSuback\");const e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){a(\"_parseUnsubscribe\");const e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){const t=this._parseString();if(null===t)return this._emitError(new Error(\"Cannot parse topic\"));a(\"_parseUnsubscribe: push topic `%s` to unsubscriptions\",t),e.unsubscriptions.push(t)}}}_parseUnsuback(){a(\"_parseUnsuback\");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error(\"Cannot parse messageId\"));if(5===this.settings.protocolVersion){const t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){a(\"_parseConfirmation: packet.cmd: `%s`\",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),a(\"_parseConfirmation: packet.reasonCode `%d`\",e.reasonCode)):e.reasonCode=0,e.length>3)){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0}_parseDisconnect(){const e=this.packet;if(a(\"_parseDisconnect\"),5===this.settings.protocolVersion){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return a(\"_parseDisconnect result: true\"),!0}_parseAuth(){a(\"_parseAuth\");const e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error(\"Not supported auth packet for this version MQTT\"));e.reasonCode=this._parseByte();const t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),a(\"_parseAuth: result: true\"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error(\"Cannot parse messageId\")),!1):(a(\"_parseMessageId: packet.messageId %d\",e.messageId),!0)}_parseString(e){const t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;const n=this._list.toString(\"utf8\",this._pos,r);return this._pos+=t,a(\"_parseString: result: %s\",n),n}_parseStringPair(){return a(\"_parseStringPair\"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;const r=this._list.slice(this._pos,t);return this._pos+=e,a(\"_parseBuffer: result: %o\",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,a(\"_parseNum: result: %s\",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,a(\"_parse4ByteNum: result: %s\",e),e}_parseVarByteNum(e){a(\"_parseVarByteNum\");let t,r=0,n=1,i=0,o=!1;const l=this._pos?this._pos:0;for(;r<4&&l+r<this._list.length;){if(i+=n*((t=this._list.readUInt8(l+r++))&s.VARBYTEINT_MASK),n*=128,0==(t&s.VARBYTEINT_FIN_MASK)){o=!0;break}if(this._list.length<=r)break}return!o&&4===r&&this._list.length>=r&&this._emitError(new Error(\"Invalid variable byte integer\")),l&&(this._pos+=r),a(\"_parseVarByteNum: result: %o\",o=!!o&&(e?{bytes:r,value:i}:i)),o}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),a(\"_parseByte: result: %o\",e),e}_parseByType(e){switch(a(\"_parseByType: type: %s\",e),e){case\"byte\":return 0!==this._parseByte();case\"int8\":return this._parseByte();case\"int16\":return this._parseNum();case\"int32\":return this._parse4ByteNum();case\"var\":return this._parseVarByteNum();case\"string\":return this._parseString();case\"pair\":return this._parseStringPair();case\"binary\":return this._parseBuffer()}}_parseProperties(){a(\"_parseProperties\");const e=this._parseVarByteNum(),t=this._pos+e,r={};for(;this._pos<t;){const e=this._parseByte();if(!e)return this._emitError(new Error(\"Cannot parse property code type\")),!1;const t=s.propertiesCodes[e];if(!t)return this._emitError(new Error(\"Unknown property\")),!1;if(\"userProperties\"!==t)r[t]?Array.isArray(r[t])?r[t].push(this._parseByType(s.propertiesTypes[t])):(r[t]=[r[t]],r[t].push(this._parseByType(s.propertiesTypes[t]))):r[t]=this._parseByType(s.propertiesTypes[t]);else{r[t]||(r[t]=Object.create(null));const e=this._parseByType(s.propertiesTypes[t]);if(r[t][e.name])if(Array.isArray(r[t][e.name]))r[t][e.name].push(e.value);else{const n=r[t][e.name];r[t][e.name]=[n],r[t][e.name].push(e.value)}else r[t][e.name]=e.value}}return r}_newPacket(){return a(\"_newPacket\"),this.packet&&(this._list.consume(this.packet.length),a(\"_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d\",this.packet.cmd,this.packet.payload,this.packet.length),this.emit(\"packet\",this.packet)),a(\"_newPacket: new packet\"),this.packet=new o,this._pos=0,!0}_emitError(e){a(\"_emitError\"),this.error=e,this.emit(\"error\",e)}}t.exports=l},{\"./constants\":38,\"./packet\":42,bl:15,debug:18,events:22}],44:[function(e,t,r){(function(r){(function(){const n=e(\"./constants\"),i=r.allocUnsafe(0),o=r.from([0]),s=e(\"./numbers\"),a=e(\"process-nextick-args\").nextTick,l=e(\"debug\")(\"mqtt-packet:writeToStream\"),u=s.cache,c=s.generateNumber,h=s.generateCache,f=s.genBufVariableByteInt,p=s.generate4ByteBuffer;let d=k,g=!0;function y(e,t,s){switch(l(\"generate called\"),t.cork&&(t.cork(),a(b,t)),g&&(g=!1,h()),l(\"generate: packet.cmd: %s\",e.cmd),e.cmd){case\"connect\":return function(e,t,i){const o=e||{},s=o.protocolId||\"MQTT\";let a=o.protocolVersion||4;const l=o.will;let u=o.clean;const c=o.keepalive||0,h=o.clientId||\"\",f=o.username,p=o.password,g=o.properties;void 0===u&&(u=!0);let y=0;if(!s||\"string\"!=typeof s&&!r.isBuffer(s))return t.emit(\"error\",new Error(\"Invalid protocolId\")),!1;y+=s.length+2;if(3!==a&&4!==a&&5!==a)return t.emit(\"error\",new Error(\"Invalid protocol version\")),!1;y+=1;if((\"string\"==typeof h||r.isBuffer(h))&&(h||a>=4)&&(h||u))y+=r.byteLength(h)+2;else{if(a<4)return t.emit(\"error\",new Error(\"clientId must be supplied before 3.1.1\")),!1;if(1*u==0)return t.emit(\"error\",new Error(\"clientId must be given if cleanSession set to 0\")),!1}if(\"number\"!=typeof c||c<0||c>65535||c%1!=0)return t.emit(\"error\",new Error(\"Invalid keepalive\")),!1;y+=2;if(y+=1,5===a){var b=C(t,g);if(!b)return!1;y+=b.length}if(l){if(\"object\"!=typeof l)return t.emit(\"error\",new Error(\"Invalid will\")),!1;if(!l.topic||\"string\"!=typeof l.topic)return t.emit(\"error\",new Error(\"Invalid will topic\")),!1;if(y+=r.byteLength(l.topic)+2,y+=2,l.payload){if(!(l.payload.length>=0))return t.emit(\"error\",new Error(\"Invalid will payload\")),!1;\"string\"==typeof l.payload?y+=r.byteLength(l.payload):y+=l.payload.length}var m={};if(5===a){if(!(m=C(t,l.properties)))return!1;y+=m.length}}let _=!1;if(null!=f){if(!P(f))return t.emit(\"error\",new Error(\"Invalid username\")),!1;_=!0,y+=r.byteLength(f)+2}if(null!=p){if(!_)return t.emit(\"error\",new Error(\"Username is required to use password\")),!1;if(!P(p))return t.emit(\"error\",new Error(\"Invalid password\")),!1;y+=I(p)+2}t.write(n.CONNECT_HEADER),v(t,y),E(t,s),o.bridgeMode&&(a+=128);t.write(131===a?n.VERSION131:132===a?n.VERSION132:4===a?n.VERSION4:5===a?n.VERSION5:n.VERSION3);let k=0;k|=null!=f?n.USERNAME_MASK:0,k|=null!=p?n.PASSWORD_MASK:0,k|=l&&l.retain?n.WILL_RETAIN_MASK:0,k|=l&&l.qos?l.qos<<n.WILL_QOS_SHIFT:0,k|=l?n.WILL_FLAG_MASK:0,k|=u?n.CLEAN_SESSION_MASK:0,t.write(r.from([k])),d(t,c),5===a&&b.write();E(t,h),l&&(5===a&&m.write(),w(t,l.topic),E(t,l.payload));null!=f&&E(t,f);null!=p&&E(t,p);return!0}(e,t);case\"connack\":return function(e,t,i){const s=i?i.protocolVersion:4,a=e||{},l=5===s?a.reasonCode:a.returnCode,u=a.properties;let c=2;if(\"number\"!=typeof l)return t.emit(\"error\",new Error(\"Invalid return code\")),!1;let h=null;if(5===s){if(!(h=C(t,u)))return!1;c+=h.length}t.write(n.CONNACK_HEADER),v(t,c),t.write(a.sessionPresent?n.SESSIONPRESENT_HEADER:o),t.write(r.from([l])),null!=h&&h.write();return!0}(e,t,s);case\"publish\":return function(e,t,o){l(\"publish: packet: %o\",e);const s=o?o.protocolVersion:4,a=e||{},u=a.qos||0,c=a.retain?n.RETAIN_MASK:0,h=a.topic,f=a.payload||i,p=a.messageId,g=a.properties;let y=0;if(\"string\"==typeof h)y+=r.byteLength(h)+2;else{if(!r.isBuffer(h))return t.emit(\"error\",new Error(\"Invalid topic\")),!1;y+=h.length+2}r.isBuffer(f)?y+=f.length:y+=r.byteLength(f);if(u&&\"number\"!=typeof p)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;u&&(y+=2);let b=null;if(5===s){if(!(b=C(t,g)))return!1;y+=b.length}t.write(n.PUBLISH_HEADER[u][a.dup?1:0][c?1:0]),v(t,y),d(t,I(h)),t.write(h),u>0&&d(t,p);null!=b&&b.write();return l(\"publish: payload: %o\",f),t.write(f)}(e,t,s);case\"puback\":case\"pubrec\":case\"pubrel\":case\"pubcomp\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.cmd||\"puback\",l=s.messageId,u=s.dup&&\"pubrel\"===a?n.DUP_MASK:0;let c=0;const h=s.reasonCode,f=s.properties;let p=5===o?3:2;\"pubrel\"===a&&(c=1);if(\"number\"!=typeof l)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;let g=null;if(5===o&&\"object\"==typeof f){if(!(g=T(t,f,i,p)))return!1;p+=g.length}t.write(n.ACKS[a][c][u][0]),v(t,p),d(t,l),5===o&&t.write(r.from([h]));null!==g&&g.write();return!0}(e,t,s);case\"subscribe\":return function(e,t,i){l(\"subscribe: packet: \");const o=i?i.protocolVersion:4,s=e||{},a=s.dup?n.DUP_MASK:0,u=s.messageId,c=s.subscriptions,h=s.properties;let f=0;if(\"number\"!=typeof u)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;f+=2;let p=null;if(5===o){if(!(p=C(t,h)))return!1;f+=p.length}if(\"object\"!=typeof c||!c.length)return t.emit(\"error\",new Error(\"Invalid subscriptions\")),!1;for(let e=0;e<c.length;e+=1){const n=c[e].topic,i=c[e].qos;if(\"string\"!=typeof n)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid topic\")),!1;if(\"number\"!=typeof i)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid qos\")),!1;if(5===o){const r=c[e].nl||!1;if(\"boolean\"!=typeof r)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid No Local\")),!1;const n=c[e].rap||!1;if(\"boolean\"!=typeof n)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid Retain as Published\")),!1;const i=c[e].rh||0;if(\"number\"!=typeof i||i>2)return t.emit(\"error\",new Error(\"Invalid subscriptions - invalid Retain Handling\")),!1}f+=r.byteLength(n)+2+1}l(\"subscribe: writing to stream: %o\",n.SUBSCRIBE_HEADER),t.write(n.SUBSCRIBE_HEADER[1][a?1:0][0]),v(t,f),d(t,u),null!==p&&p.write();let g=!0;for(const e of c){const i=e.topic,s=e.qos,a=+e.nl,l=+e.rap,u=e.rh;let c;w(t,i),c=n.SUBSCRIBE_OPTIONS_QOS[s],5===o&&(c|=a?n.SUBSCRIBE_OPTIONS_NL:0,c|=l?n.SUBSCRIBE_OPTIONS_RAP:0,c|=u?n.SUBSCRIBE_OPTIONS_RH[u]:0),g=t.write(r.from([c]))}return g}(e,t,s);case\"suback\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.granted,u=s.properties;let c=0;if(\"number\"!=typeof a)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;c+=2;if(\"object\"!=typeof l||!l.length)return t.emit(\"error\",new Error(\"Invalid qos vector\")),!1;for(let e=0;e<l.length;e+=1){if(\"number\"!=typeof l[e])return t.emit(\"error\",new Error(\"Invalid qos vector\")),!1;c+=1}let h=null;if(5===o){if(!(h=T(t,u,i,c)))return!1;c+=h.length}t.write(n.SUBACK_HEADER),v(t,c),d(t,a),null!==h&&h.write();return t.write(r.from(l))}(e,t,s);case\"unsubscribe\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?n.DUP_MASK:0,u=s.unsubscriptions,c=s.properties;let h=0;if(\"number\"!=typeof a)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;h+=2;if(\"object\"!=typeof u||!u.length)return t.emit(\"error\",new Error(\"Invalid unsubscriptions\")),!1;for(let e=0;e<u.length;e+=1){if(\"string\"!=typeof u[e])return t.emit(\"error\",new Error(\"Invalid unsubscriptions\")),!1;h+=r.byteLength(u[e])+2}let f=null;if(5===o){if(!(f=C(t,c)))return!1;h+=f.length}t.write(n.UNSUBSCRIBE_HEADER[1][l?1:0][0]),v(t,h),d(t,a),null!==f&&f.write();let p=!0;for(let e=0;e<u.length;e++)p=w(t,u[e]);return p}(e,t,s);case\"unsuback\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?n.DUP_MASK:0,u=s.granted,c=s.properties,h=s.cmd;let f=2;if(\"number\"!=typeof a)return t.emit(\"error\",new Error(\"Invalid messageId\")),!1;if(5===o){if(\"object\"!=typeof u||!u.length)return t.emit(\"error\",new Error(\"Invalid qos vector\")),!1;for(let e=0;e<u.length;e+=1){if(\"number\"!=typeof u[e])return t.emit(\"error\",new Error(\"Invalid qos vector\")),!1;f+=1}}let p=null;if(5===o){if(!(p=T(t,c,i,f)))return!1;f+=p.length}t.write(n.ACKS[h][0][l][0]),v(t,f),d(t,a),null!==p&&p.write();5===o&&t.write(r.from(u));return!0}(e,t,s);case\"pingreq\":case\"pingresp\":return function(e,t,r){return t.write(n.EMPTY[e.cmd])}(e,t);case\"disconnect\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties;let u=5===o?1:0,c=null;if(5===o){if(!(c=T(t,l,i,u)))return!1;u+=c.length}t.write(r.from([n.codes.disconnect<<4])),v(t,u),5===o&&t.write(r.from([a]));null!==c&&c.write();return!0}(e,t,s);case\"auth\":return function(e,t,i){const o=i?i.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties;let u=5===o?1:0;5!==o&&t.emit(\"error\",new Error(\"Invalid mqtt version for auth packet\"));const c=T(t,l,i,u);if(!c)return!1;u+=c.length,t.write(r.from([n.codes.auth<<4])),v(t,u),t.write(r.from([a])),null!==c&&c.write();return!0}(e,t,s);default:return t.emit(\"error\",new Error(\"Unknown command\")),!1}}function b(e){e.uncork()}Object.defineProperty(y,\"cacheNumbers\",{get:()=>d===k,set(e){e?(u&&0!==Object.keys(u).length||(g=!0),d=k):(g=!1,d=S)}});const m={};function v(e,t){if(t>n.VARBYTEINT_MAX)return e.emit(\"error\",new Error(`Invalid variable byte integer: ${t}`)),!1;let r=m[t];return r||(r=f(t),t<16384&&(m[t]=r)),l(\"writeVarByteInt: writing to stream: %o\",r),e.write(r)}function w(e,t){const n=r.byteLength(t);return d(e,n),l(\"writeString: %s\",t),e.write(t,\"utf8\")}function _(e,t,r){w(e,t),w(e,r)}function k(e,t){return l(\"writeNumberCached: number: %d\",t),l(\"writeNumberCached: %o\",u[t]),e.write(u[t])}function S(e,t){const r=c(t);return l(\"writeNumberGenerated: %o\",r),e.write(r)}function E(e,t){\"string\"==typeof t?w(e,t):t?(d(e,t.length),e.write(t)):d(e,0)}function C(e,t){if(\"object\"!=typeof t||null!=t.length)return{length:1,write(){A(e,{},0)}};let i=0;function o(t,i){let o=0;switch(n.propertiesTypes[t]){case\"byte\":if(\"boolean\"!=typeof i)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=2;break;case\"int8\":if(\"number\"!=typeof i||i<0||i>255)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=2;break;case\"binary\":if(i&&null===i)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=1+r.byteLength(i)+2;break;case\"int16\":if(\"number\"!=typeof i||i<0||i>65535)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=3;break;case\"int32\":if(\"number\"!=typeof i||i<0||i>4294967295)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=5;break;case\"var\":if(\"number\"!=typeof i||i<0||i>268435455)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=1+r.byteLength(f(i));break;case\"string\":if(\"string\"!=typeof i)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=3+r.byteLength(i.toString());break;case\"pair\":if(\"object\"!=typeof i)return e.emit(\"error\",new Error(`Invalid ${t}: ${i}`)),!1;o+=Object.getOwnPropertyNames(i).reduce((e,t)=>{const n=i[t];return Array.isArray(n)?e+=n.reduce((e,n)=>e+=3+r.byteLength(t.toString())+2+r.byteLength(n.toString()),0):e+=3+r.byteLength(t.toString())+2+r.byteLength(i[t].toString()),e},0);break;default:return e.emit(\"error\",new Error(`Invalid property ${t}: ${i}`)),!1}return o}if(t)for(const e in t){let r=0,n=0;const s=t[e];if(Array.isArray(s))for(let t=0;t<s.length;t++){if(!(n=o(e,s[t])))return!1;r+=n}else{if(!(n=o(e,s)))return!1;r=n}if(!r)return!1;i+=r}return{length:r.byteLength(f(i))+i,write(){A(e,t,i)}}}function T(e,t,r,n){const i=[\"reasonString\",\"userProperties\"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0;let s=C(e,t);if(o)for(;n+s.length>o;){const r=i.shift();if(!r||!t[r])return!1;delete t[r],s=C(e,t)}return s}function x(e,t,i){switch(n.propertiesTypes[t]){case\"byte\":e.write(r.from([n.properties[t]])),e.write(r.from([+i]));break;case\"int8\":e.write(r.from([n.properties[t]])),e.write(r.from([i]));break;case\"binary\":e.write(r.from([n.properties[t]])),E(e,i);break;case\"int16\":e.write(r.from([n.properties[t]])),d(e,i);break;case\"int32\":e.write(r.from([n.properties[t]])),function(e,t){const r=p(t);l(\"write4ByteNumber: %o\",r),e.write(r)}(e,i);break;case\"var\":e.write(r.from([n.properties[t]])),v(e,i);break;case\"string\":e.write(r.from([n.properties[t]])),w(e,i);break;case\"pair\":Object.getOwnPropertyNames(i).forEach(o=>{const s=i[o];Array.isArray(s)?s.forEach(i=>{e.write(r.from([n.properties[t]])),_(e,o.toString(),i.toString())}):(e.write(r.from([n.properties[t]])),_(e,o.toString(),s.toString()))});break;default:return e.emit(\"error\",new Error(`Invalid property ${t} value: ${i}`)),!1}}function A(e,t,r){v(e,r);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&null!==t[r]){const n=t[r];if(Array.isArray(n))for(let t=0;t<n.length;t++)x(e,r,n[t]);else x(e,r,n)}}function I(e){return e?e instanceof r?e.length:r.byteLength(e):0}function P(e){return\"string\"==typeof e||e instanceof r}t.exports=y}).call(this)}).call(this,e(\"buffer\").Buffer)},{\"./constants\":38,\"./numbers\":41,buffer:17,debug:18,\"process-nextick-args\":49}],45:[function(e,t,r){var n=1e3,i=60*n,o=60*i,s=24*o,a=7*s,l=365.25*s;function u(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+\" \"+n+(i?\"s\":\"\")}t.exports=function(e,t){t=t||{};var r=typeof e;if(\"string\"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return r*l;case\"weeks\":case\"week\":case\"w\":return r*a;case\"days\":case\"day\":case\"d\":return r*s;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return r*o;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return r*i;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return r*n;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return r;default:return}}(e);if(\"number\"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return u(e,t,s,\"day\");if(t>=o)return u(e,t,o,\"hour\");if(t>=i)return u(e,t,i,\"minute\");if(t>=n)return u(e,t,n,\"second\");return e+\" ms\"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+\"d\";if(t>=o)return Math.round(e/o)+\"h\";if(t>=i)return Math.round(e/i)+\"m\";if(t>=n)return Math.round(e/n)+\"s\";return e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},{}],46:[function(e,t,r){const n=e(\"./lib/number-allocator.js\");t.exports.NumberAllocator=n},{\"./lib/number-allocator.js\":47}],47:[function(e,t,r){\"use strict\";const n=e(\"js-sdsl\").Set,i=e(\"debug\")(\"number-allocator:trace\"),o=e(\"debug\")(\"number-allocator:error\");function s(e,t){this.low=e,this.high=t}function a(e,t){if(!(this instanceof a))return new a(e,t);this.min=e,this.max=t,this.ss=new n([],(e,t)=>e.compare(t)),i(\"Create\"),this.clear()}s.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},s.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},a.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},a.prototype.alloc=function(){if(0===this.ss.size())return i(\"alloc():empty\"),null;const e=this.ss.front(),t=e.low;return t+1<=e.high?++e.low:this.ss.eraseElementByPos(0),i(\"alloc():\"+t),t},a.prototype.use=function(e){const t=new s(e,e),r=this.ss.lowerBound(t);if(r){if(r.equals(t))return this.ss.eraseElementByValue(r),i(\"use():\"+e),!0;if(r.low>e)return!1;if(r.low===e)return++r.low,i(\"use():\"+e),!0;if(r.high===e)return--r.high,i(\"use():\"+e),!0;const n=r.low;return r.low=e+1,this.ss.insert(new s(n,e-1)),i(\"use():\"+e),!0}return i(\"use():failed\"),!1},a.prototype.free=function(e){if(e<this.min||e>this.max)return void o(\"free():\"+e+\" is out of range\");const t=new s(e,e),r=this.ss.lowerBound(t);if(r){if(r.low<=e&&e<=r.high)return void o(\"free():\"+e+\" has already been vacant\");if(r===this.ss.front())e+1===r.low?--r.low:this.ss.insert(t);else{const n=this.ss.reverseLowerBound(t);n.high+1===e?e+1===r.low?(this.ss.eraseElementByValue(n),r.low=n.low):n.high=e:e+1===r.low?r.low=e:this.ss.insert(t)}}else{if(r===this.ss.front())return void this.ss.insert(t);const n=this.ss.reverseLowerBound(t);n.high+1===e?n.high=e:this.ss.insert(t)}i(\"free():\"+e)},a.prototype.clear=function(){i(\"clear()\"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},a.prototype.intervalCount=function(){return this.ss.size()},a.prototype.dump=function(){console.log(\"length:\"+this.ss.size());for(const e of this.ss)console.log(e)},t.exports=a},{debug:18,\"js-sdsl\":36}],48:[function(e,t,r){var n=e(\"wrappy\");function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||\"Function wrapped with `once`\";return t.onceError=r+\" shouldn't be called more than once\",t.called=!1,t}t.exports=n(i),t.exports.strict=n(o),i.proto=i(function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return o(this)},configurable:!0})})},{wrappy:79}],49:[function(e,t,r){(function(e){(function(){\"use strict\";void 0===e||!e.version||0===e.version.indexOf(\"v0.\")||0===e.version.indexOf(\"v1.\")&&0!==e.version.indexOf(\"v1.8.\")?t.exports={nextTick:function(t,r,n,i){if(\"function\"!=typeof t)throw new TypeError('\"callback\" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this)}).call(this,e(\"_process\"))},{_process:50}],50:[function(e,t,r){var n,i,o=t.exports={};function s(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],h=!1,f=-1;function p(){h&&u&&(h=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!h){var e=l(p);h=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||h||l(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(e){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},{}],51:[function(e,t,r){(function(e){(function(){!function(n){var i=\"object\"==typeof r&&r&&!r.nodeType&&r,o=\"object\"==typeof t&&t&&!t.nodeType&&t,s=\"object\"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(n=s);var a,l,u=2147483647,c=36,h=1,f=26,p=38,d=700,g=72,y=128,b=\"-\",m=/^xn--/,v=/[^\\x20-\\x7E]/,w=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,_={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},k=c-h,S=Math.floor,E=String.fromCharCode;function C(e){throw new RangeError(_[e])}function T(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function x(e,t){var r=e.split(\"@\"),n=\"\";return r.length>1&&(n=r[0]+\"@\",e=r[1]),n+T((e=e.replace(w,\".\")).split(\".\"),t).join(\".\")}function A(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function I(e){return T(e,function(e){var t=\"\";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)}).join(\"\")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,r){var n=0;for(e=r?S(e/d):e>>1,e+=S(e/t);e>k*f>>1;n+=c)e=S(e/k);return S(n+(k+1)*e/(e+p))}function B(e){var t,r,n,i,o,s,a,l,p,d,m,v=[],w=e.length,_=0,k=y,E=g;for((r=e.lastIndexOf(b))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&C(\"not-basic\"),v.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=_,s=1,a=c;i>=w&&C(\"invalid-input\"),((l=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:c)>=c||l>S((u-_)/s))&&C(\"overflow\"),_+=l*s,!(l<(p=a<=E?h:a>=E+f?f:a-E));a+=c)s>S(u/(d=c-p))&&C(\"overflow\"),s*=d;E=O(_-o,t=v.length+1,0==o),S(_/t)>u-k&&C(\"overflow\"),k+=S(_/t),_%=t,v.splice(_++,0,k)}return I(v)}function R(e){var t,r,n,i,o,s,a,l,p,d,m,v,w,_,k,T=[];for(v=(e=A(e)).length,t=y,r=0,o=g,s=0;s<v;++s)(m=e[s])<128&&T.push(E(m));for(n=i=T.length,i&&T.push(b);n<v;){for(a=u,s=0;s<v;++s)(m=e[s])>=t&&m<a&&(a=m);for(a-t>S((u-r)/(w=n+1))&&C(\"overflow\"),r+=(a-t)*w,t=a,s=0;s<v;++s)if((m=e[s])<t&&++r>u&&C(\"overflow\"),m==t){for(l=r,p=c;!(l<(d=p<=o?h:p>=o+f?f:p-o));p+=c)k=l-d,_=c-d,T.push(E(P(d+k%_,0))),l=S(k/_);T.push(E(P(l,0))),o=O(r,w,n==i),r=0,++n}++r,++t}return T.join(\"\")}if(a={version:\"1.4.1\",ucs2:{decode:A,encode:I},decode:B,encode:R,toASCII:function(e){return x(e,function(e){return v.test(e)?\"xn--\"+R(e):e})},toUnicode:function(e){return x(e,function(e){return m.test(e)?B(e.slice(4).toLowerCase()):e})}},i&&o)if(t.exports==i)o.exports=a;else for(l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);else n.punycode=a}(this)}).call(this)}).call(this,\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],52:[function(e,t,r){\"use strict\";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||\"&\",r=r||\"=\";var s={};if(\"string\"!=typeof e||0===e.length)return s;var a=/\\+/g;e=e.split(t);var l=1e3;o&&\"number\"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,f,p,d,g=e[c].replace(a,\"%20\"),y=g.indexOf(r);y>=0?(h=g.substr(0,y),f=g.substr(y+1)):(h=g,f=\"\"),p=decodeURIComponent(h),d=decodeURIComponent(f),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)}},{}],53:[function(e,t,r){\"use strict\";var n=function(e){switch(typeof e){case\"string\":return e;case\"boolean\":return e?\"true\":\"false\";case\"number\":return isFinite(e)?e:\"\";default:return\"\"}};t.exports=function(e,t,r,a){return t=t||\"&\",r=r||\"=\",null===e&&(e=void 0),\"object\"==typeof e?o(s(e),function(s){var a=encodeURIComponent(n(s))+r;return i(e[s])?o(e[s],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[s]))}).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):\"\"};var i=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],54:[function(e,t,r){\"use strict\";r.decode=r.parse=e(\"./decode\"),r.encode=r.stringify=e(\"./encode\")},{\"./decode\":52,\"./encode\":53}],55:[function(e,t,r){\"use strict\";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return\"string\"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?\"one of \".concat(t,\" \").concat(e.slice(0,r-1).join(\", \"),\", or \")+e[r-1]:2===r?\"one of \".concat(t,\" \").concat(e[0],\" or \").concat(e[1]):\"of \".concat(t,\" \").concat(e[0])}return\"of \".concat(t,\" \").concat(String(e))}i(\"ERR_INVALID_OPT_VALUE\",function(e,t){return'The value \"'+t+'\" is invalid for option \"'+e+'\"'},TypeError),i(\"ERR_INVALID_ARG_TYPE\",function(e,t,r){var n,i,s,a;if(\"string\"==typeof t&&(i=\"not \",t.substr(!s||s<0?0:+s,i.length)===i)?(n=\"must not be\",t=t.replace(/^not /,\"\")):n=\"must be\",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e,\" argument\"))a=\"The \".concat(e,\" \").concat(n,\" \").concat(o(t,\"type\"));else{var l=function(e,t,r){return\"number\"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,\".\")?\"property\":\"argument\";a='The \"'.concat(e,'\" ').concat(l,\" \").concat(n,\" \").concat(o(t,\"type\"))}return a+=\". Received type \".concat(typeof r)},TypeError),i(\"ERR_STREAM_PUSH_AFTER_EOF\",\"stream.push() after EOF\"),i(\"ERR_METHOD_NOT_IMPLEMENTED\",function(e){return\"The \"+e+\" method is not implemented\"}),i(\"ERR_STREAM_PREMATURE_CLOSE\",\"Premature close\"),i(\"ERR_STREAM_DESTROYED\",function(e){return\"Cannot call \"+e+\" after a stream was destroyed\"}),i(\"ERR_MULTIPLE_CALLBACK\",\"Callback called multiple times\"),i(\"ERR_STREAM_CANNOT_PIPE\",\"Cannot pipe, not readable\"),i(\"ERR_STREAM_WRITE_AFTER_END\",\"write after end\"),i(\"ERR_STREAM_NULL_VALUES\",\"May not write null values to stream\",TypeError),i(\"ERR_UNKNOWN_ENCODING\",function(e){return\"Unknown encoding: \"+e},TypeError),i(\"ERR_STREAM_UNSHIFT_AFTER_END_EVENT\",\"stream.unshift() after end event\"),t.exports.codes=n},{}],56:[function(e,t,r){(function(r){(function(){\"use strict\";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e(\"./_stream_readable\"),o=e(\"./_stream_writable\");e(\"inherits\")(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var l=s[a];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once(\"end\",c)))}function c(){this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e(\"_process\"))},{\"./_stream_readable\":58,\"./_stream_writable\":60,_process:50,inherits:24}],57:[function(e,t,r){\"use strict\";t.exports=i;var n=e(\"./_stream_transform\");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e(\"inherits\")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{\"./_stream_transform\":59,inherits:24}],58:[function(e,t,r){(function(r,n){(function(){\"use strict\";var i;t.exports=C,C.ReadableState=E;e(\"events\").EventEmitter;var o=function(e,t){return e.listeners(t).length},s=e(\"./internal/streams/stream\"),a=e(\"buffer\").Buffer,l=n.Uint8Array||function(){};var u,c=e(\"util\");u=c&&c.debuglog?c.debuglog(\"stream\"):function(){};var h,f,p,d=e(\"./internal/streams/buffer_list\"),g=e(\"./internal/streams/destroy\"),y=e(\"./internal/streams/state\").getHighWaterMark,b=e(\"../errors\").codes,m=b.ERR_INVALID_ARG_TYPE,v=b.ERR_STREAM_PUSH_AFTER_EOF,w=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(\"inherits\")(C,s);var k=g.errorOrDestroy,S=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function E(t,r,n){i=i||e(\"./_stream_duplex\"),t=t||{},\"boolean\"!=typeof n&&(n=r instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,\"readableHighWaterMark\",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=e(\"string_decoder/\").StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function C(t){if(i=i||e(\"./_stream_duplex\"),!(this instanceof C))return new C(t);var r=this instanceof i;this._readableState=new E(t,this,r),this.readable=!0,t&&(\"function\"==typeof t.read&&(this._read=t.read),\"function\"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function T(e,t,r,n,i){u(\"readableAddChunk\",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(u(\"onEofChunk\"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}(e,s);else if(i||(o=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof l||\"string\"==typeof t||void 0===t||e.objectMode||(r=new m(\"chunk\",[\"string\",\"Buffer\",\"Uint8Array\"],t));var n;return r}(s,t)),o)k(e,o);else if(s.objectMode||t&&t.length>0)if(\"string\"==typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)s.endEmitted?k(e,new _):x(e,s,t,!0);else if(s.ended)k(e,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?x(e,s,t,!1):B(e,s)):x(e,s,t,!1)}else n||(s.reading=!1,B(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit(\"data\",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),B(e,t)}Object.defineProperty(C.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=g.destroy,C.prototype._undestroy=g.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:\"string\"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=\"\"),r=!0),T(this,e,t,!1,r)},C.prototype.unshift=function(e){return T(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){h||(h=e(\"string_decoder/\").StringDecoder);var r=new h(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i=\"\";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),\"\"!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;u(\"emitReadable\",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u(\"emitReadable\",t.flowing),t.emittedReadable=!0,r.nextTick(O,e))}function O(e){var t=e._readableState;u(\"emitReadable_\",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit(\"readable\"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function B(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u(\"maybeReadMore read 0\"),e.read(0),r===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount(\"readable\")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount(\"data\")>0&&e.resume()}function N(e){u(\"readable nexttick read 0\"),e.read(0)}function L(e,t){u(\"resume\",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit(\"resume\"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(u(\"flow\",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(\"\"):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function q(e){var t=e._readableState;u(\"endReadable\",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){if(u(\"endReadableNT\",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit(\"end\"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){u(\"read\",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u(\"read: emitReadable\",t.length,t.ended),0===t.length&&t.ended?q(this):P(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&q(this),null;var n,i=t.needReadable;return u(\"need readable\",i),(0===t.length||t.length-e<t.highWaterMark)&&u(\"length less than watermark\",i=!0),t.ended||t.reading?u(\"reading or ended\",i=!1):i&&(u(\"do read\"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&q(this)),null!==n&&this.emit(\"data\",n),n},C.prototype._read=function(e){k(this,new w(\"_read()\"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,u(\"pipe count=%d opts=%j\",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function a(t,r){u(\"onunpipe\"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u(\"cleanup\"),e.removeListener(\"close\",d),e.removeListener(\"finish\",g),e.removeListener(\"drain\",c),e.removeListener(\"error\",p),e.removeListener(\"unpipe\",a),n.removeListener(\"end\",l),n.removeListener(\"end\",y),n.removeListener(\"data\",f),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function l(){u(\"onend\"),e.end()}i.endEmitted?r.nextTick(s):n.once(\"end\",s),e.on(\"unpipe\",a);var c=function(e){return function(){var t=e._readableState;u(\"pipeOnDrain\",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,\"data\")&&(t.flowing=!0,j(e))}}(n);e.on(\"drain\",c);var h=!1;function f(t){u(\"ondata\");var r=e.write(t);u(\"dest.write\",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!h&&(u(\"false write response, pause\",i.awaitDrain),i.awaitDrain++),n.pause())}function p(t){u(\"onerror\",t),y(),e.removeListener(\"error\",p),0===o(e,\"error\")&&k(e,t)}function d(){e.removeListener(\"finish\",g),y()}function g(){u(\"onfinish\"),e.removeListener(\"close\",d),y()}function y(){u(\"unpipe\"),n.unpipe(e)}return n.on(\"data\",f),function(e,t,r){if(\"function\"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,\"error\",p),e.once(\"close\",d),e.once(\"finish\",g),e.emit(\"pipe\",n),i.flowing||(u(\"pipe resume\"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(\"unpipe\",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit(\"unpipe\",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit(\"unpipe\",this,r),this)},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return\"data\"===e?(i.readableListening=this.listenerCount(\"readable\")>0,!1!==i.flowing&&this.resume()):\"readable\"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u(\"on readable\",i.length,i.reading),i.length?P(this):i.reading||r.nextTick(N,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return\"readable\"===e&&r.nextTick(M,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return\"readable\"!==e&&void 0!==e||r.nextTick(M,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(u(\"resume\"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return u(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(u(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on(\"end\",function(){if(u(\"wrapped end\"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on(\"data\",function(i){(u(\"wrapped data\"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&\"function\"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){u(\"wrapped _read\",t),n&&(n=!1,e.resume())},this},\"function\"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=e(\"./internal/streams/async_iterator\")),f(this)}),Object.defineProperty(C.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,\"readableBuffer\",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,\"readableFlowing\",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=U,Object.defineProperty(C.prototype,\"readableLength\",{enumerable:!1,get:function(){return this._readableState.length}}),\"function\"==typeof Symbol&&(C.from=function(t,r){return void 0===p&&(p=e(\"./internal/streams/from\")),p(C,t,r)})}).call(this)}).call(this,e(\"_process\"),\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../errors\":55,\"./_stream_duplex\":56,\"./internal/streams/async_iterator\":61,\"./internal/streams/buffer_list\":62,\"./internal/streams/destroy\":63,\"./internal/streams/from\":65,\"./internal/streams/state\":67,\"./internal/streams/stream\":68,_process:50,buffer:17,events:22,inherits:24,\"string_decoder/\":75,util:16}],59:[function(e,t,r){\"use strict\";t.exports=u;var n=e(\"../errors\").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,l=e(\"./_stream_duplex\");function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit(\"error\",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(\"function\"==typeof e.transform&&(this._transform=e.transform),\"function\"==typeof e.flush&&(this._flush=e.flush)),this.on(\"prefinish\",c)}function c(){var e=this;\"function\"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,r){h(e,t,r)})}function h(e,t,r){if(t)return e.emit(\"error\",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e(\"inherits\")(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i(\"_transform()\"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},{\"../errors\":55,\"./_stream_duplex\":56,inherits:24}],60:[function(e,t,r){(function(r,n){(function(){\"use strict\";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var o;t.exports=C,C.WritableState=E;var s={deprecate:e(\"util-deprecate\")},a=e(\"./internal/streams/stream\"),l=e(\"buffer\").Buffer,u=n.Uint8Array||function(){};var c,h=e(\"./internal/streams/destroy\"),f=e(\"./internal/streams/state\").getHighWaterMark,p=e(\"../errors\").codes,d=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_MULTIPLE_CALLBACK,b=p.ERR_STREAM_CANNOT_PIPE,m=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,_=p.ERR_UNKNOWN_ENCODING,k=h.errorOrDestroy;function S(){}function E(t,n,s){o=o||e(\"./_stream_duplex\"),t=t||{},\"boolean\"!=typeof s&&(s=n instanceof o),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,\"writableHighWaterMark\",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(\"function\"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(O,e,t),e._writableState.errorEmitted=!0,k(e,i)):(o(i),e._writableState.errorEmitted=!0,k(e,i),O(e,t))}(e,n,i,t,o);else{var s=I(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),i?r.nextTick(x,e,n,s,o):x(e,n,s,o)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(t){var r=this instanceof(o=o||e(\"./_stream_duplex\"));if(!r&&!c.call(C,this))return new C(t);this._writableState=new E(t,this,r),this.writable=!0,t&&(\"function\"==typeof t.write&&(this._write=t.write),\"function\"==typeof t.writev&&(this._writev=t.writev),\"function\"==typeof t.destroy&&(this._destroy=t.destroy),\"function\"==typeof t.final&&(this._final=t.final)),a.call(this)}function T(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m(\"write\")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit(\"drain\"))}(e,t),t.pendingcb--,n(),O(e,t)}function A(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,l=!0;r;)o[a]=r,r.isBuf||(l=!1),r=r.next,a+=1;o.allBuffers=l,T(e,t,!0,t.length,o,\"\",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,h=r.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,c,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final(function(r){t.pendingcb--,r&&k(e,r),t.prefinished=!0,e.emit(\"prefinish\"),O(e,t)})}function O(e,t){var n=I(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||(\"function\"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit(\"prefinish\")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit(\"finish\"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e(\"inherits\")(C,a),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,\"buffer\",{get:s.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(e){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===C&&(e&&e._writableState instanceof E)}})):c=function(e){return e instanceof this},C.prototype.pipe=function(){k(this,new b)},C.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,l.isBuffer(i)||i instanceof u);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),\"function\"==typeof t&&(n=t,t=null),a?t=\"buffer\":t||(t=o.defaultEncoding),\"function\"!=typeof n&&(n=S),o.ending?function(e,t){var n=new w;k(e,n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o;return null===n?o=new v:\"string\"==typeof n||t.objectMode||(o=new d(\"chunk\",[\"string\",\"Buffer\"],n)),!o||(k(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||\"string\"!=typeof t||(t=l.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i=\"buffer\",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,n,i,o);return u}(this,o,a,e,t,n)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},C.prototype.setDefaultEncoding=function(e){if(\"string\"==typeof e&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new g(\"_write()\"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?r.nextTick(n):e.once(\"finish\",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=h.destroy,C.prototype._undestroy=h.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e(\"_process\"),\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../errors\":55,\"./_stream_duplex\":56,\"./internal/streams/destroy\":63,\"./internal/streams/state\":67,\"./internal/streams/stream\":68,_process:50,buffer:17,inherits:24,\"util-deprecate\":78}],61:[function(e,t,r){(function(r){(function(){\"use strict\";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e(\"./end-of-stream\"),s=Symbol(\"lastResolve\"),a=Symbol(\"lastReject\"),l=Symbol(\"error\"),u=Symbol(\"ended\"),c=Symbol(\"lastPromise\"),h=Symbol(\"handlePromise\"),f=Symbol(\"stream\");function p(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[c]=null,e[s]=null,e[a]=null,t(p(r,!1)))}}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(t,n){r.nextTick(function(){e[l]?n(e[l]):t(p(void 0,!0))})});var n,i=this[c];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[u]?r(p(void 0,!0)):t[h](r,n)},n)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[h])}return this[c]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,\"return\",function(){var e=this;return new Promise(function(t,r){e[f].destroy(null,function(e){e?r(e):t(p(void 0,!0))})})}),n),g);t.exports=function(e){var t,n=Object.create(y,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[f].read();r?(n[c]=null,n[s]=null,n[a]=null,e(p(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[c]=null,o(e,function(e){if(e&&\"ERR_STREAM_PREMATURE_CLOSE\"!==e.code){var t=n[a];return null!==t&&(n[c]=null,n[s]=null,n[a]=null,t(e)),void(n[l]=e)}var r=n[s];null!==r&&(n[c]=null,n[s]=null,n[a]=null,r(p(void 0,!0))),n[u]=!0}),e.on(\"readable\",function(e){r.nextTick(d,e)}.bind(null,n)),n}}).call(this)}).call(this,e(\"_process\"))},{\"./end-of-stream\":64,_process:50}],62:[function(e,t,r){\"use strict\";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=e(\"buffer\").Buffer,a=e(\"util\").inspect,l=a&&a.custom||\"inspect\";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,(r=[{key:\"push\",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:\"unshift\",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:\"shift\",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:\"clear\",value:function(){this.head=this.tail=null,this.length=0}},{key:\"join\",value:function(e){if(0===this.length)return\"\";for(var t=this.head,r=\"\"+t.data;t=t.next;)r+=e+t.data;return r}},{key:\"concat\",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:\"consume\",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:\"first\",value:function(){return this.head.data}},{key:\"_getString\",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:\"_getBuffer\",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),u&&o(t,u),e}()},{buffer:17,util:16}],63:[function(e,t,r){(function(e){(function(){\"use strict\";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit(\"close\")}function i(e,t){e.emit(\"error\",t)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(n,s):(s._writableState.errorEmitted=!0,e.nextTick(r,s,t)):e.nextTick(r,s,t):o?(e.nextTick(n,s),o(t)):e.nextTick(n,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit(\"error\",t)}}}).call(this)}).call(this,e(\"_process\"))},{_process:50}],64:[function(e,t,r){\"use strict\";var n=e(\"../../../errors\").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if(\"function\"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||c()},u=t._writableState&&t._writableState.finished,c=function(){a=!1,u=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},p=function(e){o.call(t,e)},d=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on(\"finish\",c)};return function(e){return e.setHeader&&\"function\"==typeof e.abort}(t)?(t.on(\"complete\",c),t.on(\"abort\",d),t.req?g():t.on(\"request\",g)):a&&!t._writableState&&(t.on(\"end\",l),t.on(\"close\",l)),t.on(\"end\",f),t.on(\"finish\",c),!1!==r.error&&t.on(\"error\",p),t.on(\"close\",d),function(){t.removeListener(\"complete\",c),t.removeListener(\"abort\",d),t.removeListener(\"request\",g),t.req&&t.req.removeListener(\"finish\",c),t.removeListener(\"end\",l),t.removeListener(\"close\",l),t.removeListener(\"finish\",c),t.removeListener(\"end\",f),t.removeListener(\"error\",p),t.removeListener(\"close\",d)}}},{\"../../../errors\":55}],65:[function(e,t,r){t.exports=function(){throw new Error(\"Readable.from is not available in the browser\")}},{}],66:[function(e,t,r){\"use strict\";var n;var i=e(\"../../../errors\").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(e){e()}function u(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var c,h=function(e){return e.length?\"function\"!=typeof e[e.length-1]?a:e.pop():a}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o(\"streams\");var f=r.map(function(t,i){var o=i<r.length-1;return function(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on(\"close\",function(){a=!0}),void 0===n&&(n=e(\"./end-of-stream\")),n(t,{readable:r,writable:i},function(e){if(e)return o(e);a=!0,o()});var l=!1;return function(e){if(!a&&!l)return l=!0,function(e){return e.setHeader&&\"function\"==typeof e.abort}(t)?t.abort():\"function\"==typeof t.destroy?t.destroy():void o(e||new s(\"pipe\"))}}(t,o,i>0,function(e){c||(c=e),e&&f.forEach(l),o||(f.forEach(l),h(c))})});return r.reduce(u)}},{\"../../../errors\":55,\"./end-of-stream\":64}],67:[function(e,t,r){\"use strict\";var n=e(\"../../../errors\").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:\"highWaterMark\",o);return Math.floor(o)}return e.objectMode?16:16384}}},{\"../../../errors\":55}],68:[function(e,t,r){t.exports=e(\"events\").EventEmitter},{events:22}],69:[function(e,t,r){(r=t.exports=e(\"./lib/_stream_readable.js\")).Stream=r,r.Readable=r,r.Writable=e(\"./lib/_stream_writable.js\"),r.Duplex=e(\"./lib/_stream_duplex.js\"),r.Transform=e(\"./lib/_stream_transform.js\"),r.PassThrough=e(\"./lib/_stream_passthrough.js\"),r.finished=e(\"./lib/internal/streams/end-of-stream.js\"),r.pipeline=e(\"./lib/internal/streams/pipeline.js\")},{\"./lib/_stream_duplex.js\":56,\"./lib/_stream_passthrough.js\":57,\"./lib/_stream_readable.js\":58,\"./lib/_stream_transform.js\":59,\"./lib/_stream_writable.js\":60,\"./lib/internal/streams/end-of-stream.js\":64,\"./lib/internal/streams/pipeline.js\":66}],70:[function(e,t,r){\"use strict\";t.exports=function(){if(\"function\"!=typeof arguments[0])throw new Error(\"callback needed\");if(\"number\"!=typeof arguments[1])throw new Error(\"interval needed\");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new function(e,t,r){var n=this;this._callback=e,this._args=r,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,e,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}(arguments[0],arguments[1],e)}},{}],71:[function(e,t,r){\"use strict\";t.exports=e(\"./index.js\")()},{\"./index.js\":72}],72:[function(e,t,r){(function(e){(function(){\"use strict\";function r(t){return t instanceof e?e.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(e){return(e=e||{}).circles?function(e){var t=[],n=[];return e.proto?function e(o){if(\"object\"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,e);if(o instanceof Map)return new Map(i(Array.from(o),e));if(o instanceof Set)return new Set(i(Array.from(o),e));var s={};for(var a in t.push(o),n.push(s),o){var l=o[a];if(\"object\"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(i(Array.from(l),e));else if(l instanceof Set)s[a]=new Set(i(Array.from(l),e));else if(ArrayBuffer.isView(l))s[a]=r(l);else{var u=t.indexOf(l);s[a]=-1!==u?n[u]:e(l)}}return t.pop(),n.pop(),s}:function e(o){if(\"object\"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,e);if(o instanceof Map)return new Map(i(Array.from(o),e));if(o instanceof Set)return new Set(i(Array.from(o),e));var s={};for(var a in t.push(o),n.push(s),o)if(!1!==Object.hasOwnProperty.call(o,a)){var l=o[a];if(\"object\"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(i(Array.from(l),e));else if(l instanceof Set)s[a]=new Set(i(Array.from(l),e));else if(ArrayBuffer.isView(l))s[a]=r(l);else{var u=t.indexOf(l);s[a]=-1!==u?n[u]:e(l)}}return t.pop(),n.pop(),s};function i(e,i){for(var o=Object.keys(e),s=new Array(o.length),a=0;a<o.length;a++){var l=o[a],u=e[l];if(\"object\"!=typeof u||null===u)s[l]=u;else if(u instanceof Date)s[l]=new Date(u);else if(ArrayBuffer.isView(u))s[l]=r(u);else{var c=t.indexOf(u);s[l]=-1!==c?n[c]:i(u)}}return s}}(e):e.proto?function e(n){if(\"object\"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var o in n){var s=n[o];\"object\"!=typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(t(Array.from(s),e)):s instanceof Set?i[o]=new Set(t(Array.from(s),e)):ArrayBuffer.isView(s)?i[o]=r(s):i[o]=e(s)}return i}:function e(n){if(\"object\"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var o in n)if(!1!==Object.hasOwnProperty.call(n,o)){var s=n[o];\"object\"!=typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(t(Array.from(s),e)):s instanceof Set?i[o]=new Set(t(Array.from(s),e)):ArrayBuffer.isView(s)?i[o]=r(s):i[o]=e(s)}return i};function t(e,t){for(var n=Object.keys(e),i=new Array(n.length),o=0;o<n.length;o++){var s=n[o],a=e[s];\"object\"!=typeof a||null===a?i[s]=a:a instanceof Date?i[s]=new Date(a):ArrayBuffer.isView(a)?i[s]=r(a):i[s]=t(a)}return i}}}).call(this)}).call(this,e(\"buffer\").Buffer)},{buffer:17}],73:[function(e,t,r){var n=e(\"buffer\"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if(\"number\"==typeof e)throw new TypeError(\"Argument must not be a number\");return i(e,t,r)},s.alloc=function(e,t,r){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");var n=i(e);return void 0!==t?\"string\"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return i(e)},s.allocUnsafeSlow=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return n.SlowBuffer(e)}},{buffer:17}],74:[function(e,t,r){t.exports=function(e){var t=e._readableState;return t?t.objectMode||\"number\"==typeof e._duplexState?e.read():e.read((r=t,r.buffer.length?r.buffer.head?r.buffer.head.data.length:r.buffer[0].length:r.length)):null;var r}},{}],75:[function(e,t,r){\"use strict\";var n=e(\"safe-buffer\").Buffer,i=n.isEncoding||function(e){switch((e=\"\"+e)&&e.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return\"utf8\";for(var t;;)switch(e){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return e;default:if(t)return;e=(\"\"+e).toLowerCase(),t=!0}}(e);if(\"string\"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error(\"Unknown encoding: \"+e);return t||e}(e),this.encoding){case\"utf16le\":this.text=l,this.end=u,t=4;break;case\"utf8\":this.fillLast=a,t=4;break;case\"base64\":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,\"\";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,\"\";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,\"\"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString(\"utf16le\",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString(\"utf16le\",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):\"\";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString(\"utf16le\",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString(\"base64\",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString(\"base64\",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+this.lastChar.toString(\"base64\",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):\"\"}r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return\"\";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return\"\";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||\"\"},o.prototype.end=function(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+\"\":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString(\"utf8\",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString(\"utf8\",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{\"safe-buffer\":73}],76:[function(e,t,r){\"use strict\";var n=e(\"punycode\"),i=e(\"./util\");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=v,r.resolve=function(e,t){return v(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},r.format=function(e){i.isString(e)&&(e=v(e));return e instanceof o?e.format():o.prototype.format.call(e)},r.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,u=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),c=[\"'\"].concat(u),h=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(c),f=[\"/\",\"?\",\"#\"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,\"javascript:\":!0},y={javascript:!0,\"javascript:\":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},m=e(\"querystring\");function v(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof e);var o=e.indexOf(\"?\"),a=-1!==o&&o<e.indexOf(\"#\")?\"?\":\"#\",u=e.split(a);u[0]=u[0].replace(/\\\\/g,\"/\");var v=e=u.join(a);if(v=v.trim(),!r&&1===e.split(\"#\").length){var w=l.exec(v);if(w)return this.path=v,this.href=v,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search=\"\",this.query={}),this}var _=s.exec(v);if(_){var k=(_=_[0]).toLowerCase();this.protocol=k,v=v.substr(_.length)}if(r||_||v.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var S=\"//\"===v.substr(0,2);!S||_&&y[_]||(v=v.substr(2),this.slashes=!0)}if(!y[_]&&(S||_&&!b[_])){for(var E,C,T=-1,x=0;x<f.length;x++){-1!==(A=v.indexOf(f[x]))&&(-1===T||A<T)&&(T=A)}-1!==(C=-1===T?v.lastIndexOf(\"@\"):v.lastIndexOf(\"@\",T))&&(E=v.slice(0,C),v=v.slice(C+1),this.auth=decodeURIComponent(E)),T=-1;for(x=0;x<h.length;x++){var A;-1!==(A=v.indexOf(h[x]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=v.length),this.host=v.slice(0,T),v=v.slice(T),this.parseHost(),this.hostname=this.hostname||\"\";var I=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\\./),O=(x=0,P.length);x<O;x++){var B=P[x];if(B&&!B.match(p)){for(var R=\"\",M=0,N=B.length;M<N;M++)B.charCodeAt(M)>127?R+=\"x\":R+=B[M];if(!R.match(p)){var L=P.slice(0,x),j=P.slice(x+1),U=B.match(d);U&&(L.push(U[1]),j.unshift(U[2])),j.length&&(v=\"/\"+j.join(\".\")+v),this.hostname=L.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var q=this.port?\":\"+this.port:\"\",D=this.hostname||\"\";this.host=D+q,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==v[0]&&(v=\"/\"+v))}if(!g[k])for(x=0,O=c.length;x<O;x++){var z=c[x];if(-1!==v.indexOf(z)){var F=encodeURIComponent(z);F===z&&(F=escape(z)),v=v.split(z).join(F)}}var V=v.indexOf(\"#\");-1!==V&&(this.hash=v.substr(V),v=v.slice(0,V));var H=v.indexOf(\"?\");if(-1!==H?(this.search=v.substr(H),this.query=v.substr(H+1),t&&(this.query=m.parse(this.query)),v=v.slice(0,H)):t&&(this.search=\"\",this.query={}),v&&(this.pathname=v),b[k]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){q=this.pathname||\"\";var W=this.search||\"\";this.path=q+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||\"\";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,\":\"),e+=\"@\");var t=this.protocol||\"\",r=this.pathname||\"\",n=this.hash||\"\",o=!1,s=\"\";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&\"?\"+s||\"\";return t&&\":\"!==t.substr(-1)&&(t+=\":\"),this.slashes||(!t||b[t])&&!1!==o?(o=\"//\"+(o||\"\"),r&&\"/\"!==r.charAt(0)&&(r=\"/\"+r)):o||(o=\"\"),n&&\"#\"!==n.charAt(0)&&(n=\"#\"+n),a&&\"?\"!==a.charAt(0)&&(a=\"?\"+a),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace(\"#\",\"%23\"))+n},o.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,\"\"===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];\"protocol\"!==c&&(r[c]=e[c])}return b[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname=\"/\"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!b[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var p=h[f];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||\"\").split(\"/\");d.length&&!(e.host=d.shift()););e.host||(e.host=\"\"),e.hostname||(e.hostname=\"\"),\"\"!==d[0]&&d.unshift(\"\"),d.length<2&&d.unshift(\"\"),r.pathname=d.join(\"/\")}if(r.search=e.search,r.query=e.query,r.host=e.host||\"\",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||\"\",m=r.search||\"\";r.path=g+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&\"/\"===r.pathname.charAt(0),w=e.host||e.pathname&&\"/\"===e.pathname.charAt(0),_=w||v||r.host&&e.pathname,k=_,S=r.pathname&&r.pathname.split(\"/\")||[],E=(d=e.pathname&&e.pathname.split(\"/\")||[],r.protocol&&!b[r.protocol]);if(E&&(r.hostname=\"\",r.port=null,r.host&&(\"\"===S[0]?S[0]=r.host:S.unshift(r.host)),r.host=\"\",e.protocol&&(e.hostname=null,e.port=null,e.host&&(\"\"===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(\"\"===d[0]||\"\"===S[0])),w)r.host=e.host||\"\"===e.host?e.host:r.host,r.hostname=e.hostname||\"\"===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(E)r.hostname=r.host=S.shift(),(I=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path=\"/\"+r.search:r.path=null,r.href=r.format(),r;for(var C=S.slice(-1)[0],T=(r.host||e.host||S.length>1)&&(\".\"===C||\"..\"===C)||\"\"===C,x=0,A=S.length;A>=0;A--)\".\"===(C=S[A])?S.splice(A,1):\"..\"===C?(S.splice(A,1),x++):x&&(S.splice(A,1),x--);if(!_&&!k)for(;x--;x)S.unshift(\"..\");!_||\"\"===S[0]||S[0]&&\"/\"===S[0].charAt(0)||S.unshift(\"\"),T&&\"/\"!==S.join(\"/\").substr(-1)&&S.push(\"\");var I,P=\"\"===S[0]||S[0]&&\"/\"===S[0].charAt(0);E&&(r.hostname=r.host=P?\"\":S.length?S.shift():\"\",(I=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(_=_||r.host&&S.length)&&!P&&S.unshift(\"\"),S.length?r.pathname=S.join(\"/\"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(\":\"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{\"./util\":77,punycode:51,querystring:54}],77:[function(e,t,r){\"use strict\";t.exports={isString:function(e){return\"string\"==typeof e},isObject:function(e){return\"object\"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],78:[function(e,t,r){(function(e){(function(){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&\"true\"===String(r).toLowerCase()}t.exports=function(e,t){if(r(\"noDeprecation\"))return e;var n=!1;return function(){if(!n){if(r(\"throwDeprecation\"))throw new Error(t);r(\"traceDeprecation\")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],79:[function(e,t,r){t.exports=function e(t,r){if(t&&r)return e(t)(r);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");Object.keys(t).forEach(function(e){n[e]=t[e]});return n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return\"function\"==typeof n&&n!==i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),n}}},{}],80:[function(e,t,r){\"use strict\";t.exports=function(){throw new Error(\"ws does not work in the browser. Browser clients must use the native WebSocket object\")}},{}],81:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},{}],82:[function(e,t,r){\"use strict\";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],83:[function(e,t,r){\"use strict\";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&\"function\"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error(\"removing node which does not belong to this list\");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError(\"Reduce of empty list with no initial value\");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError(\"Reduce of empty list with no initial value\");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var s=[];for(n=0;o&&n<t;n++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<r.length;n++)o=i(this,o,r[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{e(\"./iterator.js\")(n)}catch(e){}},{\"./iterator.js\":82}]},{},[12])(12)});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxvRUFBb0UsWUFBWSxxQkFBcUIsMENBQTBDLHdCQUF3QixjQUFjLGFBQWEsS0FBSyxjQUFjLDZCQUE2QixTQUFTLHdDQUF3QyxvRUFBb0UsWUFBWSxxQkFBcUIsMENBQTBDLGtDQUFrQyxjQUFjLGFBQWEsS0FBSyxjQUFjLDZCQUE2QixTQUFTLHVDQUF1Qyx3REFBd0Qsd0JBQXdCLGNBQWMsYUFBYSxTQUFTLFFBQVEsT0FBTyx5Q0FBeUMsaUVBQWlFLFFBQVEsV0FBVyxxQkFBcUIsU0FBUyxnQ0FBZ0Msb0NBQW9DLFNBQVMsVUFBVSxhQUFhLHVCQUF1QixxQ0FBcUMsSUFBSSxzQkFBc0IsV0FBVyxFQUFFLG1CQUFtQixFQUFFLEdBQUcsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9saWJyYXJpZXMvbXF0dC9tcXR0Lm1pbi5qcz9jNDk2Il0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcykubXF0dD1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBpKHMsYSl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZsKXJldHVybiBsKHMsITApO2lmKG8pcmV0dXJuIG8ocywhMCk7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitzK1wiJ1wiKTt0aHJvdyB1LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdX12YXIgYz1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwoYy5leHBvcnRzLGZ1bmN0aW9uKGUpe3JldHVybiBpKHRbc11bMV1bZV18fGUpfSxjLGMuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylpKG5bc10pO3JldHVybiBpfX0oKSh7MTpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihyLG4peyhmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2NvbnN0IGk9ZShcImV2ZW50c1wiKS5FdmVudEVtaXR0ZXIsbz1lKFwiLi9zdG9yZVwiKSxzPWUoXCIuL3RvcGljLWFsaWFzLXJlY3ZcIiksYT1lKFwiLi90b3BpYy1hbGlhcy1zZW5kXCIpLGw9ZShcIm1xdHQtcGFja2V0XCIpLHU9ZShcIi4vZGVmYXVsdC1tZXNzYWdlLWlkLXByb3ZpZGVyXCIpLGM9ZShcInJlYWRhYmxlLXN0cmVhbVwiKS5Xcml0YWJsZSxoPWUoXCJpbmhlcml0c1wiKSxmPWUoXCJyZWludGVydmFsXCIpLHA9ZShcInJmZGMvZGVmYXVsdFwiKSxkPWUoXCIuL3ZhbGlkYXRpb25zXCIpLGc9ZShcInh0ZW5kXCIpLHk9ZShcImRlYnVnXCIpKFwibXF0dGpzOmNsaWVudFwiKSxiPXI/ci5uZXh0VGljazpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9LG09bi5zZXRJbW1lZGlhdGV8fGZ1bmN0aW9uKGUpe2IoZSl9LHY9e2tlZXBhbGl2ZTo2MCxyZXNjaGVkdWxlUGluZ3M6ITAscHJvdG9jb2xJZDpcIk1RVFRcIixwcm90b2NvbFZlcnNpb246NCxyZWNvbm5lY3RQZXJpb2Q6MWUzLGNvbm5lY3RUaW1lb3V0OjNlNCxjbGVhbjohMCxyZXN1YnNjcmliZTohMH0sdz1bXCJFQ09OTlJFRlVTRURcIixcIkVBRERSSU5VU0VcIixcIkVDT05OUkVTRVRcIixcIkVOT1RGT1VORFwiXSxfPXswOlwiXCIsMTpcIlVuYWNjZXB0YWJsZSBwcm90b2NvbCB2ZXJzaW9uXCIsMjpcIklkZW50aWZpZXIgcmVqZWN0ZWRcIiwzOlwiU2VydmVyIHVuYXZhaWxhYmxlXCIsNDpcIkJhZCB1c2VybmFtZSBvciBwYXNzd29yZFwiLDU6XCJOb3QgYXV0aG9yaXplZFwiLDE2OlwiTm8gbWF0Y2hpbmcgc3Vic2NyaWJlcnNcIiwxNzpcIk5vIHN1YnNjcmlwdGlvbiBleGlzdGVkXCIsMTI4OlwiVW5zcGVjaWZpZWQgZXJyb3JcIiwxMjk6XCJNYWxmb3JtZWQgUGFja2V0XCIsMTMwOlwiUHJvdG9jb2wgRXJyb3JcIiwxMzE6XCJJbXBsZW1lbnRhdGlvbiBzcGVjaWZpYyBlcnJvclwiLDEzMjpcIlVuc3VwcG9ydGVkIFByb3RvY29sIFZlcnNpb25cIiwxMzM6XCJDbGllbnQgSWRlbnRpZmllciBub3QgdmFsaWRcIiwxMzQ6XCJCYWQgVXNlciBOYW1lIG9yIFBhc3N3b3JkXCIsMTM1OlwiTm90IGF1dGhvcml6ZWRcIiwxMzY6XCJTZXJ2ZXIgdW5hdmFpbGFibGVcIiwxMzc6XCJTZXJ2ZXIgYnVzeVwiLDEzODpcIkJhbm5lZFwiLDEzOTpcIlNlcnZlciBzaHV0dGluZyBkb3duXCIsMTQwOlwiQmFkIGF1dGhlbnRpY2F0aW9uIG1ldGhvZFwiLDE0MTpcIktlZXAgQWxpdmUgdGltZW91dFwiLDE0MjpcIlNlc3Npb24gdGFrZW4gb3ZlclwiLDE0MzpcIlRvcGljIEZpbHRlciBpbnZhbGlkXCIsMTQ0OlwiVG9waWMgTmFtZSBpbnZhbGlkXCIsMTQ1OlwiUGFja2V0IGlkZW50aWZpZXIgaW4gdXNlXCIsMTQ2OlwiUGFja2V0IElkZW50aWZpZXIgbm90IGZvdW5kXCIsMTQ3OlwiUmVjZWl2ZSBNYXhpbXVtIGV4Y2VlZGVkXCIsMTQ4OlwiVG9waWMgQWxpYXMgaW52YWxpZFwiLDE0OTpcIlBhY2tldCB0b28gbGFyZ2VcIiwxNTA6XCJNZXNzYWdlIHJhdGUgdG9vIGhpZ2hcIiwxNTE6XCJRdW90YSBleGNlZWRlZFwiLDE1MjpcIkFkbWluaXN0cmF0aXZlIGFjdGlvblwiLDE1MzpcIlBheWxvYWQgZm9ybWF0IGludmFsaWRcIiwxNTQ6XCJSZXRhaW4gbm90IHN1cHBvcnRlZFwiLDE1NTpcIlFvUyBub3Qgc3VwcG9ydGVkXCIsMTU2OlwiVXNlIGFub3RoZXIgc2VydmVyXCIsMTU3OlwiU2VydmVyIG1vdmVkXCIsMTU4OlwiU2hhcmVkIFN1YnNjcmlwdGlvbnMgbm90IHN1cHBvcnRlZFwiLDE1OTpcIkNvbm5lY3Rpb24gcmF0ZSBleGNlZWRlZFwiLDE2MDpcIk1heGltdW0gY29ubmVjdCB0aW1lXCIsMTYxOlwiU3Vic2NyaXB0aW9uIElkZW50aWZpZXJzIG5vdCBzdXBwb3J0ZWRcIiwxNjI6XCJXaWxkY2FyZCBTdWJzY3JpcHRpb25zIG5vdCBzdXBwb3J0ZWRcIn07ZnVuY3Rpb24gayhlLHQpe2xldCByO3QucHJvcGVydGllcyYmKHI9dC5wcm9wZXJ0aWVzLnRvcGljQWxpYXMpO2xldCBuPXQudG9waWMudG9TdHJpbmcoKTtpZigwPT09bi5sZW5ndGgpe2lmKHZvaWQgMD09PXIpcmV0dXJuIG5ldyBFcnJvcihcIlVucmVnaXN0ZXJlZCBUb3BpYyBBbGlhc1wiKTtpZih2b2lkIDA9PT0obj1lLnRvcGljQWxpYXNTZW5kLmdldFRvcGljQnlBbGlhcyhyKSkpcmV0dXJuIG5ldyBFcnJvcihcIlVucmVnaXN0ZXJlZCBUb3BpYyBBbGlhc1wiKTt0LnRvcGljPW59ciYmZGVsZXRlIHQucHJvcGVydGllcy50b3BpY0FsaWFzfWZ1bmN0aW9uIFMoZSx0LHIpe3koXCJzZW5kUGFja2V0IDo6IHBhY2tldDogJU9cIix0KSx5KFwic2VuZFBhY2tldCA6OiBlbWl0dGluZyBgcGFja2V0c2VuZGBcIiksZS5lbWl0KFwicGFja2V0c2VuZFwiLHQpLHkoXCJzZW5kUGFja2V0IDo6IHdyaXRpbmcgdG8gc3RyZWFtXCIpO2NvbnN0IG49bC53cml0ZVRvU3RyZWFtKHQsZS5zdHJlYW0sZS5vcHRpb25zKTt5KFwic2VuZFBhY2tldCA6OiB3cml0ZVRvU3RyZWFtIHJlc3VsdCAlc1wiLG4pLCFuJiZyJiZyIT09Qz8oeShcInNlbmRQYWNrZXQgOjogaGFuZGxlIGV2ZW50cyBvbiBgZHJhaW5gIG9uY2UgdGhyb3VnaCBjYWxsYmFjay5cIiksZS5zdHJlYW0ub25jZShcImRyYWluXCIscikpOnImJih5KFwic2VuZFBhY2tldCA6OiBpbnZva2luZyBjYlwiKSxyKCkpfWZ1bmN0aW9uIEUoZSx0LHIsbil7eShcInN0b3JlQW5kU2VuZCA6OiBzdG9yZSBwYWNrZXQgd2l0aCBjbWQgJXMgdG8gb3V0Z29pbmdTdG9yZVwiLHQuY21kKTtsZXQgaSxvPXQ7aWYoXCJwdWJsaXNoXCI9PT1vLmNtZCYmKG89cCh0KSxpPWsoZSxvKSkpcmV0dXJuIHImJnIoaSk7ZS5vdXRnb2luZ1N0b3JlLnB1dChvLGZ1bmN0aW9uKGkpe2lmKGkpcmV0dXJuIHImJnIoaSk7bigpLFMoZSx0LHIpfSl9ZnVuY3Rpb24gQyhlKXt5KFwibm9wIDo6XCIsZSl9ZnVuY3Rpb24gVChlLHQpe2xldCByO2NvbnN0IG49dGhpcztpZighKHRoaXMgaW5zdGFuY2VvZiBUKSlyZXR1cm4gbmV3IFQoZSx0KTtmb3IociBpbiB0aGlzLm9wdGlvbnM9dHx8e30sdil2b2lkIDA9PT10aGlzLm9wdGlvbnNbcl0/dGhpcy5vcHRpb25zW3JdPXZbcl06dGhpcy5vcHRpb25zW3JdPXRbcl07eShcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5wcm90b2NvbFwiLHQucHJvdG9jb2wpLHkoXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMucHJvdG9jb2xWZXJzaW9uXCIsdC5wcm90b2NvbFZlcnNpb24pLHkoXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMudXNlcm5hbWVcIix0LnVzZXJuYW1lKSx5KFwiTXF0dENsaWVudCA6OiBvcHRpb25zLmtlZXBhbGl2ZVwiLHQua2VlcGFsaXZlKSx5KFwiTXF0dENsaWVudCA6OiBvcHRpb25zLnJlY29ubmVjdFBlcmlvZFwiLHQucmVjb25uZWN0UGVyaW9kKSx5KFwiTXF0dENsaWVudCA6OiBvcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZFwiLHQucmVqZWN0VW5hdXRob3JpemVkKSx5KFwiTXF0dENsaWVudCA6OiBvcHRpb25zLnRvcGljQWxpYXNNYXhpbXVtXCIsdC50b3BpY0FsaWFzTWF4aW11bSksdGhpcy5vcHRpb25zLmNsaWVudElkPVwic3RyaW5nXCI9PXR5cGVvZiB0LmNsaWVudElkP3QuY2xpZW50SWQ6XCJtcXR0anNfXCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyKDIsOCkseShcIk1xdHRDbGllbnQgOjogY2xpZW50SWRcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMub3B0aW9ucy5jdXN0b21IYW5kbGVBY2tzPTU9PT10LnByb3RvY29sVmVyc2lvbiYmdC5jdXN0b21IYW5kbGVBY2tzP3QuY3VzdG9tSGFuZGxlQWNrczpmdW5jdGlvbigpe2FyZ3VtZW50c1szXSgwKX0sdGhpcy5zdHJlYW1CdWlsZGVyPWUsdGhpcy5tZXNzYWdlSWRQcm92aWRlcj12b2lkIDA9PT10aGlzLm9wdGlvbnMubWVzc2FnZUlkUHJvdmlkZXI/bmV3IHU6dGhpcy5vcHRpb25zLm1lc3NhZ2VJZFByb3ZpZGVyLHRoaXMub3V0Z29pbmdTdG9yZT10Lm91dGdvaW5nU3RvcmV8fG5ldyBvLHRoaXMuaW5jb21pbmdTdG9yZT10LmluY29taW5nU3RvcmV8fG5ldyBvLHRoaXMucXVldWVRb1NaZXJvPXZvaWQgMD09PXQucXVldWVRb1NaZXJvfHx0LnF1ZXVlUW9TWmVybyx0aGlzLl9yZXN1YnNjcmliZVRvcGljcz17fSx0aGlzLm1lc3NhZ2VJZFRvVG9waWM9e30sdGhpcy5waW5nVGltZXI9bnVsbCx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmRpc2Nvbm5lY3Rpbmc9ITEsdGhpcy5xdWV1ZT1bXSx0aGlzLmNvbm5hY2tUaW1lcj1udWxsLHRoaXMucmVjb25uZWN0VGltZXI9bnVsbCx0aGlzLl9zdG9yZVByb2Nlc3Npbmc9ITEsdGhpcy5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nPXt9LHRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlPVtdLHRoaXMub3V0Z29pbmc9e30sdGhpcy5fZmlyc3RDb25uZWN0aW9uPSEwLHQudG9waWNBbGlhc01heGltdW0+MCYmKHQudG9waWNBbGlhc01heGltdW0+NjU1MzU/eShcIk1xdHRDbGllbnQgOjogb3B0aW9ucy50b3BpY0FsaWFzTWF4aW11bSBpcyBvdXQgb2YgcmFuZ2VcIik6dGhpcy50b3BpY0FsaWFzUmVjdj1uZXcgcyh0LnRvcGljQWxpYXNNYXhpbXVtKSksdGhpcy5vbihcImNvbm5lY3RcIixmdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5xdWV1ZTt5KFwiY29ubmVjdCA6OiBzZW5kaW5nIHF1ZXVlZCBwYWNrZXRzXCIpLGZ1bmN0aW9uIHQoKXtjb25zdCByPWUuc2hpZnQoKTt5KFwiZGVsaXZlciA6OiBlbnRyeSAlb1wiLHIpO2xldCBpPW51bGw7aWYoIXIpcmV0dXJuIHZvaWQgbi5fcmVzdWJzY3JpYmUoKTtpPXIucGFja2V0LHkoXCJkZWxpdmVyIDo6IGNhbGwgX3NlbmRQYWNrZXQgZm9yICVvXCIsaSk7bGV0IG89ITA7aS5tZXNzYWdlSWQmJjAhPT1pLm1lc3NhZ2VJZCYmKG4ubWVzc2FnZUlkUHJvdmlkZXIucmVnaXN0ZXIoaS5tZXNzYWdlSWQpfHwobz0hMSkpLG8/bi5fc2VuZFBhY2tldChpLGZ1bmN0aW9uKGUpe3IuY2ImJnIuY2IoZSksdCgpfSk6KHkoXCJtZXNzYWdlSWQ6ICVkIGhhcyBhbHJlYWR5IHVzZWQuIFRoZSBtZXNzYWdlIGlzIHNraXBwZWQgYW5kIHJlbW92ZWQuXCIsaS5tZXNzYWdlSWQpLHQoKSl9KCl9KSx0aGlzLm9uKFwiY2xvc2VcIixmdW5jdGlvbigpe3koXCJjbG9zZSA6OiBjb25uZWN0ZWQgc2V0IHRvIGBmYWxzZWBcIiksdGhpcy5jb25uZWN0ZWQ9ITEseShcImNsb3NlIDo6IGNsZWFyaW5nIGNvbm5hY2tUaW1lclwiKSxjbGVhclRpbWVvdXQodGhpcy5jb25uYWNrVGltZXIpLHkoXCJjbG9zZSA6OiBjbGVhcmluZyBwaW5nIHRpbWVyXCIpLG51bGwhPT1uLnBpbmdUaW1lciYmKG4ucGluZ1RpbWVyLmNsZWFyKCksbi5waW5nVGltZXI9bnVsbCksdGhpcy50b3BpY0FsaWFzUmVjdiYmdGhpcy50b3BpY0FsaWFzUmVjdi5jbGVhcigpLHkoXCJjbG9zZSA6OiBjYWxsaW5nIF9zZXR1cFJlY29ubmVjdFwiKSx0aGlzLl9zZXR1cFJlY29ubmVjdCgpfSksaS5jYWxsKHRoaXMpLHkoXCJNcXR0Q2xpZW50IDo6IHNldHRpbmcgdXAgc3RyZWFtXCIpLHRoaXMuX3NldHVwU3RyZWFtKCl9aChULGkpLFQucHJvdG90eXBlLl9zZXR1cFN0cmVhbT1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcyx0PW5ldyBjLHI9bC5wYXJzZXIodGhpcy5vcHRpb25zKTtsZXQgbj1udWxsO2NvbnN0IGk9W107ZnVuY3Rpb24gbygpe2lmKGkubGVuZ3RoKWIocyk7ZWxzZXtjb25zdCBlPW47bj1udWxsLGUoKX19ZnVuY3Rpb24gcygpe3koXCJ3b3JrIDo6IGdldHRpbmcgbmV4dCBwYWNrZXQgaW4gcXVldWVcIik7Y29uc3QgdD1pLnNoaWZ0KCk7aWYodCl5KFwid29yayA6OiBwYWNrZXQgcHVsbGVkIGZyb20gcXVldWVcIiksZS5faGFuZGxlUGFja2V0KHQsbyk7ZWxzZXt5KFwid29yayA6OiBubyBwYWNrZXRzIGluIHF1ZXVlXCIpO2NvbnN0IGU9bjtuPW51bGwseShcIndvcmsgOjogZG9uZSBmbGFnIGlzICVzXCIsISFlKSxlJiZlKCl9fXkoXCJfc2V0dXBTdHJlYW0gOjogY2FsbGluZyBtZXRob2QgdG8gY2xlYXIgcmVjb25uZWN0XCIpLHRoaXMuX2NsZWFyUmVjb25uZWN0KCkseShcIl9zZXR1cFN0cmVhbSA6OiB1c2luZyBzdHJlYW1CdWlsZGVyIHByb3ZpZGVkIHRvIGNsaWVudCB0byBjcmVhdGUgc3RyZWFtXCIpLHRoaXMuc3RyZWFtPXRoaXMuc3RyZWFtQnVpbGRlcih0aGlzKSxyLm9uKFwicGFja2V0XCIsZnVuY3Rpb24oZSl7eShcInBhcnNlciA6OiBvbiBwYWNrZXQgcHVzaCB0byBwYWNrZXRzIGFycmF5LlwiKSxpLnB1c2goZSl9KSx0Ll93cml0ZT1mdW5jdGlvbihlLHQsaSl7bj1pLHkoXCJ3cml0YWJsZSBzdHJlYW0gOjogcGFyc2luZyBidWZmZXJcIiksci5wYXJzZShlKSxzKCl9LHkoXCJfc2V0dXBTdHJlYW0gOjogcGlwZSBzdHJlYW0gdG8gd3JpdGFibGUgc3RyZWFtXCIpLHRoaXMuc3RyZWFtLnBpcGUodCksdGhpcy5zdHJlYW0ub24oXCJlcnJvclwiLGZ1bmN0aW9uKHQpe3koXCJzdHJlYW1FcnJvckhhbmRsZXIgOjogZXJyb3JcIix0Lm1lc3NhZ2UpLHcuaW5jbHVkZXModC5jb2RlKT8oeShcInN0cmVhbUVycm9ySGFuZGxlciA6OiBlbWl0dGluZyBlcnJvclwiKSxlLmVtaXQoXCJlcnJvclwiLHQpKTpDKHQpfSksdGhpcy5zdHJlYW0ub24oXCJjbG9zZVwiLGZ1bmN0aW9uKCl7dmFyIHQ7eShcIiglcylzdHJlYW0gOjogb24gY2xvc2VcIixlLm9wdGlvbnMuY2xpZW50SWQpLCh0PWUub3V0Z29pbmcpJiYoeShcImZsdXNoVm9sYXRpbGUgOjogZGVsZXRpbmcgdm9sYXRpbGUgbWVzc2FnZXMgZnJvbSB0aGUgcXVldWUgYW5kIHNldHRpbmcgdGhlaXIgY2FsbGJhY2tzIGFzIGVycm9yIGZ1bmN0aW9uXCIpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXS52b2xhdGlsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtlXS5jYiYmKHRbZV0uY2IobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpLGRlbGV0ZSB0W2VdKX0pKSx5KFwic3RyZWFtOiBlbWl0IGNsb3NlIHRvIE1xdHRDbGllbnRcIiksZS5lbWl0KFwiY2xvc2VcIil9KSx5KFwiX3NldHVwU3RyZWFtOiBzZW5kaW5nIHBhY2tldCBgY29ubmVjdGBcIik7Y29uc3QgYT1PYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyk7aWYoYS5jbWQ9XCJjb25uZWN0XCIsdGhpcy50b3BpY0FsaWFzUmVjdiYmKGEucHJvcGVydGllc3x8KGEucHJvcGVydGllcz17fSksdGhpcy50b3BpY0FsaWFzUmVjdiYmKGEucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bT10aGlzLnRvcGljQWxpYXNSZWN2Lm1heCkpLFModGhpcyxhKSxyLm9uKFwiZXJyb3JcIix0aGlzLmVtaXQuYmluZCh0aGlzLFwiZXJyb3JcIikpLHRoaXMub3B0aW9ucy5wcm9wZXJ0aWVzKXtpZighdGhpcy5vcHRpb25zLnByb3BlcnRpZXMuYXV0aGVudGljYXRpb25NZXRob2QmJnRoaXMub3B0aW9ucy5wcm9wZXJ0aWVzLmF1dGhlbnRpY2F0aW9uRGF0YSlyZXR1cm4gZS5lbmQoKCk9PnRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiUGFja2V0IGhhcyBubyBBdXRoZW50aWNhdGlvbiBNZXRob2RcIikpKSx0aGlzO2lmKHRoaXMub3B0aW9ucy5wcm9wZXJ0aWVzLmF1dGhlbnRpY2F0aW9uTWV0aG9kJiZ0aGlzLm9wdGlvbnMuYXV0aFBhY2tldCYmXCJvYmplY3RcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5hdXRoUGFja2V0KXtTKHRoaXMsZyh7Y21kOlwiYXV0aFwiLHJlYXNvbkNvZGU6MH0sdGhpcy5vcHRpb25zLmF1dGhQYWNrZXQpKX19dGhpcy5zdHJlYW0uc2V0TWF4TGlzdGVuZXJzKDFlMyksY2xlYXJUaW1lb3V0KHRoaXMuY29ubmFja1RpbWVyKSx0aGlzLmNvbm5hY2tUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eShcIiEhY29ubmVjdFRpbWVvdXQgaGl0ISEgQ2FsbGluZyBfY2xlYW5VcCB3aXRoIGZvcmNlIGB0cnVlYFwiKSxlLl9jbGVhblVwKCEwKX0sdGhpcy5vcHRpb25zLmNvbm5lY3RUaW1lb3V0KX0sVC5wcm90b3R5cGUuX2hhbmRsZVBhY2tldD1mdW5jdGlvbihlLHQpe2NvbnN0IHI9dGhpcy5vcHRpb25zO2lmKDU9PT1yLnByb3RvY29sVmVyc2lvbiYmci5wcm9wZXJ0aWVzJiZyLnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemUmJnIucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZTxlLmxlbmd0aClyZXR1cm4gdGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJleGNlZWRpbmcgcGFja2V0cyBzaXplIFwiK2UuY21kKSksdGhpcy5lbmQoe3JlYXNvbkNvZGU6MTQ5LHByb3BlcnRpZXM6e3JlYXNvblN0cmluZzpcIk1heGltdW0gcGFja2V0IHNpemUgd2FzIGV4Y2VlZGVkXCJ9fSksdGhpcztzd2l0Y2goeShcIl9oYW5kbGVQYWNrZXQgOjogZW1pdHRpbmcgcGFja2V0cmVjZWl2ZVwiKSx0aGlzLmVtaXQoXCJwYWNrZXRyZWNlaXZlXCIsZSksZS5jbWQpe2Nhc2VcInB1Ymxpc2hcIjp0aGlzLl9oYW5kbGVQdWJsaXNoKGUsdCk7YnJlYWs7Y2FzZVwicHViYWNrXCI6Y2FzZVwicHVicmVjXCI6Y2FzZVwicHViY29tcFwiOmNhc2VcInN1YmFja1wiOmNhc2VcInVuc3ViYWNrXCI6dGhpcy5faGFuZGxlQWNrKGUpLHQoKTticmVhaztjYXNlXCJwdWJyZWxcIjp0aGlzLl9oYW5kbGVQdWJyZWwoZSx0KTticmVhaztjYXNlXCJjb25uYWNrXCI6dGhpcy5faGFuZGxlQ29ubmFjayhlKSx0KCk7YnJlYWs7Y2FzZVwiYXV0aFwiOnRoaXMuX2hhbmRsZUF1dGgoZSksdCgpO2JyZWFrO2Nhc2VcInBpbmdyZXNwXCI6dGhpcy5faGFuZGxlUGluZ3Jlc3AoZSksdCgpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RcIjp0aGlzLl9oYW5kbGVEaXNjb25uZWN0KGUpLHQoKX19LFQucHJvdG90eXBlLl9jaGVja0Rpc2Nvbm5lY3Rpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGlzY29ubmVjdGluZyYmKGUmJmUhPT1DP2UobmV3IEVycm9yKFwiY2xpZW50IGRpc2Nvbm5lY3RpbmdcIikpOnRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiY2xpZW50IGRpc2Nvbm5lY3RpbmdcIikpKSx0aGlzLmRpc2Nvbm5lY3Rpbmd9LFQucHJvdG90eXBlLnB1Ymxpc2g9ZnVuY3Rpb24oZSx0LHIsbil7eShcInB1Ymxpc2ggOjogbWVzc2FnZSBgJXNgIHRvIHRvcGljIGAlc2BcIix0LGUpO2NvbnN0IGk9dGhpcy5vcHRpb25zO1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJihuPXIscj1udWxsKTtpZihyPWcoe3FvczowLHJldGFpbjohMSxkdXA6ITF9LHIpLHRoaXMuX2NoZWNrRGlzY29ubmVjdGluZyhuKSlyZXR1cm4gdGhpcztjb25zdCBvPXRoaXMscz1mdW5jdGlvbigpe2xldCBzPTA7aWYoKDE9PT1yLnFvc3x8Mj09PXIucW9zKSYmbnVsbD09PShzPW8uX25leHRJZCgpKSlyZXR1cm4geShcIk5vIG1lc3NhZ2VJZCBsZWZ0XCIpLCExO2NvbnN0IGE9e2NtZDpcInB1Ymxpc2hcIix0b3BpYzplLHBheWxvYWQ6dCxxb3M6ci5xb3MscmV0YWluOnIucmV0YWluLG1lc3NhZ2VJZDpzLGR1cDpyLmR1cH07c3dpdGNoKDU9PT1pLnByb3RvY29sVmVyc2lvbiYmKGEucHJvcGVydGllcz1yLnByb3BlcnRpZXMpLHkoXCJwdWJsaXNoIDo6IHFvc1wiLHIucW9zKSxyLnFvcyl7Y2FzZSAxOmNhc2UgMjpvLm91dGdvaW5nW2EubWVzc2FnZUlkXT17dm9sYXRpbGU6ITEsY2I6bnx8Q30seShcIk1xdHRDbGllbnQ6cHVibGlzaDogcGFja2V0IGNtZDogJXNcIixhLmNtZCksby5fc2VuZFBhY2tldChhLHZvaWQgMCxyLmNiU3RvcmVQdXQpO2JyZWFrO2RlZmF1bHQ6eShcIk1xdHRDbGllbnQ6cHVibGlzaDogcGFja2V0IGNtZDogJXNcIixhLmNtZCksby5fc2VuZFBhY2tldChhLG4sci5jYlN0b3JlUHV0KX1yZXR1cm4hMH07cmV0dXJuKHRoaXMuX3N0b3JlUHJvY2Vzc2luZ3x8dGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUubGVuZ3RoPjB8fCFzKCkpJiZ0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtpbnZva2U6cyxjYlN0b3JlUHV0OnIuY2JTdG9yZVB1dCxjYWxsYmFjazpufSksdGhpc30sVC5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO2ZvcihsZXQgZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07Y29uc3Qgcj1bXTtsZXQgbj10LnNoaWZ0KCk7Y29uc3QgaT1uLnJlc3Vic2NyaWJlO2xldCBvPXQucG9wKCl8fEMscz10LnBvcCgpO2NvbnN0IGE9dGhpcy5vcHRpb25zLnByb3RvY29sVmVyc2lvbjtkZWxldGUgbi5yZXN1YnNjcmliZSxcInN0cmluZ1wiPT10eXBlb2YgbiYmKG49W25dKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBvJiYocz1vLG89Qyk7Y29uc3QgbD1kLnZhbGlkYXRlVG9waWNzKG4pO2lmKG51bGwhPT1sKXJldHVybiBtKG8sbmV3IEVycm9yKFwiSW52YWxpZCB0b3BpYyBcIitsKSksdGhpcztpZih0aGlzLl9jaGVja0Rpc2Nvbm5lY3RpbmcobykpcmV0dXJuIHkoXCJzdWJzY3JpYmU6IGRpc2Njb25lY3RpbmcgdHJ1ZVwiKSx0aGlzO2NvbnN0IHU9e3FvczowfTtpZig1PT09YSYmKHUubmw9ITEsdS5yYXA9ITEsdS5yaD0wKSxzPWcodSxzKSxBcnJheS5pc0FycmF5KG4pP24uZm9yRWFjaChmdW5jdGlvbih0KXtpZih5KFwic3Vic2NyaWJlOiBhcnJheSB0b3BpYyAlc1wiLHQpLCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5fcmVzdWJzY3JpYmVUb3BpY3MsdCl8fGUuX3Jlc3Vic2NyaWJlVG9waWNzW3RdLnFvczxzLnFvc3x8aSl7Y29uc3QgZT17dG9waWM6dCxxb3M6cy5xb3N9OzU9PT1hJiYoZS5ubD1zLm5sLGUucmFwPXMucmFwLGUucmg9cy5yaCxlLnByb3BlcnRpZXM9cy5wcm9wZXJ0aWVzKSx5KFwic3Vic2NyaWJlOiBwdXNoaW5nIHRvcGljIGAlc2AgYW5kIHFvcyBgJXNgIHRvIHN1YnMgbGlzdFwiLGUudG9waWMsZS5xb3MpLHIucHVzaChlKX19KTpPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHkoXCJzdWJzY3JpYmU6IG9iamVjdCB0b3BpYyAlc1wiLHQpLCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5fcmVzdWJzY3JpYmVUb3BpY3MsdCl8fGUuX3Jlc3Vic2NyaWJlVG9waWNzW3RdLnFvczxuW3RdLnFvc3x8aSl7Y29uc3QgZT17dG9waWM6dCxxb3M6blt0XS5xb3N9OzU9PT1hJiYoZS5ubD1uW3RdLm5sLGUucmFwPW5bdF0ucmFwLGUucmg9blt0XS5yaCxlLnByb3BlcnRpZXM9cy5wcm9wZXJ0aWVzKSx5KFwic3Vic2NyaWJlOiBwdXNoaW5nIGAlc2AgdG8gc3VicyBsaXN0XCIsZSksci5wdXNoKGUpfX0pLCFyLmxlbmd0aClyZXR1cm4gbyhudWxsLFtdKSx0aGlzO2NvbnN0IGM9ZnVuY3Rpb24oKXtjb25zdCB0PWUuX25leHRJZCgpO2lmKG51bGw9PT10KXJldHVybiB5KFwiTm8gbWVzc2FnZUlkIGxlZnRcIiksITE7Y29uc3Qgbj17Y21kOlwic3Vic2NyaWJlXCIsc3Vic2NyaXB0aW9uczpyLHFvczoxLHJldGFpbjohMSxkdXA6ITEsbWVzc2FnZUlkOnR9O2lmKHMucHJvcGVydGllcyYmKG4ucHJvcGVydGllcz1zLnByb3BlcnRpZXMpLGUub3B0aW9ucy5yZXN1YnNjcmliZSl7eShcInN1YnNjcmliZSA6OiByZXN1YnNjcmliZSB0cnVlXCIpO2NvbnN0IHQ9W107ci5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKGUub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2Q+MCl7Y29uc3Qgbj17cW9zOnIucW9zfTs1PT09YSYmKG4ubmw9ci5ubHx8ITEsbi5yYXA9ci5yYXB8fCExLG4ucmg9ci5yaHx8MCxuLnByb3BlcnRpZXM9ci5wcm9wZXJ0aWVzKSxlLl9yZXN1YnNjcmliZVRvcGljc1tyLnRvcGljXT1uLHQucHVzaChyLnRvcGljKX19KSxlLm1lc3NhZ2VJZFRvVG9waWNbbi5tZXNzYWdlSWRdPXR9cmV0dXJuIGUub3V0Z29pbmdbbi5tZXNzYWdlSWRdPXt2b2xhdGlsZTohMCxjYjpmdW5jdGlvbihlLHQpe2lmKCFlKXtjb25zdCBlPXQuZ3JhbnRlZDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTEpclt0XS5xb3M9ZVt0XX1vKGUscil9fSx5KFwic3Vic2NyaWJlIDo6IGNhbGwgX3NlbmRQYWNrZXRcIiksZS5fc2VuZFBhY2tldChuKSwhMH07cmV0dXJuKHRoaXMuX3N0b3JlUHJvY2Vzc2luZ3x8dGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUubGVuZ3RoPjB8fCFjKCkpJiZ0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtpbnZva2U6YyxjYWxsYmFjazpvfSksdGhpc30sVC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMsdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7Zm9yKGxldCBlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtsZXQgcj10LnNoaWZ0KCksbj10LnBvcCgpfHxDLGk9dC5wb3AoKTtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9W3JdKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiYoaT1uLG49Qyk7Y29uc3Qgbz1kLnZhbGlkYXRlVG9waWNzKHIpO2lmKG51bGwhPT1vKXJldHVybiBtKG4sbmV3IEVycm9yKFwiSW52YWxpZCB0b3BpYyBcIitvKSksdGhpcztpZihlLl9jaGVja0Rpc2Nvbm5lY3RpbmcobikpcmV0dXJuIHRoaXM7Y29uc3Qgcz1mdW5jdGlvbigpe2NvbnN0IHQ9ZS5fbmV4dElkKCk7aWYobnVsbD09PXQpcmV0dXJuIHkoXCJObyBtZXNzYWdlSWQgbGVmdFwiKSwhMTtjb25zdCBvPXtjbWQ6XCJ1bnN1YnNjcmliZVwiLHFvczoxLG1lc3NhZ2VJZDp0fTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygcj9vLnVuc3Vic2NyaXB0aW9ucz1bcl06QXJyYXkuaXNBcnJheShyKSYmKG8udW5zdWJzY3JpcHRpb25zPXIpLGUub3B0aW9ucy5yZXN1YnNjcmliZSYmby51bnN1YnNjcmlwdGlvbnMuZm9yRWFjaChmdW5jdGlvbih0KXtkZWxldGUgZS5fcmVzdWJzY3JpYmVUb3BpY3NbdF19KSxcIm9iamVjdFwiPT10eXBlb2YgaSYmaS5wcm9wZXJ0aWVzJiYoby5wcm9wZXJ0aWVzPWkucHJvcGVydGllcyksZS5vdXRnb2luZ1tvLm1lc3NhZ2VJZF09e3ZvbGF0aWxlOiEwLGNiOm59LHkoXCJ1bnN1YnNjcmliZTogY2FsbCBfc2VuZFBhY2tldFwiKSxlLl9zZW5kUGFja2V0KG8pLCEwfTtyZXR1cm4odGhpcy5fc3RvcmVQcm9jZXNzaW5nfHx0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5sZW5ndGg+MHx8IXMoKSkmJnRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLnB1c2goe2ludm9rZTpzLGNhbGxiYWNrOm59KSx0aGlzfSxULnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSx0LHIpe2NvbnN0IG49dGhpcztmdW5jdGlvbiBpKCl7eShcImVuZCA6OiAoJXMpIDo6IGZpbmlzaCA6OiBjYWxsaW5nIF9jbGVhblVwIHdpdGggZm9yY2UgJXNcIixuLm9wdGlvbnMuY2xpZW50SWQsZSksbi5fY2xlYW5VcChlLCgpPT57eShcImVuZCA6OiBmaW5pc2ggOjogY2FsbGluZyBwcm9jZXNzLm5leHRUaWNrIG9uIGNsb3NlU3RvcmVzXCIpLGIoZnVuY3Rpb24oKXt5KFwiZW5kIDo6IGNsb3NlU3RvcmVzOiBjbG9zaW5nIGluY29taW5nIGFuZCBvdXRnb2luZyBzdG9yZXNcIiksbi5kaXNjb25uZWN0ZWQ9ITAsbi5pbmNvbWluZ1N0b3JlLmNsb3NlKGZ1bmN0aW9uKGUpe24ub3V0Z29pbmdTdG9yZS5jbG9zZShmdW5jdGlvbih0KXtpZih5KFwiZW5kIDo6IGNsb3NlU3RvcmVzOiBlbWl0dGluZyBlbmRcIiksbi5lbWl0KFwiZW5kXCIpLHIpe2NvbnN0IG49ZXx8dDt5KFwiZW5kIDo6IGNsb3NlU3RvcmVzOiBpbnZva2luZyBjYWxsYmFjayB3aXRoIGFyZ3NcIikscihuKX19KX0pLG4uX2RlZmVycmVkUmVjb25uZWN0JiZuLl9kZWZlcnJlZFJlY29ubmVjdCgpfS5iaW5kKG4pKX0sdCl9cmV0dXJuIHkoXCJlbmQgOjogKCVzKVwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksbnVsbCE9ZSYmXCJib29sZWFuXCI9PXR5cGVvZiBlfHwocj10fHxDLHQ9ZSxlPSExLFwib2JqZWN0XCIhPXR5cGVvZiB0JiYocj10LHQ9bnVsbCxcImZ1bmN0aW9uXCIhPXR5cGVvZiByJiYocj1DKSkpLFwib2JqZWN0XCIhPXR5cGVvZiB0JiYocj10LHQ9bnVsbCkseShcImVuZCA6OiBjYj8gJXNcIiwhIXIpLHI9cnx8Qyx0aGlzLmRpc2Nvbm5lY3Rpbmc/KHIoKSx0aGlzKToodGhpcy5fY2xlYXJSZWNvbm5lY3QoKSx0aGlzLmRpc2Nvbm5lY3Rpbmc9ITAsIWUmJk9iamVjdC5rZXlzKHRoaXMub3V0Z29pbmcpLmxlbmd0aD4wPyh5KFwiZW5kIDo6ICglcykgOjogY2FsbGluZyBmaW5pc2ggaW4gMTBtcyBvbmNlIG91dGdvaW5nIGlzIGVtcHR5XCIsbi5vcHRpb25zLmNsaWVudElkKSx0aGlzLm9uY2UoXCJvdXRnb2luZ0VtcHR5XCIsc2V0VGltZW91dC5iaW5kKG51bGwsaSwxMCkpKTooeShcImVuZCA6OiAoJXMpIDo6IGltbWVkaWF0ZWx5IGNhbGxpbmcgZmluaXNoXCIsbi5vcHRpb25zLmNsaWVudElkKSxpKCkpLHRoaXMpfSxULnByb3RvdHlwZS5yZW1vdmVPdXRnb2luZ01lc3NhZ2U9ZnVuY3Rpb24oZSl7Y29uc3QgdD10aGlzLm91dGdvaW5nW2VdP3RoaXMub3V0Z29pbmdbZV0uY2I6bnVsbDtyZXR1cm4gZGVsZXRlIHRoaXMub3V0Z29pbmdbZV0sdGhpcy5vdXRnb2luZ1N0b3JlLmRlbCh7bWVzc2FnZUlkOmV9LGZ1bmN0aW9uKCl7dChuZXcgRXJyb3IoXCJNZXNzYWdlIHJlbW92ZWRcIikpfSksdGhpc30sVC5wcm90b3R5cGUucmVjb25uZWN0PWZ1bmN0aW9uKGUpe3koXCJjbGllbnQgcmVjb25uZWN0XCIpO2NvbnN0IHQ9dGhpcyxyPWZ1bmN0aW9uKCl7ZT8odC5vcHRpb25zLmluY29taW5nU3RvcmU9ZS5pbmNvbWluZ1N0b3JlLHQub3B0aW9ucy5vdXRnb2luZ1N0b3JlPWUub3V0Z29pbmdTdG9yZSk6KHQub3B0aW9ucy5pbmNvbWluZ1N0b3JlPW51bGwsdC5vcHRpb25zLm91dGdvaW5nU3RvcmU9bnVsbCksdC5pbmNvbWluZ1N0b3JlPXQub3B0aW9ucy5pbmNvbWluZ1N0b3JlfHxuZXcgbyx0Lm91dGdvaW5nU3RvcmU9dC5vcHRpb25zLm91dGdvaW5nU3RvcmV8fG5ldyBvLHQuZGlzY29ubmVjdGluZz0hMSx0LmRpc2Nvbm5lY3RlZD0hMSx0Ll9kZWZlcnJlZFJlY29ubmVjdD1udWxsLHQuX3JlY29ubmVjdCgpfTtyZXR1cm4gdGhpcy5kaXNjb25uZWN0aW5nJiYhdGhpcy5kaXNjb25uZWN0ZWQ/dGhpcy5fZGVmZXJyZWRSZWNvbm5lY3Q9cjpyKCksdGhpc30sVC5wcm90b3R5cGUuX3JlY29ubmVjdD1mdW5jdGlvbigpe3koXCJfcmVjb25uZWN0OiBlbWl0dGluZyByZWNvbm5lY3QgdG8gY2xpZW50XCIpLHRoaXMuZW1pdChcInJlY29ubmVjdFwiKSx0aGlzLmNvbm5lY3RlZD8odGhpcy5lbmQoKCk9Pnt0aGlzLl9zZXR1cFN0cmVhbSgpfSkseShcImNsaWVudCBhbHJlYWR5IGNvbm5lY3RlZC4gZGlzY29ubmVjdGluZyBmaXJzdC5cIikpOih5KFwiX3JlY29ubmVjdDogY2FsbGluZyBfc2V0dXBTdHJlYW1cIiksdGhpcy5fc2V0dXBTdHJlYW0oKSl9LFQucHJvdG90eXBlLl9zZXR1cFJlY29ubmVjdD1mdW5jdGlvbigpe2NvbnN0IGU9dGhpczshZS5kaXNjb25uZWN0aW5nJiYhZS5yZWNvbm5lY3RUaW1lciYmZS5vcHRpb25zLnJlY29ubmVjdFBlcmlvZD4wPyh0aGlzLnJlY29ubmVjdGluZ3x8KHkoXCJfc2V0dXBSZWNvbm5lY3QgOjogZW1pdCBgb2ZmbGluZWAgc3RhdGVcIiksdGhpcy5lbWl0KFwib2ZmbGluZVwiKSx5KFwiX3NldHVwUmVjb25uZWN0IDo6IHNldCBgcmVjb25uZWN0aW5nYCB0byBgdHJ1ZWBcIiksdGhpcy5yZWNvbm5lY3Rpbmc9ITApLHkoXCJfc2V0dXBSZWNvbm5lY3QgOjogc2V0dGluZyByZWNvbm5lY3RUaW1lciBmb3IgJWQgbXNcIixlLm9wdGlvbnMucmVjb25uZWN0UGVyaW9kKSxlLnJlY29ubmVjdFRpbWVyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7eShcInJlY29ubmVjdFRpbWVyIDo6IHJlY29ubmVjdCB0cmlnZ2VyZWQhXCIpLGUuX3JlY29ubmVjdCgpfSxlLm9wdGlvbnMucmVjb25uZWN0UGVyaW9kKSk6eShcIl9zZXR1cFJlY29ubmVjdCA6OiBkb2luZyBub3RoaW5nLi4uXCIpfSxULnByb3RvdHlwZS5fY2xlYXJSZWNvbm5lY3Q9ZnVuY3Rpb24oKXt5KFwiX2NsZWFyUmVjb25uZWN0IDogY2xlYXJpbmcgcmVjb25uZWN0IHRpbWVyXCIpLHRoaXMucmVjb25uZWN0VGltZXImJihjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0VGltZXIpLHRoaXMucmVjb25uZWN0VGltZXI9bnVsbCl9LFQucHJvdG90eXBlLl9jbGVhblVwPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1hcmd1bWVudHNbMl07aWYodCYmKHkoXCJfY2xlYW5VcCA6OiBkb25lIGNhbGxiYWNrIHByb3ZpZGVkIGZvciBvbiBzdHJlYW0gY2xvc2VcIiksdGhpcy5zdHJlYW0ub24oXCJjbG9zZVwiLHQpKSx5KFwiX2NsZWFuVXAgOjogZm9yY2VkPyAlc1wiLGUpLGUpMD09PXRoaXMub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2QmJnRoaXMub3B0aW9ucy5jbGVhbiYmKG49dGhpcy5vdXRnb2luZykmJih5KFwiZmx1c2g6IHF1ZXVlIGV4aXN0cz8gJWJcIiwhIW4pLE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgbltlXS5jYiYmKG5bZV0uY2IobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpLGRlbGV0ZSBuW2VdKX0pKSx5KFwiX2NsZWFuVXAgOjogKCVzKSA6OiBkZXN0cm95aW5nIHN0cmVhbVwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5zdHJlYW0uZGVzdHJveSgpO2Vsc2V7Y29uc3QgZT1nKHtjbWQ6XCJkaXNjb25uZWN0XCJ9LHIpO3koXCJfY2xlYW5VcCA6OiAoJXMpIDo6IGNhbGwgX3NlbmRQYWNrZXQgd2l0aCBkaXNjb25uZWN0IHBhY2tldFwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5fc2VuZFBhY2tldChlLG0uYmluZChudWxsLHRoaXMuc3RyZWFtLmVuZC5iaW5kKHRoaXMuc3RyZWFtKSkpfXZhciBuO3RoaXMuZGlzY29ubmVjdGluZ3x8KHkoXCJfY2xlYW5VcCA6OiBjbGllbnQgbm90IGRpc2Nvbm5lY3RpbmcuIENsZWFyaW5nIGFuZCByZXNldHRpbmcgcmVjb25uZWN0LlwiKSx0aGlzLl9jbGVhclJlY29ubmVjdCgpLHRoaXMuX3NldHVwUmVjb25uZWN0KCkpLG51bGwhPT10aGlzLnBpbmdUaW1lciYmKHkoXCJfY2xlYW5VcCA6OiBjbGVhcmluZyBwaW5nVGltZXJcIiksdGhpcy5waW5nVGltZXIuY2xlYXIoKSx0aGlzLnBpbmdUaW1lcj1udWxsKSx0JiYhdGhpcy5jb25uZWN0ZWQmJih5KFwiX2NsZWFuVXAgOjogKCVzKSA6OiByZW1vdmluZyBzdHJlYW0gYGRvbmVgIGNhbGxiYWNrIGBjbG9zZWAgbGlzdGVuZXJcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMuc3RyZWFtLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIix0KSx0KCkpfSxULnByb3RvdHlwZS5fc2VuZFBhY2tldD1mdW5jdGlvbihlLHQscil7eShcIl9zZW5kUGFja2V0IDo6ICglcykgOjogIHN0YXJ0XCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSxyPXJ8fEMsdD10fHxDO2NvbnN0IG49ZnVuY3Rpb24oZSx0KXtpZig1PT09ZS5vcHRpb25zLnByb3RvY29sVmVyc2lvbiYmXCJwdWJsaXNoXCI9PT10LmNtZCl7bGV0IHI7dC5wcm9wZXJ0aWVzJiYocj10LnByb3BlcnRpZXMudG9waWNBbGlhcyk7Y29uc3Qgbj10LnRvcGljLnRvU3RyaW5nKCk7aWYoZS50b3BpY0FsaWFzU2VuZClpZihyKXtpZigwIT09bi5sZW5ndGgmJih5KFwiYXBwbHlUb3BpY0FsaWFzIDo6IHJlZ2lzdGVyIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLG4sciksIWUudG9waWNBbGlhc1NlbmQucHV0KG4scikpKXJldHVybiB5KFwiYXBwbHlUb3BpY0FsaWFzIDo6IGVycm9yIG91dCBvZiByYW5nZS4gdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsbixyKSxuZXcgRXJyb3IoXCJTZW5kaW5nIFRvcGljIEFsaWFzIG91dCBvZiByYW5nZVwiKX1lbHNlIDAhPT1uLmxlbmd0aCYmKGUub3B0aW9ucy5hdXRvQXNzaWduVG9waWNBbGlhcz8ocj1lLnRvcGljQWxpYXNTZW5kLmdldEFsaWFzQnlUb3BpYyhuKSk/KHQudG9waWM9XCJcIix0LnByb3BlcnRpZXM9ey4uLnQucHJvcGVydGllcyx0b3BpY0FsaWFzOnJ9LHkoXCJhcHBseVRvcGljQWxpYXMgOjogYXV0byBhc3NpZ24odXNlKSB0b3BpYzogJXMgLSBhbGlhczogJWRcIixuLHIpKToocj1lLnRvcGljQWxpYXNTZW5kLmdldExydUFsaWFzKCksZS50b3BpY0FsaWFzU2VuZC5wdXQobixyKSx0LnByb3BlcnRpZXM9ey4uLnQucHJvcGVydGllcyx0b3BpY0FsaWFzOnJ9LHkoXCJhcHBseVRvcGljQWxpYXMgOjogYXV0byBhc3NpZ24gdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsbixyKSk6ZS5vcHRpb25zLmF1dG9Vc2VUb3BpY0FsaWFzJiYocj1lLnRvcGljQWxpYXNTZW5kLmdldEFsaWFzQnlUb3BpYyhuKSkmJih0LnRvcGljPVwiXCIsdC5wcm9wZXJ0aWVzPXsuLi50LnByb3BlcnRpZXMsdG9waWNBbGlhczpyfSx5KFwiYXBwbHlUb3BpY0FsaWFzIDo6IGF1dG8gdXNlIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLG4scikpKTtlbHNlIGlmKHIpcmV0dXJuIHkoXCJhcHBseVRvcGljQWxpYXMgOjogZXJyb3Igb3V0IG9mIHJhbmdlLiB0b3BpYzogJXMgLSBhbGlhczogJWRcIixuLHIpLG5ldyBFcnJvcihcIlNlbmRpbmcgVG9waWMgQWxpYXMgb3V0IG9mIHJhbmdlXCIpfX0odGhpcyxlKTtpZihuKXQobik7ZWxzZXtpZighdGhpcy5jb25uZWN0ZWQpcmV0dXJuXCJhdXRoXCI9PT1lLmNtZD8odGhpcy5fc2hpZnRQaW5nSW50ZXJ2YWwoKSx2b2lkIFModGhpcyxlLHQpKTooeShcIl9zZW5kUGFja2V0IDo6IGNsaWVudCBub3QgY29ubmVjdGVkLiBTdG9yaW5nIHBhY2tldCBvZmZsaW5lLlwiKSx2b2lkIHRoaXMuX3N0b3JlUGFja2V0KGUsdCxyKSk7c3dpdGNoKHRoaXMuX3NoaWZ0UGluZ0ludGVydmFsKCksZS5jbWQpe2Nhc2VcInB1Ymxpc2hcIjpicmVhaztjYXNlXCJwdWJyZWxcIjpyZXR1cm4gdm9pZCBFKHRoaXMsZSx0LHIpO2RlZmF1bHQ6cmV0dXJuIHZvaWQgUyh0aGlzLGUsdCl9c3dpdGNoKGUucW9zKXtjYXNlIDI6Y2FzZSAxOkUodGhpcyxlLHQscik7YnJlYWs7Y2FzZSAwOmRlZmF1bHQ6Uyh0aGlzLGUsdCl9eShcIl9zZW5kUGFja2V0IDo6ICglcykgOjogIGVuZFwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCl9fSxULnByb3RvdHlwZS5fc3RvcmVQYWNrZXQ9ZnVuY3Rpb24oZSx0LHIpe3koXCJfc3RvcmVQYWNrZXQgOjogcGFja2V0OiAlb1wiLGUpLHkoXCJfc3RvcmVQYWNrZXQgOjogY2I/ICVzXCIsISF0KSxyPXJ8fEM7bGV0IG49ZTtpZihcInB1Ymxpc2hcIj09PW4uY21kKXtjb25zdCByPWsodGhpcyxuPXAoZSkpO2lmKHIpcmV0dXJuIHQmJnQocil9MD09PShuLnFvc3x8MCkmJnRoaXMucXVldWVRb1NaZXJvfHxcInB1Ymxpc2hcIiE9PW4uY21kP3RoaXMucXVldWUucHVzaCh7cGFja2V0Om4sY2I6dH0pOm4ucW9zPjA/KHQ9dGhpcy5vdXRnb2luZ1tuLm1lc3NhZ2VJZF0/dGhpcy5vdXRnb2luZ1tuLm1lc3NhZ2VJZF0uY2I6bnVsbCx0aGlzLm91dGdvaW5nU3RvcmUucHV0KG4sZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gdCYmdChlKTtyKCl9KSk6dCYmdChuZXcgRXJyb3IoXCJObyBjb25uZWN0aW9uIHRvIGJyb2tlclwiKSl9LFQucHJvdG90eXBlLl9zZXR1cFBpbmdUaW1lcj1mdW5jdGlvbigpe3koXCJfc2V0dXBQaW5nVGltZXIgOjoga2VlcGFsaXZlICVkIChzZWNvbmRzKVwiLHRoaXMub3B0aW9ucy5rZWVwYWxpdmUpO2NvbnN0IGU9dGhpczshdGhpcy5waW5nVGltZXImJnRoaXMub3B0aW9ucy5rZWVwYWxpdmUmJih0aGlzLnBpbmdSZXNwPSEwLHRoaXMucGluZ1RpbWVyPWYoZnVuY3Rpb24oKXtlLl9jaGVja1BpbmcoKX0sMWUzKnRoaXMub3B0aW9ucy5rZWVwYWxpdmUpKX0sVC5wcm90b3R5cGUuX3NoaWZ0UGluZ0ludGVydmFsPWZ1bmN0aW9uKCl7dGhpcy5waW5nVGltZXImJnRoaXMub3B0aW9ucy5rZWVwYWxpdmUmJnRoaXMub3B0aW9ucy5yZXNjaGVkdWxlUGluZ3MmJnRoaXMucGluZ1RpbWVyLnJlc2NoZWR1bGUoMWUzKnRoaXMub3B0aW9ucy5rZWVwYWxpdmUpfSxULnByb3RvdHlwZS5fY2hlY2tQaW5nPWZ1bmN0aW9uKCl7eShcIl9jaGVja1BpbmcgOjogY2hlY2tpbmcgcGluZy4uLlwiKSx0aGlzLnBpbmdSZXNwPyh5KFwiX2NoZWNrUGluZyA6OiBwaW5nIHJlc3BvbnNlIHJlY2VpdmVkLiBDbGVhcmluZyBmbGFnIGFuZCBzZW5kaW5nIGBwaW5ncmVxYFwiKSx0aGlzLnBpbmdSZXNwPSExLHRoaXMuX3NlbmRQYWNrZXQoe2NtZDpcInBpbmdyZXFcIn0pKTooeShcIl9jaGVja1BpbmcgOjogY2FsbGluZyBfY2xlYW5VcCB3aXRoIGZvcmNlIHRydWVcIiksdGhpcy5fY2xlYW5VcCghMCkpfSxULnByb3RvdHlwZS5faGFuZGxlUGluZ3Jlc3A9ZnVuY3Rpb24oKXt0aGlzLnBpbmdSZXNwPSEwfSxULnByb3RvdHlwZS5faGFuZGxlQ29ubmFjaz1mdW5jdGlvbihlKXt5KFwiX2hhbmRsZUNvbm5hY2tcIik7Y29uc3QgdD10aGlzLm9wdGlvbnMscj01PT09dC5wcm90b2NvbFZlcnNpb24/ZS5yZWFzb25Db2RlOmUucmV0dXJuQ29kZTtpZihjbGVhclRpbWVvdXQodGhpcy5jb25uYWNrVGltZXIpLGRlbGV0ZSB0aGlzLnRvcGljQWxpYXNTZW5kLGUucHJvcGVydGllcyl7aWYoZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtKXtpZihlLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0+NjU1MzUpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJ0b3BpY0FsaWFzTWF4aW11bSBmcm9tIGJyb2tlciBpcyBvdXQgb2YgcmFuZ2VcIikpO2UucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bT4wJiYodGhpcy50b3BpY0FsaWFzU2VuZD1uZXcgYShlLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0pKX1lLnByb3BlcnRpZXMuc2VydmVyS2VlcEFsaXZlJiZ0LmtlZXBhbGl2ZSYmKHQua2VlcGFsaXZlPWUucHJvcGVydGllcy5zZXJ2ZXJLZWVwQWxpdmUsdGhpcy5fc2hpZnRQaW5nSW50ZXJ2YWwoKSksZS5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplJiYodC5wcm9wZXJ0aWVzfHwodC5wcm9wZXJ0aWVzPXt9KSx0LnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemU9ZS5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplKX1pZigwPT09cil0aGlzLnJlY29ubmVjdGluZz0hMSx0aGlzLl9vbkNvbm5lY3QoZSk7ZWxzZSBpZihyPjApe2NvbnN0IGU9bmV3IEVycm9yKFwiQ29ubmVjdGlvbiByZWZ1c2VkOiBcIitfW3JdKTtlLmNvZGU9cix0aGlzLmVtaXQoXCJlcnJvclwiLGUpfX0sVC5wcm90b3R5cGUuX2hhbmRsZUF1dGg9ZnVuY3Rpb24oZSl7Y29uc3QgdD10aGlzLm9wdGlvbnMucHJvdG9jb2xWZXJzaW9uLHI9NT09PXQ/ZS5yZWFzb25Db2RlOmUucmV0dXJuQ29kZTtpZig1IT09dCl7Y29uc3QgZT1uZXcgRXJyb3IoXCJQcm90b2NvbCBlcnJvcjogQXV0aCBwYWNrZXRzIGFyZSBvbmx5IHN1cHBvcnRlZCBpbiBNUVRUIDUuIFlvdXIgdmVyc2lvbjpcIit0KTtyZXR1cm4gZS5jb2RlPXIsdm9pZCB0aGlzLmVtaXQoXCJlcnJvclwiLGUpfWNvbnN0IG49dGhpczt0aGlzLmhhbmRsZUF1dGgoZSxmdW5jdGlvbihlLHQpe2lmKGUpbi5lbWl0KFwiZXJyb3JcIixlKTtlbHNlIGlmKDI0PT09ciluLnJlY29ubmVjdGluZz0hMSxuLl9zZW5kUGFja2V0KHQpO2Vsc2V7Y29uc3QgdD1uZXcgRXJyb3IoXCJDb25uZWN0aW9uIHJlZnVzZWQ6IFwiK19bcl0pO2UuY29kZT1yLG4uZW1pdChcImVycm9yXCIsdCl9fSl9LFQucHJvdG90eXBlLmhhbmRsZUF1dGg9ZnVuY3Rpb24oZSx0KXt0KCl9LFQucHJvdG90eXBlLl9oYW5kbGVQdWJsaXNoPWZ1bmN0aW9uKGUsdCl7eShcIl9oYW5kbGVQdWJsaXNoOiBwYWNrZXQgJW9cIixlKSx0PXZvaWQgMCE9PXQ/dDpDO2xldCByPWUudG9waWMudG9TdHJpbmcoKTtjb25zdCBuPWUucGF5bG9hZCxpPWUucW9zLG89ZS5tZXNzYWdlSWQscz10aGlzLGE9dGhpcy5vcHRpb25zLGw9WzAsMTYsMTI4LDEzMSwxMzUsMTQ0LDE0NSwxNTEsMTUzXTtpZig1PT09dGhpcy5vcHRpb25zLnByb3RvY29sVmVyc2lvbil7bGV0IHQ7aWYoZS5wcm9wZXJ0aWVzJiYodD1lLnByb3BlcnRpZXMudG9waWNBbGlhcyksdm9pZCAwIT09dClpZigwPT09ci5sZW5ndGgpe2lmKCEodD4wJiZ0PD02NTUzNSkpcmV0dXJuIHkoXCJfaGFuZGxlUHVibGlzaCA6OiB0b3BpYyBhbGlhcyBvdXQgb2YgcmFuZ2UuIGFsaWFzOiAlZFwiLHQpLHZvaWQgdGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJSZWNlaXZlZCBUb3BpYyBBbGlhcyBpcyBvdXQgb2YgcmFuZ2VcIikpO3tjb25zdCBlPXRoaXMudG9waWNBbGlhc1JlY3YuZ2V0VG9waWNCeUFsaWFzKHQpO2lmKCFlKXJldHVybiB5KFwiX2hhbmRsZVB1Ymxpc2ggOjogdW5yZWdpc3RlcmVkIHRvcGljIGFsaWFzLiBhbGlhczogJWRcIix0KSx2b2lkIHRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiUmVjZWl2ZWQgdW5yZWdpc3RlcmVkIFRvcGljIEFsaWFzXCIpKTt5KFwiX2hhbmRsZVB1Ymxpc2ggOjogdG9waWMgY29tcGxlbWVudGVkIGJ5IGFsaWFzLiB0b3BpYzogJXMgLSBhbGlhczogJWRcIixyPWUsdCl9fWVsc2V7aWYoIXRoaXMudG9waWNBbGlhc1JlY3YucHV0KHIsdCkpcmV0dXJuIHkoXCJfaGFuZGxlUHVibGlzaCA6OiB0b3BpYyBhbGlhcyBvdXQgb2YgcmFuZ2UuIGFsaWFzOiAlZFwiLHQpLHZvaWQgdGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJSZWNlaXZlZCBUb3BpYyBBbGlhcyBpcyBvdXQgb2YgcmFuZ2VcIikpO3koXCJfaGFuZGxlUHVibGlzaCA6OiByZWdpc3RlcmVkIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLHIsdCl9fXN3aXRjaCh5KFwiX2hhbmRsZVB1Ymxpc2g6IHFvcyAlZFwiLGkpLGkpe2Nhc2UgMjphLmN1c3RvbUhhbmRsZUFja3MocixuLGUsZnVuY3Rpb24ocixuKXtyZXR1cm4gciBpbnN0YW5jZW9mIEVycm9yfHwobj1yLHI9bnVsbCkscj9zLmVtaXQoXCJlcnJvclwiLHIpOi0xPT09bC5pbmRleE9mKG4pP3MuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiV3JvbmcgcmVhc29uIGNvZGUgZm9yIHB1YnJlY1wiKSk6dm9pZChuP3MuX3NlbmRQYWNrZXQoe2NtZDpcInB1YnJlY1wiLG1lc3NhZ2VJZDpvLHJlYXNvbkNvZGU6bn0sdCk6cy5pbmNvbWluZ1N0b3JlLnB1dChlLGZ1bmN0aW9uKCl7cy5fc2VuZFBhY2tldCh7Y21kOlwicHVicmVjXCIsbWVzc2FnZUlkOm99LHQpfSkpfSk7YnJlYWs7Y2FzZSAxOmEuY3VzdG9tSGFuZGxlQWNrcyhyLG4sZSxmdW5jdGlvbihpLGEpe3JldHVybiBpIGluc3RhbmNlb2YgRXJyb3J8fChhPWksaT1udWxsKSxpP3MuZW1pdChcImVycm9yXCIsaSk6LTE9PT1sLmluZGV4T2YoYSk/cy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJXcm9uZyByZWFzb24gY29kZSBmb3IgcHViYWNrXCIpKTooYXx8cy5lbWl0KFwibWVzc2FnZVwiLHIsbixlKSx2b2lkIHMuaGFuZGxlTWVzc2FnZShlLGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIHQmJnQoZSk7cy5fc2VuZFBhY2tldCh7Y21kOlwicHViYWNrXCIsbWVzc2FnZUlkOm8scmVhc29uQ29kZTphfSx0KX0pKX0pO2JyZWFrO2Nhc2UgMDp0aGlzLmVtaXQoXCJtZXNzYWdlXCIscixuLGUpLHRoaXMuaGFuZGxlTWVzc2FnZShlLHQpO2JyZWFrO2RlZmF1bHQ6eShcIl9oYW5kbGVQdWJsaXNoOiB1bmtub3duIFFvUy4gRG9pbmcgbm90aGluZy5cIil9fSxULnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlPWZ1bmN0aW9uKGUsdCl7dCgpfSxULnByb3RvdHlwZS5faGFuZGxlQWNrPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5tZXNzYWdlSWQscj1lLmNtZDtsZXQgbj1udWxsO2NvbnN0IGk9dGhpcy5vdXRnb2luZ1t0XT90aGlzLm91dGdvaW5nW3RdLmNiOm51bGwsbz10aGlzO2xldCBzO2lmKGkpe3N3aXRjaCh5KFwiX2hhbmRsZUFjayA6OiBwYWNrZXQgdHlwZVwiLHIpLHIpe2Nhc2VcInB1YmNvbXBcIjpjYXNlXCJwdWJhY2tcIjp7Y29uc3Qgcj1lLnJlYXNvbkNvZGU7ciYmcj4wJiYxNiE9PXImJigocz1uZXcgRXJyb3IoXCJQdWJsaXNoIGVycm9yOiBcIitfW3JdKSkuY29kZT1yLGkocyxlKSksZGVsZXRlIHRoaXMub3V0Z29pbmdbdF0sdGhpcy5vdXRnb2luZ1N0b3JlLmRlbChlLGkpLHRoaXMubWVzc2FnZUlkUHJvdmlkZXIuZGVhbGxvY2F0ZSh0KSx0aGlzLl9pbnZva2VTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpO2JyZWFrfWNhc2VcInB1YnJlY1wiOntuPXtjbWQ6XCJwdWJyZWxcIixxb3M6MixtZXNzYWdlSWQ6dH07Y29uc3Qgcj1lLnJlYXNvbkNvZGU7ciYmcj4wJiYxNiE9PXI/KChzPW5ldyBFcnJvcihcIlB1Ymxpc2ggZXJyb3I6IFwiK19bcl0pKS5jb2RlPXIsaShzLGUpKTp0aGlzLl9zZW5kUGFja2V0KG4pO2JyZWFrfWNhc2VcInN1YmFja1wiOmRlbGV0ZSB0aGlzLm91dGdvaW5nW3RdLHRoaXMubWVzc2FnZUlkUHJvdmlkZXIuZGVhbGxvY2F0ZSh0KTtmb3IobGV0IHI9MDtyPGUuZ3JhbnRlZC5sZW5ndGg7cisrKWlmKDAhPSgxMjgmZS5ncmFudGVkW3JdKSl7Y29uc3QgZT10aGlzLm1lc3NhZ2VJZFRvVG9waWNbdF07ZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSBvLl9yZXN1YnNjcmliZVRvcGljc1tlXX0pfXRoaXMuX2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCksaShudWxsLGUpO2JyZWFrO2Nhc2VcInVuc3ViYWNrXCI6ZGVsZXRlIHRoaXMub3V0Z29pbmdbdF0sdGhpcy5tZXNzYWdlSWRQcm92aWRlci5kZWFsbG9jYXRlKHQpLHRoaXMuX2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCksaShudWxsKTticmVhaztkZWZhdWx0Om8uZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwidW5yZWNvZ25pemVkIHBhY2tldCB0eXBlXCIpKX10aGlzLmRpc2Nvbm5lY3RpbmcmJjA9PT1PYmplY3Qua2V5cyh0aGlzLm91dGdvaW5nKS5sZW5ndGgmJnRoaXMuZW1pdChcIm91dGdvaW5nRW1wdHlcIil9ZWxzZSB5KFwiX2hhbmRsZUFjayA6OiBTZXJ2ZXIgc2VudCBhbiBhY2sgaW4gZXJyb3IuIElnbm9yaW5nLlwiKX0sVC5wcm90b3R5cGUuX2hhbmRsZVB1YnJlbD1mdW5jdGlvbihlLHQpe3koXCJoYW5kbGluZyBwdWJyZWwgcGFja2V0XCIpLHQ9dm9pZCAwIT09dD90OkM7Y29uc3Qgcj10aGlzLG49e2NtZDpcInB1YmNvbXBcIixtZXNzYWdlSWQ6ZS5tZXNzYWdlSWR9O3IuaW5jb21pbmdTdG9yZS5nZXQoZSxmdW5jdGlvbihlLGkpe2U/ci5fc2VuZFBhY2tldChuLHQpOihyLmVtaXQoXCJtZXNzYWdlXCIsaS50b3BpYyxpLnBheWxvYWQsaSksci5oYW5kbGVNZXNzYWdlKGksZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gdChlKTtyLmluY29taW5nU3RvcmUuZGVsKGksQyksci5fc2VuZFBhY2tldChuLHQpfSkpfSl9LFQucHJvdG90eXBlLl9oYW5kbGVEaXNjb25uZWN0PWZ1bmN0aW9uKGUpe3RoaXMuZW1pdChcImRpc2Nvbm5lY3RcIixlKX0sVC5wcm90b3R5cGUuX25leHRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1lc3NhZ2VJZFByb3ZpZGVyLmFsbG9jYXRlKCl9LFQucHJvdG90eXBlLmdldExhc3RNZXNzYWdlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlSWRQcm92aWRlci5nZXRMYXN0QWxsb2NhdGVkKCl9LFQucHJvdG90eXBlLl9yZXN1YnNjcmliZT1mdW5jdGlvbigpe3koXCJfcmVzdWJzY3JpYmVcIik7Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLl9yZXN1YnNjcmliZVRvcGljcyk7aWYoIXRoaXMuX2ZpcnN0Q29ubmVjdGlvbiYmKHRoaXMub3B0aW9ucy5jbGVhbnx8NT09PXRoaXMub3B0aW9ucy5wcm90b2NvbFZlcnNpb24mJiF0aGlzLmNvbm5hY2tQYWNrZXQuc2Vzc2lvblByZXNlbnQpJiZlLmxlbmd0aD4wKWlmKHRoaXMub3B0aW9ucy5yZXN1YnNjcmliZSlpZig1PT09dGhpcy5vcHRpb25zLnByb3RvY29sVmVyc2lvbil7eShcIl9yZXN1YnNjcmliZTogcHJvdG9jb2xWZXJzaW9uIDVcIik7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHI9e307cltlW3RdXT10aGlzLl9yZXN1YnNjcmliZVRvcGljc1tlW3RdXSxyLnJlc3Vic2NyaWJlPSEwLHRoaXMuc3Vic2NyaWJlKHIse3Byb3BlcnRpZXM6cltlW3RdXS5wcm9wZXJ0aWVzfSl9fWVsc2UgdGhpcy5fcmVzdWJzY3JpYmVUb3BpY3MucmVzdWJzY3JpYmU9ITAsdGhpcy5zdWJzY3JpYmUodGhpcy5fcmVzdWJzY3JpYmVUb3BpY3MpO2Vsc2UgdGhpcy5fcmVzdWJzY3JpYmVUb3BpY3M9e307dGhpcy5fZmlyc3RDb25uZWN0aW9uPSExfSxULnByb3RvdHlwZS5fb25Db25uZWN0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuZGlzY29ubmVjdGVkKXJldHVybiB2b2lkIHRoaXMuZW1pdChcImNvbm5lY3RcIixlKTtjb25zdCB0PXRoaXM7dGhpcy5jb25uYWNrUGFja2V0PWUsdGhpcy5tZXNzYWdlSWRQcm92aWRlci5jbGVhcigpLHRoaXMuX3NldHVwUGluZ1RpbWVyKCksdGhpcy5jb25uZWN0ZWQ9ITAsZnVuY3Rpb24gcigpe2xldCBuPXQub3V0Z29pbmdTdG9yZS5jcmVhdGVTdHJlYW0oKTtmdW5jdGlvbiBpKCl7dC5fc3RvcmVQcm9jZXNzaW5nPSExLHQuX3BhY2tldElkc0R1cmluZ1N0b3JlUHJvY2Vzc2luZz17fX1mdW5jdGlvbiBvKCl7bi5kZXN0cm95KCksbj1udWxsLHQuX2ZsdXNoU3RvcmVQcm9jZXNzaW5nUXVldWUoKSxpKCl9dC5vbmNlKFwiY2xvc2VcIixvKSxuLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXtpKCksdC5fZmx1c2hTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLG8pLHQuZW1pdChcImVycm9yXCIsZSl9KSxuLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtsZXQgbj0hMDtmb3IoY29uc3QgZSBpbiB0Ll9wYWNrZXRJZHNEdXJpbmdTdG9yZVByb2Nlc3NpbmcpaWYoIXQuX3BhY2tldElkc0R1cmluZ1N0b3JlUHJvY2Vzc2luZ1tlXSl7bj0hMTticmVha31uPyhpKCksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsbyksdC5faW52b2tlQWxsU3RvcmVQcm9jZXNzaW5nUXVldWUoKSx0LmVtaXQoXCJjb25uZWN0XCIsZSkpOnIoKX0pLGZ1bmN0aW9uIGUoKXtpZighbilyZXR1cm47dC5fc3RvcmVQcm9jZXNzaW5nPSEwO2NvbnN0IHI9bi5yZWFkKDEpO2xldCBpO3I/dC5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nW3IubWVzc2FnZUlkXT9lKCk6dC5kaXNjb25uZWN0aW5nfHx0LnJlY29ubmVjdFRpbWVyP24uZGVzdHJveSYmbi5kZXN0cm95KCk6KGk9dC5vdXRnb2luZ1tyLm1lc3NhZ2VJZF0/dC5vdXRnb2luZ1tyLm1lc3NhZ2VJZF0uY2I6bnVsbCx0Lm91dGdvaW5nW3IubWVzc2FnZUlkXT17dm9sYXRpbGU6ITEsY2I6ZnVuY3Rpb24odCxyKXtpJiZpKHQsciksZSgpfX0sdC5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nW3IubWVzc2FnZUlkXT0hMCx0Lm1lc3NhZ2VJZFByb3ZpZGVyLnJlZ2lzdGVyKHIubWVzc2FnZUlkKT90Ll9zZW5kUGFja2V0KHIpOnkoXCJtZXNzYWdlSWQ6ICVkIGhhcyBhbHJlYWR5IHVzZWQuXCIsci5tZXNzYWdlSWQpKTpuLm9uY2UoXCJyZWFkYWJsZVwiLGUpfSgpfSgpfSxULnByb3RvdHlwZS5faW52b2tlU3RvcmVQcm9jZXNzaW5nUXVldWU9ZnVuY3Rpb24oKXtpZih0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5sZW5ndGg+MCl7Y29uc3QgZT10aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZVswXTtpZihlJiZlLmludm9rZSgpKXJldHVybiB0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5zaGlmdCgpLCEwfXJldHVybiExfSxULnByb3RvdHlwZS5faW52b2tlQWxsU3RvcmVQcm9jZXNzaW5nUXVldWU9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuX2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCk7KTt9LFQucHJvdG90eXBlLl9mbHVzaFN0b3JlUHJvY2Vzc2luZ1F1ZXVlPWZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUpZS5jYlN0b3JlUHV0JiZlLmNiU3RvcmVQdXQobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpLGUuY2FsbGJhY2smJmUuY2FsbGJhY2sobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpO3RoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLnNwbGljZSgwKX0sdC5leHBvcnRzPVR9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoXCJfcHJvY2Vzc1wiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9kZWZhdWx0LW1lc3NhZ2UtaWQtcHJvdmlkZXJcIjo3LFwiLi9zdG9yZVwiOjgsXCIuL3RvcGljLWFsaWFzLXJlY3ZcIjo5LFwiLi90b3BpYy1hbGlhcy1zZW5kXCI6MTAsXCIuL3ZhbGlkYXRpb25zXCI6MTEsX3Byb2Nlc3M6NTAsZGVidWc6MTgsZXZlbnRzOjIyLGluaGVyaXRzOjI0LFwibXF0dC1wYWNrZXRcIjo0MCxcInJlYWRhYmxlLXN0cmVhbVwiOjY5LHJlaW50ZXJ2YWw6NzAsXCJyZmRjL2RlZmF1bHRcIjo3MSx4dGVuZDo4MX1dLDI6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdHtCdWZmZXI6bn09ZShcImJ1ZmZlclwiKSxpPWUoXCJyZWFkYWJsZS1zdHJlYW1cIikuVHJhbnNmb3JtLG89ZShcImR1cGxleGlmeVwiKTtsZXQgcyxhLGwsdT0hMTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZih0Lmhvc3RuYW1lPXQuaG9zdG5hbWV8fHQuaG9zdCwhdC5ob3N0bmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGhvc3QuIFNwZWNpZnkgaG9zdCBtYW51YWxseS5cIik7Y29uc3Qgcj1cIk1RSXNkcFwiPT09dC5wcm90b2NvbElkJiYzPT09dC5wcm90b2NvbFZlcnNpb24/XCJtcXR0djMuMVwiOlwibXF0dFwiOyFmdW5jdGlvbihlKXtlLmhvc3RuYW1lfHwoZS5ob3N0bmFtZT1cImxvY2FsaG9zdFwiKSxlLnBhdGh8fChlLnBhdGg9XCIvXCIpLGUud3NPcHRpb25zfHwoZS53c09wdGlvbnM9e30pfSh0KTtjb25zdCBjPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1cImFsaXNcIj09PWUucHJvdG9jb2w/XCJ3c3NcIjpcIndzXCI7bGV0IG49citcIjovL1wiK2UuaG9zdG5hbWUrZS5wYXRoO3JldHVybiBlLnBvcnQmJjgwIT09ZS5wb3J0JiY0NDMhPT1lLnBvcnQmJihuPXIrXCI6Ly9cIitlLmhvc3RuYW1lK1wiOlwiK2UucG9ydCtlLnBhdGgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudHJhbnNmb3JtV3NVcmwmJihuPWUudHJhbnNmb3JtV3NVcmwobixlLHQpKSxufSh0LGUpO3JldHVybihzPXQubXkpLmNvbm5lY3RTb2NrZXQoe3VybDpjLHByb3RvY29sczpyfSksYT1mdW5jdGlvbigpe2NvbnN0IGU9bmV3IGk7cmV0dXJuIGUuX3dyaXRlPWZ1bmN0aW9uKGUsdCxyKXtzLnNlbmRTb2NrZXRNZXNzYWdlKHtkYXRhOmUuYnVmZmVyLHN1Y2Nlc3M6ZnVuY3Rpb24oKXtyKCl9LGZhaWw6ZnVuY3Rpb24oKXtyKG5ldyBFcnJvcil9fSl9LGUuX2ZsdXNoPWZ1bmN0aW9uKGUpe3MuY2xvc2VTb2NrZXQoe3N1Y2Nlc3M6ZnVuY3Rpb24oKXtlKCl9fSl9LGV9KCksbD1vLm9iaigpLHV8fCh1PSEwLHMub25Tb2NrZXRPcGVuKGZ1bmN0aW9uKCl7bC5zZXRSZWFkYWJsZShhKSxsLnNldFdyaXRhYmxlKGEpLGwuZW1pdChcImNvbm5lY3RcIil9KSxzLm9uU29ja2V0TWVzc2FnZShmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhKXtjb25zdCB0PW4uZnJvbShlLmRhdGEsXCJiYXNlNjRcIik7YS5wdXNoKHQpfWVsc2V7Y29uc3QgdD1uZXcgRmlsZVJlYWRlcjt0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXtsZXQgZT10LnJlc3VsdDtlPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uLmZyb20oZSk6bi5mcm9tKGUsXCJ1dGY4XCIpLGEucHVzaChlKX0pLHQucmVhZEFzQXJyYXlCdWZmZXIoZS5kYXRhKX19KSxzLm9uU29ja2V0Q2xvc2UoZnVuY3Rpb24oKXtsLmVuZCgpLGwuZGVzdHJveSgpfSkscy5vblNvY2tldEVycm9yKGZ1bmN0aW9uKGUpe2wuZGVzdHJveShlKX0pKSxsfX0se2J1ZmZlcjoxNyxkdXBsZXhpZnk6MjAsXCJyZWFkYWJsZS1zdHJlYW1cIjo2OX1dLDM6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPWUoXCJuZXRcIiksaT1lKFwiZGVidWdcIikoXCJtcXR0anM6dGNwXCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3QucG9ydD10LnBvcnR8fDE4ODMsdC5ob3N0bmFtZT10Lmhvc3RuYW1lfHx0Lmhvc3R8fFwibG9jYWxob3N0XCI7Y29uc3Qgcj10LnBvcnQsbz10Lmhvc3RuYW1lO3JldHVybiBpKFwicG9ydCAlZCBhbmQgaG9zdCAlc1wiLHIsbyksbi5jcmVhdGVDb25uZWN0aW9uKHIsbyl9fSx7ZGVidWc6MTgsbmV0OjE2fV0sNDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IG49ZShcInRsc1wiKSxpPWUoXCJuZXRcIiksbz1lKFwiZGVidWdcIikoXCJtcXR0anM6dGxzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3QucG9ydD10LnBvcnR8fDg4ODMsdC5ob3N0PXQuaG9zdG5hbWV8fHQuaG9zdHx8XCJsb2NhbGhvc3RcIiwwPT09aS5pc0lQKHQuaG9zdCkmJih0LnNlcnZlcm5hbWU9dC5ob3N0KSx0LnJlamVjdFVuYXV0aG9yaXplZD0hMSE9PXQucmVqZWN0VW5hdXRob3JpemVkLGRlbGV0ZSB0LnBhdGgsbyhcInBvcnQgJWQgaG9zdCAlcyByZWplY3RVbmF1dGhvcml6ZWQgJWJcIix0LnBvcnQsdC5ob3N0LHQucmVqZWN0VW5hdXRob3JpemVkKTtjb25zdCByPW4uY29ubmVjdCh0KTtmdW5jdGlvbiBzKG4pe3QucmVqZWN0VW5hdXRob3JpemVkJiZlLmVtaXQoXCJlcnJvclwiLG4pLHIuZW5kKCl9cmV0dXJuIHIub24oXCJzZWN1cmVDb25uZWN0XCIsZnVuY3Rpb24oKXt0LnJlamVjdFVuYXV0aG9yaXplZCYmIXIuYXV0aG9yaXplZD9yLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIlRMUyBub3QgYXV0aG9yaXplZFwiKSk6ci5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIscyl9KSxyLm9uKFwiZXJyb3JcIixzKSxyfX0se2RlYnVnOjE4LG5ldDoxNix0bHM6MTZ9XSw1OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHIpeyhmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2NvbnN0e0J1ZmZlcjpufT1lKFwiYnVmZmVyXCIpLGk9ZShcIndzXCIpLG89ZShcImRlYnVnXCIpKFwibXF0dGpzOndzXCIpLHM9ZShcImR1cGxleGlmeVwiKSxhPWUoXCJyZWFkYWJsZS1zdHJlYW1cIikuVHJhbnNmb3JtLGw9W1wicmVqZWN0VW5hdXRob3JpemVkXCIsXCJjYVwiLFwiY2VydFwiLFwia2V5XCIsXCJwZnhcIixcInBhc3NwaHJhc2VcIl0sdT12b2lkIDAhPT1yJiZcImJyb3dzZXJcIj09PXIudGl0bGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIF9fd2VicGFja19yZXF1aXJlX187ZnVuY3Rpb24gYyhlLHQpe2xldCByPWUucHJvdG9jb2wrXCI6Ly9cIitlLmhvc3RuYW1lK1wiOlwiK2UucG9ydCtlLnBhdGg7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS50cmFuc2Zvcm1Xc1VybCYmKHI9ZS50cmFuc2Zvcm1Xc1VybChyLGUsdCkpLHJ9ZnVuY3Rpb24gaChlKXtjb25zdCB0PWU7cmV0dXJuIGUuaG9zdG5hbWV8fCh0Lmhvc3RuYW1lPVwibG9jYWxob3N0XCIpLGUucG9ydHx8KFwid3NzXCI9PT1lLnByb3RvY29sP3QucG9ydD00NDM6dC5wb3J0PTgwKSxlLnBhdGh8fCh0LnBhdGg9XCIvXCIpLGUud3NPcHRpb25zfHwodC53c09wdGlvbnM9e30pLHV8fFwid3NzXCIhPT1lLnByb3RvY29sfHxsLmZvckVhY2goZnVuY3Rpb24ocil7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS53c09wdGlvbnMscikmJih0LndzT3B0aW9uc1tyXT1lW3JdKX0pLHR9dC5leHBvcnRzPXU/ZnVuY3Rpb24oZSx0KXtsZXQgcjtvKFwiYnJvd3NlclN0cmVhbUJ1aWxkZXJcIik7Y29uc3QgaT1mdW5jdGlvbihlKXtjb25zdCB0PWgoZSk7aWYodC5ob3N0bmFtZXx8KHQuaG9zdG5hbWU9dC5ob3N0KSwhdC5ob3N0bmFtZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgaG9zdC4gU3BlY2lmeSBob3N0IG1hbnVhbGx5LlwiKTtjb25zdCBlPW5ldyBVUkwoZG9jdW1lbnQuVVJMKTt0Lmhvc3RuYW1lPWUuaG9zdG5hbWUsdC5wb3J0fHwodC5wb3J0PWUucG9ydCl9cmV0dXJuIHZvaWQgMD09PXQub2JqZWN0TW9kZSYmKHQub2JqZWN0TW9kZT0hKCEwPT09dC5iaW5hcnl8fHZvaWQgMD09PXQuYmluYXJ5KSksdH0odCkuYnJvd3NlckJ1ZmZlclNpemV8fDUyNDI4OCxsPXQuYnJvd3NlckJ1ZmZlclRpbWVvdXR8fDFlMyx1PSF0Lm9iamVjdE1vZGUsZj1mdW5jdGlvbihlLHQpe2NvbnN0IHI9XCJNUUlzZHBcIj09PXQucHJvdG9jb2xJZCYmMz09PXQucHJvdG9jb2xWZXJzaW9uP1wibXF0dHYzLjFcIjpcIm1xdHRcIixuPWModCxlKSxpPW5ldyBXZWJTb2NrZXQobixbcl0pO3JldHVybiBpLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLGl9KGUsdCkscD1mdW5jdGlvbihlLHQscil7Y29uc3Qgbj1uZXcgYSh7b2JqZWN0TW9kZU1vZGU6ZS5vYmplY3RNb2RlfSk7cmV0dXJuIG4uX3dyaXRlPXQsbi5fZmx1c2g9cixufSh0LGZ1bmN0aW9uIGUodCxyLG8pe2YuYnVmZmVyZWRBbW91bnQ+aSYmc2V0VGltZW91dChlLGwsdCxyLG8pLHUmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1uLmZyb20odCxcInV0ZjhcIikpO3RyeXtmLnNlbmQodCl9Y2F0Y2goZSl7cmV0dXJuIG8oZSl9bygpfSxmdW5jdGlvbihlKXtmLmNsb3NlKCksZSgpfSk7dC5vYmplY3RNb2RlfHwocC5fd3JpdGV2PXYpLHAub24oXCJjbG9zZVwiLCgpPT57Zi5jbG9zZSgpfSk7Y29uc3QgZD12b2lkIDAhPT1mLmFkZEV2ZW50TGlzdGVuZXI7ZnVuY3Rpb24gZygpe3Iuc2V0UmVhZGFibGUocCksci5zZXRXcml0YWJsZShwKSxyLmVtaXQoXCJjb25uZWN0XCIpfWZ1bmN0aW9uIHkoKXtyLmVuZCgpLHIuZGVzdHJveSgpfWZ1bmN0aW9uIGIoZSl7ci5kZXN0cm95KGUpfWZ1bmN0aW9uIG0oZSl7bGV0IHQ9ZS5kYXRhO3Q9dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP24uZnJvbSh0KTpuLmZyb20odCxcInV0ZjhcIikscC5wdXNoKHQpfWZ1bmN0aW9uIHYoZSx0KXtjb25zdCByPW5ldyBBcnJheShlLmxlbmd0aCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspXCJzdHJpbmdcIj09dHlwZW9mIGVbdF0uY2h1bms/clt0XT1uLmZyb20oZVt0XSxcInV0ZjhcIik6clt0XT1lW3RdLmNodW5rO3RoaXMuX3dyaXRlKG4uY29uY2F0KHIpLFwiYmluYXJ5XCIsdCl9cmV0dXJuIGYucmVhZHlTdGF0ZT09PWYuT1BFTj9yPXA6KHI9cj1zKHZvaWQgMCx2b2lkIDAsdCksdC5vYmplY3RNb2RlfHwoci5fd3JpdGV2PXYpLGQ/Zi5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLGcpOmYub25vcGVuPWcpLHIuc29ja2V0PWYsZD8oZi5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIix5KSxmLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGIpLGYuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixtKSk6KGYub25jbG9zZT15LGYub25lcnJvcj1iLGYub25tZXNzYWdlPW0pLHJ9OmZ1bmN0aW9uKGUsdCl7byhcInN0cmVhbUJ1aWxkZXJcIik7Y29uc3Qgcj1oKHQpLG49YyhyLGUpLHM9ZnVuY3Rpb24oZSx0LHIpe28oXCJjcmVhdGVXZWJTb2NrZXRcIiksbyhcInByb3RvY29sOiBcIityLnByb3RvY29sSWQrXCIgXCIrci5wcm90b2NvbFZlcnNpb24pO2NvbnN0IG49XCJNUUlzZHBcIj09PXIucHJvdG9jb2xJZCYmMz09PXIucHJvdG9jb2xWZXJzaW9uP1wibXF0dHYzLjFcIjpcIm1xdHRcIjtyZXR1cm4gbyhcImNyZWF0aW5nIG5ldyBXZWJzb2NrZXQgZm9yIHVybDogXCIrdCtcIiBhbmQgcHJvdG9jb2w6IFwiK24pLG5ldyBpKHQsW25dLHIud3NPcHRpb25zKX0oMCxuLHIpLGE9aS5jcmVhdGVXZWJTb2NrZXRTdHJlYW0ocyxyLndzT3B0aW9ucyk7cmV0dXJuIGEudXJsPW4scy5vbihcImNsb3NlXCIsKCk9PnthLmRlc3Ryb3koKX0pLGF9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKFwiX3Byb2Nlc3NcIikpfSx7X3Byb2Nlc3M6NTAsYnVmZmVyOjE3LGRlYnVnOjE4LGR1cGxleGlmeToyMCxcInJlYWRhYmxlLXN0cmVhbVwiOjY5LHdzOjgwfV0sNjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0e0J1ZmZlcjpufT1lKFwiYnVmZmVyXCIpLGk9ZShcInJlYWRhYmxlLXN0cmVhbVwiKS5UcmFuc2Zvcm0sbz1lKFwiZHVwbGV4aWZ5XCIpO2xldCBzLGEsbDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZih0Lmhvc3RuYW1lPXQuaG9zdG5hbWV8fHQuaG9zdCwhdC5ob3N0bmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGhvc3QuIFNwZWNpZnkgaG9zdCBtYW51YWxseS5cIik7Y29uc3Qgcj1cIk1RSXNkcFwiPT09dC5wcm90b2NvbElkJiYzPT09dC5wcm90b2NvbFZlcnNpb24/XCJtcXR0djMuMVwiOlwibXF0dFwiOyFmdW5jdGlvbihlKXtlLmhvc3RuYW1lfHwoZS5ob3N0bmFtZT1cImxvY2FsaG9zdFwiKSxlLnBhdGh8fChlLnBhdGg9XCIvXCIpLGUud3NPcHRpb25zfHwoZS53c09wdGlvbnM9e30pfSh0KTtjb25zdCB1PWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1cInd4c1wiPT09ZS5wcm90b2NvbD9cIndzc1wiOlwid3NcIjtsZXQgbj1yK1wiOi8vXCIrZS5ob3N0bmFtZStlLnBhdGg7cmV0dXJuIGUucG9ydCYmODAhPT1lLnBvcnQmJjQ0MyE9PWUucG9ydCYmKG49citcIjovL1wiK2UuaG9zdG5hbWUrXCI6XCIrZS5wb3J0K2UucGF0aCksXCJmdW5jdGlvblwiPT10eXBlb2YgZS50cmFuc2Zvcm1Xc1VybCYmKG49ZS50cmFuc2Zvcm1Xc1VybChuLGUsdCkpLG59KHQsZSk7cz13eC5jb25uZWN0U29ja2V0KHt1cmw6dSxwcm90b2NvbHM6W3JdfSksYT1mdW5jdGlvbigpe2NvbnN0IGU9bmV3IGk7cmV0dXJuIGUuX3dyaXRlPWZ1bmN0aW9uKGUsdCxyKXtzLnNlbmQoe2RhdGE6ZS5idWZmZXIsc3VjY2VzczpmdW5jdGlvbigpe3IoKX0sZmFpbDpmdW5jdGlvbihlKXtyKG5ldyBFcnJvcihlKSl9fSl9LGUuX2ZsdXNoPWZ1bmN0aW9uKGUpe3MuY2xvc2Uoe3N1Y2Nlc3M6ZnVuY3Rpb24oKXtlKCl9fSl9LGV9KCksKGw9by5vYmooKSkuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXtzLmNsb3NlKHtzdWNjZXNzOmZ1bmN0aW9uKCl7dCYmdChlKX19KX07Y29uc3QgYz1sLmRlc3Ryb3k7cmV0dXJuIGwuZGVzdHJveT1mdW5jdGlvbigpe2wuZGVzdHJveT1jO2NvbnN0IGU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5jbG9zZSh7ZmFpbDpmdW5jdGlvbigpe2UuX2Rlc3Ryb3kobmV3IEVycm9yKX19KX0sMCl9LmJpbmQobCkscy5vbk9wZW4oZnVuY3Rpb24oKXtsLnNldFJlYWRhYmxlKGEpLGwuc2V0V3JpdGFibGUoYSksbC5lbWl0KFwiY29ubmVjdFwiKX0pLHMub25NZXNzYWdlKGZ1bmN0aW9uKGUpe2xldCB0PWUuZGF0YTt0PXQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uLmZyb20odCk6bi5mcm9tKHQsXCJ1dGY4XCIpLGEucHVzaCh0KX0pLHMub25DbG9zZShmdW5jdGlvbigpe2wuZW5kKCksbC5kZXN0cm95KCl9KSxzLm9uRXJyb3IoZnVuY3Rpb24oZSl7bC5kZXN0cm95KG5ldyBFcnJvcihlLmVyck1zZykpfSksbH19LHtidWZmZXI6MTcsZHVwbGV4aWZ5OjIwLFwicmVhZGFibGUtc3RyZWFtXCI6Njl9XSw3OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBuZXcgbjt0aGlzLm5leHRJZD1NYXRoLm1heCgxLE1hdGguZmxvb3IoNjU1MzUqTWF0aC5yYW5kb20oKSkpfW4ucHJvdG90eXBlLmFsbG9jYXRlPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm5leHRJZCsrO3JldHVybiA2NTUzNj09PXRoaXMubmV4dElkJiYodGhpcy5uZXh0SWQ9MSksZX0sbi5wcm90b3R5cGUuZ2V0TGFzdEFsbG9jYXRlZD1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5uZXh0SWQ/NjU1MzU6dGhpcy5uZXh0SWQtMX0sbi5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuITB9LG4ucHJvdG90eXBlLmRlYWxsb2NhdGU9ZnVuY3Rpb24oZSl7fSxuLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe30sdC5leHBvcnRzPW59LHt9XSw4OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj1lKFwieHRlbmRcIiksaT1lKFwicmVhZGFibGUtc3RyZWFtXCIpLlJlYWRhYmxlLG89e29iamVjdE1vZGU6ITB9LHM9e2NsZWFuOiEwfTtmdW5jdGlvbiBhKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGEpKXJldHVybiBuZXcgYShlKTt0aGlzLm9wdGlvbnM9ZXx8e30sdGhpcy5vcHRpb25zPW4ocyxlKSx0aGlzLl9pbmZsaWdodHM9bmV3IE1hcH1hLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5mbGlnaHRzLnNldChlLm1lc3NhZ2VJZCxlKSx0JiZ0KCksdGhpc30sYS5wcm90b3R5cGUuY3JlYXRlU3RyZWFtPWZ1bmN0aW9uKCl7Y29uc3QgZT1uZXcgaShvKSx0PVtdO2xldCByPSExLG49MDtyZXR1cm4gdGhpcy5faW5mbGlnaHRzLmZvckVhY2goZnVuY3Rpb24oZSxyKXt0LnB1c2goZSl9KSxlLl9yZWFkPWZ1bmN0aW9uKCl7IXImJm48dC5sZW5ndGg/dGhpcy5wdXNoKHRbbisrXSk6dGhpcy5wdXNoKG51bGwpfSxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtpZihyKXJldHVybjtjb25zdCBlPXRoaXM7cj0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5lbWl0KFwiY2xvc2VcIil9LDApfSxlfSxhLnByb3RvdHlwZS5kZWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT10aGlzLl9pbmZsaWdodHMuZ2V0KGUubWVzc2FnZUlkKSk/KHRoaXMuX2luZmxpZ2h0cy5kZWxldGUoZS5tZXNzYWdlSWQpLHQobnVsbCxlKSk6dCYmdChuZXcgRXJyb3IoXCJtaXNzaW5nIHBhY2tldFwiKSksdGhpc30sYS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9dGhpcy5faW5mbGlnaHRzLmdldChlLm1lc3NhZ2VJZCkpP3QobnVsbCxlKTp0JiZ0KG5ldyBFcnJvcihcIm1pc3NpbmcgcGFja2V0XCIpKSx0aGlzfSxhLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMuY2xlYW4mJih0aGlzLl9pbmZsaWdodHM9bnVsbCksZSYmZSgpfSx0LmV4cG9ydHM9YX0se1wicmVhZGFibGUtc3RyZWFtXCI6NjkseHRlbmQ6ODF9XSw5OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBuKSlyZXR1cm4gbmV3IG4oZSk7dGhpcy5hbGlhc1RvVG9waWM9e30sdGhpcy5tYXg9ZX1uLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKDA9PT10fHx0PnRoaXMubWF4KSYmKHRoaXMuYWxpYXNUb1RvcGljW3RdPWUsdGhpcy5sZW5ndGg9T2JqZWN0LmtleXModGhpcy5hbGlhc1RvVG9waWMpLmxlbmd0aCwhMCl9LG4ucHJvdG90eXBlLmdldFRvcGljQnlBbGlhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hbGlhc1RvVG9waWNbZV19LG4ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5hbGlhc1RvVG9waWM9e319LHQuZXhwb3J0cz1ufSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPWUoXCJscnUtY2FjaGVcIiksaT1lKFwibnVtYmVyLWFsbG9jYXRvclwiKS5OdW1iZXJBbGxvY2F0b3I7ZnVuY3Rpb24gbyhlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBvKSlyZXR1cm4gbmV3IG8oZSk7ZT4wJiYodGhpcy5hbGlhc1RvVG9waWM9bmV3IG4oe21heDplfSksdGhpcy50b3BpY1RvQWxpYXM9e30sdGhpcy5udW1iZXJBbGxvY2F0b3I9bmV3IGkoMSxlKSx0aGlzLm1heD1lLHRoaXMubGVuZ3RoPTApfW8ucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQpe2lmKDA9PT10fHx0PnRoaXMubWF4KXJldHVybiExO2NvbnN0IHI9dGhpcy5hbGlhc1RvVG9waWMuZ2V0KHQpO3JldHVybiByJiZkZWxldGUgdGhpcy50b3BpY1RvQWxpYXNbcl0sdGhpcy5hbGlhc1RvVG9waWMuc2V0KHQsZSksdGhpcy50b3BpY1RvQWxpYXNbZV09dCx0aGlzLm51bWJlckFsbG9jYXRvci51c2UodCksdGhpcy5sZW5ndGg9dGhpcy5hbGlhc1RvVG9waWMubGVuZ3RoLCEwfSxvLnByb3RvdHlwZS5nZXRUb3BpY0J5QWxpYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWxpYXNUb1RvcGljLmdldChlKX0sby5wcm90b3R5cGUuZ2V0QWxpYXNCeVRvcGljPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpcy50b3BpY1RvQWxpYXNbZV07cmV0dXJuIHZvaWQgMCE9PXQmJnRoaXMuYWxpYXNUb1RvcGljLmdldCh0KSx0fSxvLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuYWxpYXNUb1RvcGljLnJlc2V0KCksdGhpcy50b3BpY1RvQWxpYXM9e30sdGhpcy5udW1iZXJBbGxvY2F0b3IuY2xlYXIoKSx0aGlzLmxlbmd0aD0wfSxvLnByb3RvdHlwZS5nZXRMcnVBbGlhcz1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5udW1iZXJBbGxvY2F0b3IuZmlyc3RWYWNhbnQoKTtyZXR1cm4gZXx8dGhpcy5hbGlhc1RvVG9waWMua2V5cygpW3RoaXMuYWxpYXNUb1RvcGljLmxlbmd0aC0xXX0sdC5leHBvcnRzPW99LHtcImxydS1jYWNoZVwiOjM3LFwibnVtYmVyLWFsbG9jYXRvclwiOjQ2fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe2NvbnN0IHQ9ZS5zcGxpdChcIi9cIik7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYoXCIrXCIhPT10W2VdKXtpZihcIiNcIj09PXRbZV0pcmV0dXJuIGU9PT10Lmxlbmd0aC0xO2lmKC0xIT09dFtlXS5pbmRleE9mKFwiK1wiKXx8LTEhPT10W2VdLmluZGV4T2YoXCIjXCIpKXJldHVybiExfXJldHVybiEwfXQuZXhwb3J0cz17dmFsaWRhdGVUb3BpY3M6ZnVuY3Rpb24oZSl7aWYoMD09PWUubGVuZ3RoKXJldHVyblwiZW1wdHlfdG9waWNfbGlzdFwiO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKCFuKGVbdF0pKXJldHVybiBlW3RdO3JldHVybiBudWxsfX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihyKXsoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPWUoXCIuLi9jbGllbnRcIiksaT1lKFwiLi4vc3RvcmVcIiksbz1lKFwidXJsXCIpLHM9ZShcInh0ZW5kXCIpLGE9ZShcImRlYnVnXCIpKFwibXF0dGpzXCIpLGw9e307ZnVuY3Rpb24gdShlLHQpe2lmKGEoXCJjb25uZWN0aW5nIHRvIGFuIE1RVFQgYnJva2VyLi4uXCIpLFwib2JqZWN0XCIhPXR5cGVvZiBlfHx0fHwodD1lLGU9bnVsbCksdD10fHx7fSxlKXtjb25zdCByPW8ucGFyc2UoZSwhMCk7aWYobnVsbCE9ci5wb3J0JiYoci5wb3J0PU51bWJlcihyLnBvcnQpKSxudWxsPT09KHQ9cyhyLHQpKS5wcm90b2NvbCl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHByb3RvY29sXCIpO3QucHJvdG9jb2w9dC5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIil9aWYoZnVuY3Rpb24oZSl7bGV0IHQ7ZS5hdXRoJiYoKHQ9ZS5hdXRoLm1hdGNoKC9eKC4rKTooLispJC8pKT8oZS51c2VybmFtZT10WzFdLGUucGFzc3dvcmQ9dFsyXSk6ZS51c2VybmFtZT1lLmF1dGgpfSh0KSx0LnF1ZXJ5JiZcInN0cmluZ1wiPT10eXBlb2YgdC5xdWVyeS5jbGllbnRJZCYmKHQuY2xpZW50SWQ9dC5xdWVyeS5jbGllbnRJZCksdC5jZXJ0JiZ0LmtleSl7aWYoIXQucHJvdG9jb2wpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZWN1cmUgcHJvdG9jb2wga2V5XCIpO2lmKC0xPT09W1wibXF0dHNcIixcIndzc1wiLFwid3hzXCIsXCJhbGlzXCJdLmluZGV4T2YodC5wcm90b2NvbCkpc3dpdGNoKHQucHJvdG9jb2wpe2Nhc2VcIm1xdHRcIjp0LnByb3RvY29sPVwibXF0dHNcIjticmVhaztjYXNlXCJ3c1wiOnQucHJvdG9jb2w9XCJ3c3NcIjticmVhaztjYXNlXCJ3eFwiOnQucHJvdG9jb2w9XCJ3eHNcIjticmVhaztjYXNlXCJhbGlcIjp0LnByb3RvY29sPVwiYWxpc1wiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHByb3RvY29sIGZvciBzZWN1cmUgY29ubmVjdGlvbjogXCInK3QucHJvdG9jb2wrJ1wiIScpfX1pZighbFt0LnByb3RvY29sXSl7Y29uc3QgZT0tMSE9PVtcIm1xdHRzXCIsXCJ3c3NcIl0uaW5kZXhPZih0LnByb3RvY29sKTt0LnByb3RvY29sPVtcIm1xdHRcIixcIm1xdHRzXCIsXCJ3c1wiLFwid3NzXCIsXCJ3eFwiLFwid3hzXCIsXCJhbGlcIixcImFsaXNcIl0uZmlsdGVyKGZ1bmN0aW9uKHQscil7cmV0dXJuKCFlfHxyJTIhPTApJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBsW3RdfSlbMF19aWYoITE9PT10LmNsZWFuJiYhdC5jbGllbnRJZCl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGNsaWVudElkIGZvciB1bmNsZWFuIGNsaWVudHNcIik7dC5wcm90b2NvbCYmKHQuZGVmYXVsdFByb3RvY29sPXQucHJvdG9jb2wpO2NvbnN0IHI9bmV3IG4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2VydmVycyYmKGUuX3JlY29ubmVjdENvdW50JiZlLl9yZWNvbm5lY3RDb3VudCE9PXQuc2VydmVycy5sZW5ndGh8fChlLl9yZWNvbm5lY3RDb3VudD0wKSx0Lmhvc3Q9dC5zZXJ2ZXJzW2UuX3JlY29ubmVjdENvdW50XS5ob3N0LHQucG9ydD10LnNlcnZlcnNbZS5fcmVjb25uZWN0Q291bnRdLnBvcnQsdC5wcm90b2NvbD10LnNlcnZlcnNbZS5fcmVjb25uZWN0Q291bnRdLnByb3RvY29sP3Quc2VydmVyc1tlLl9yZWNvbm5lY3RDb3VudF0ucHJvdG9jb2w6dC5kZWZhdWx0UHJvdG9jb2wsdC5ob3N0bmFtZT10Lmhvc3QsZS5fcmVjb25uZWN0Q291bnQrKyksYShcImNhbGxpbmcgc3RyZWFtYnVpbGRlciBmb3JcIix0LnByb3RvY29sKSxsW3QucHJvdG9jb2xdKGUsdCl9LHQpO3JldHVybiByLm9uKFwiZXJyb3JcIixmdW5jdGlvbigpe30pLHJ9dm9pZCAwIT09ciYmXCJicm93c2VyXCIhPT1yLnRpdGxlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBfX3dlYnBhY2tfcmVxdWlyZV9fPyhsLm1xdHQ9ZShcIi4vdGNwXCIpLGwudGNwPWUoXCIuL3RjcFwiKSxsLnNzbD1lKFwiLi90bHNcIiksbC50bHM9ZShcIi4vdGxzXCIpLGwubXF0dHM9ZShcIi4vdGxzXCIpKToobC53eD1lKFwiLi93eFwiKSxsLnd4cz1lKFwiLi93eFwiKSxsLmFsaT1lKFwiLi9hbGlcIiksbC5hbGlzPWUoXCIuL2FsaVwiKSksbC53cz1lKFwiLi93c1wiKSxsLndzcz1lKFwiLi93c1wiKSx0LmV4cG9ydHM9dSx0LmV4cG9ydHMuY29ubmVjdD11LHQuZXhwb3J0cy5NcXR0Q2xpZW50PW4sdC5leHBvcnRzLlN0b3JlPWl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoXCJfcHJvY2Vzc1wiKSl9LHtcIi4uL2NsaWVudFwiOjEsXCIuLi9zdG9yZVwiOjgsXCIuL2FsaVwiOjIsXCIuL3RjcFwiOjMsXCIuL3Rsc1wiOjQsXCIuL3dzXCI6NSxcIi4vd3hcIjo2LF9wcm9jZXNzOjUwLGRlYnVnOjE4LHVybDo3Nix4dGVuZDo4MX1dLDEzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5ieXRlTGVuZ3RoPWZ1bmN0aW9uKGUpe3ZhciB0PXUoZSkscj10WzBdLG49dFsxXTtyZXR1cm4gMyoocituKS80LW59LHIudG9CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQscixuPXUoZSkscz1uWzBdLGE9blsxXSxsPW5ldyBvKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gMyoodCtyKS80LXJ9KDAscyxhKSksYz0wLGg9YT4wP3MtNDpzO2ZvcihyPTA7cjxoO3IrPTQpdD1pW2UuY2hhckNvZGVBdChyKV08PDE4fGlbZS5jaGFyQ29kZUF0KHIrMSldPDwxMnxpW2UuY2hhckNvZGVBdChyKzIpXTw8NnxpW2UuY2hhckNvZGVBdChyKzMpXSxsW2MrK109dD4+MTYmMjU1LGxbYysrXT10Pj44JjI1NSxsW2MrK109MjU1JnQ7Mj09PWEmJih0PWlbZS5jaGFyQ29kZUF0KHIpXTw8MnxpW2UuY2hhckNvZGVBdChyKzEpXT4+NCxsW2MrK109MjU1JnQpOzE9PT1hJiYodD1pW2UuY2hhckNvZGVBdChyKV08PDEwfGlbZS5jaGFyQ29kZUF0KHIrMSldPDw0fGlbZS5jaGFyQ29kZUF0KHIrMildPj4yLGxbYysrXT10Pj44JjI1NSxsW2MrK109MjU1JnQpO3JldHVybiBsfSxyLmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZS5sZW5ndGgsaT1yJTMsbz1bXSxzPTAsYT1yLWk7czxhO3MrPTE2MzgzKW8ucHVzaChjKGUscyxzKzE2MzgzPmE/YTpzKzE2MzgzKSk7MT09PWk/KHQ9ZVtyLTFdLG8ucHVzaChuW3Q+PjJdK25bdDw8NCY2M10rXCI9PVwiKSk6Mj09PWkmJih0PShlW3ItMl08PDgpK2Vbci0xXSxvLnB1c2goblt0Pj4xMF0rblt0Pj40JjYzXStuW3Q8PDImNjNdK1wiPVwiKSk7cmV0dXJuIG8uam9pbihcIlwiKX07Zm9yKHZhciBuPVtdLGk9W10sbz1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LHM9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsYT0wLGw9cy5sZW5ndGg7YTxsOysrYSluW2FdPXNbYV0saVtzLmNoYXJDb2RlQXQoYSldPWE7ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmxlbmd0aDtpZih0JTQ+MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO3ZhciByPWUuaW5kZXhPZihcIj1cIik7cmV0dXJuLTE9PT1yJiYocj10KSxbcixyPT09dD8wOjQtciU0XX1mdW5jdGlvbiBjKGUsdCxyKXtmb3IodmFyIGksbyxzPVtdLGE9dDthPHI7YSs9MylpPShlW2FdPDwxNiYxNjcxMTY4MCkrKGVbYSsxXTw8OCY2NTI4MCkrKDI1NSZlW2ErMl0pLHMucHVzaChuWyhvPWkpPj4xOCY2M10rbltvPj4xMiY2M10rbltvPj42JjYzXStuWzYzJm9dKTtyZXR1cm4gcy5qb2luKFwiXCIpfWlbXCItXCIuY2hhckNvZGVBdCgwKV09NjIsaVtcIl9cIi5jaGFyQ29kZUF0KDApXT02M30se31dLDE0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3R7QnVmZmVyOm59PWUoXCJidWZmZXJcIiksaT1TeW1ib2wuZm9yKFwiQnVmZmVyTGlzdFwiKTtmdW5jdGlvbiBvKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG8pKXJldHVybiBuZXcgbyhlKTtvLl9pbml0LmNhbGwodGhpcyxlKX1vLl9pbml0PWZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGkse3ZhbHVlOiEwfSksdGhpcy5fYnVmcz1bXSx0aGlzLmxlbmd0aD0wLGUmJnRoaXMuYXBwZW5kKGUpfSxvLnByb3RvdHlwZS5fbmV3PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbyhlKX0sby5wcm90b3R5cGUuX29mZnNldD1mdW5jdGlvbihlKXtpZigwPT09ZSlyZXR1cm5bMCwwXTtsZXQgdD0wO2ZvcihsZXQgcj0wO3I8dGhpcy5fYnVmcy5sZW5ndGg7cisrKXtjb25zdCBuPXQrdGhpcy5fYnVmc1tyXS5sZW5ndGg7aWYoZTxufHxyPT09dGhpcy5fYnVmcy5sZW5ndGgtMSlyZXR1cm5bcixlLXRdO3Q9bn19LG8ucHJvdG90eXBlLl9yZXZlcnNlT2Zmc2V0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZVswXTtsZXQgcj1lWzFdO2ZvcihsZXQgZT0wO2U8dDtlKyspcis9dGhpcy5fYnVmc1tlXS5sZW5ndGg7cmV0dXJuIHJ9LG8ucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtpZihlPnRoaXMubGVuZ3RofHxlPDApcmV0dXJuO2NvbnN0IHQ9dGhpcy5fb2Zmc2V0KGUpO3JldHVybiB0aGlzLl9idWZzW3RbMF1dW3RbMV1dfSxvLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPDAmJihlKz10aGlzLmxlbmd0aCksXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ8MCYmKHQrPXRoaXMubGVuZ3RoKSx0aGlzLmNvcHkobnVsbCwwLGUsdCl9LG8ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSx0LHIsaSl7aWYoKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyPDApJiYocj0wKSwoXCJudW1iZXJcIiE9dHlwZW9mIGl8fGk+dGhpcy5sZW5ndGgpJiYoaT10aGlzLmxlbmd0aCkscj49dGhpcy5sZW5ndGgpcmV0dXJuIGV8fG4uYWxsb2MoMCk7aWYoaTw9MClyZXR1cm4gZXx8bi5hbGxvYygwKTtjb25zdCBvPSEhZSxzPXRoaXMuX29mZnNldChyKSxhPWktcjtsZXQgbD1hLHU9byYmdHx8MCxjPXNbMV07aWYoMD09PXImJmk9PT10aGlzLmxlbmd0aCl7aWYoIW8pcmV0dXJuIDE9PT10aGlzLl9idWZzLmxlbmd0aD90aGlzLl9idWZzWzBdOm4uY29uY2F0KHRoaXMuX2J1ZnMsdGhpcy5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fYnVmcy5sZW5ndGg7dCsrKXRoaXMuX2J1ZnNbdF0uY29weShlLHUpLHUrPXRoaXMuX2J1ZnNbdF0ubGVuZ3RoO3JldHVybiBlfWlmKGw8PXRoaXMuX2J1ZnNbc1swXV0ubGVuZ3RoLWMpcmV0dXJuIG8/dGhpcy5fYnVmc1tzWzBdXS5jb3B5KGUsdCxjLGMrbCk6dGhpcy5fYnVmc1tzWzBdXS5zbGljZShjLGMrbCk7b3x8KGU9bi5hbGxvY1Vuc2FmZShhKSk7Zm9yKGxldCB0PXNbMF07dDx0aGlzLl9idWZzLmxlbmd0aDt0Kyspe2NvbnN0IHI9dGhpcy5fYnVmc1t0XS5sZW5ndGgtYztpZighKGw+cikpe3RoaXMuX2J1ZnNbdF0uY29weShlLHUsYyxjK2wpLHUrPXI7YnJlYWt9dGhpcy5fYnVmc1t0XS5jb3B5KGUsdSxjKSx1Kz1yLGwtPXIsYyYmKGM9MCl9cmV0dXJuIGUubGVuZ3RoPnU/ZS5zbGljZSgwLHUpOmV9LG8ucHJvdG90eXBlLnNoYWxsb3dTbGljZT1mdW5jdGlvbihlLHQpe2lmKGU9ZXx8MCx0PVwibnVtYmVyXCIhPXR5cGVvZiB0P3RoaXMubGVuZ3RoOnQsZTwwJiYoZSs9dGhpcy5sZW5ndGgpLHQ8MCYmKHQrPXRoaXMubGVuZ3RoKSxlPT09dClyZXR1cm4gdGhpcy5fbmV3KCk7Y29uc3Qgcj10aGlzLl9vZmZzZXQoZSksbj10aGlzLl9vZmZzZXQodCksaT10aGlzLl9idWZzLnNsaWNlKHJbMF0sblswXSsxKTtyZXR1cm4gMD09PW5bMV0/aS5wb3AoKTppW2kubGVuZ3RoLTFdPWlbaS5sZW5ndGgtMV0uc2xpY2UoMCxuWzFdKSwwIT09clsxXSYmKGlbMF09aVswXS5zbGljZShyWzFdKSksdGhpcy5fbmV3KGkpfSxvLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuc2xpY2UodCxyKS50b1N0cmluZyhlKX0sby5wcm90b3R5cGUuY29uc3VtZT1mdW5jdGlvbihlKXtpZihlPU1hdGgudHJ1bmMoZSksTnVtYmVyLmlzTmFOKGUpfHxlPD0wKXJldHVybiB0aGlzO2Zvcig7dGhpcy5fYnVmcy5sZW5ndGg7KXtpZighKGU+PXRoaXMuX2J1ZnNbMF0ubGVuZ3RoKSl7dGhpcy5fYnVmc1swXT10aGlzLl9idWZzWzBdLnNsaWNlKGUpLHRoaXMubGVuZ3RoLT1lO2JyZWFrfWUtPXRoaXMuX2J1ZnNbMF0ubGVuZ3RoLHRoaXMubGVuZ3RoLT10aGlzLl9idWZzWzBdLmxlbmd0aCx0aGlzLl9idWZzLnNoaWZ0KCl9cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLmR1cGxpY2F0ZT1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5fbmV3KCk7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWZzLmxlbmd0aDt0KyspZS5hcHBlbmQodGhpcy5fYnVmc1t0XSk7cmV0dXJuIGV9LG8ucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiB0aGlzO2lmKGUuYnVmZmVyKXRoaXMuX2FwcGVuZEJ1ZmZlcihuLmZyb20oZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlKSlmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmFwcGVuZChlW3RdKTtlbHNlIGlmKHRoaXMuX2lzQnVmZmVyTGlzdChlKSlmb3IobGV0IHQ9MDt0PGUuX2J1ZnMubGVuZ3RoO3QrKyl0aGlzLmFwcGVuZChlLl9idWZzW3RdKTtlbHNlXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPWUudG9TdHJpbmcoKSksdGhpcy5fYXBwZW5kQnVmZmVyKG4uZnJvbShlKSk7cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLl9hcHBlbmRCdWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fYnVmcy5wdXNoKGUpLHRoaXMubGVuZ3RoKz1lLmxlbmd0aH0sby5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ciYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJihyPXQsdD12b2lkIDApLFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBCdWZmZXJMaXN0LCBvciBVaW50OEFycmF5LicpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlP2U9bi5mcm9tKFtlXSk6XCJzdHJpbmdcIj09dHlwZW9mIGU/ZT1uLmZyb20oZSxyKTp0aGlzLl9pc0J1ZmZlckxpc3QoZSk/ZT1lLnNsaWNlKCk6QXJyYXkuaXNBcnJheShlLmJ1ZmZlcik/ZT1uLmZyb20oZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk6bi5pc0J1ZmZlcihlKXx8KGU9bi5mcm9tKGUpKSx0PU51bWJlcih0fHwwKSxpc05hTih0KSYmKHQ9MCksdDwwJiYodD10aGlzLmxlbmd0aCt0KSx0PDAmJih0PTApLDA9PT1lLmxlbmd0aClyZXR1cm4gdD50aGlzLmxlbmd0aD90aGlzLmxlbmd0aDp0O2NvbnN0IGk9dGhpcy5fb2Zmc2V0KHQpO2xldCBvPWlbMF0scz1pWzFdO2Zvcig7bzx0aGlzLl9idWZzLmxlbmd0aDtvKyspe2NvbnN0IHQ9dGhpcy5fYnVmc1tvXTtmb3IoO3M8dC5sZW5ndGg7KXtpZih0Lmxlbmd0aC1zPj1lLmxlbmd0aCl7Y29uc3Qgcj10LmluZGV4T2YoZSxzKTtpZigtMSE9PXIpcmV0dXJuIHRoaXMuX3JldmVyc2VPZmZzZXQoW28scl0pO3M9dC5sZW5ndGgtZS5sZW5ndGgrMX1lbHNle2NvbnN0IHQ9dGhpcy5fcmV2ZXJzZU9mZnNldChbbyxzXSk7aWYodGhpcy5fbWF0Y2godCxlKSlyZXR1cm4gdDtzKyt9fXM9MH1yZXR1cm4tMX0sby5wcm90b3R5cGUuX21hdGNoPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5sZW5ndGgtZTx0Lmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZih0aGlzLmdldChlK3IpIT09dFtyXSlyZXR1cm4hMTtyZXR1cm4hMH0sZnVuY3Rpb24oKXtjb25zdCBlPXtyZWFkRG91YmxlQkU6OCxyZWFkRG91YmxlTEU6OCxyZWFkRmxvYXRCRTo0LHJlYWRGbG9hdExFOjQscmVhZEludDMyQkU6NCxyZWFkSW50MzJMRTo0LHJlYWRVSW50MzJCRTo0LHJlYWRVSW50MzJMRTo0LHJlYWRJbnQxNkJFOjIscmVhZEludDE2TEU6MixyZWFkVUludDE2QkU6MixyZWFkVUludDE2TEU6MixyZWFkSW50ODoxLHJlYWRVSW50ODoxLHJlYWRJbnRCRTpudWxsLHJlYWRJbnRMRTpudWxsLHJlYWRVSW50QkU6bnVsbCxyZWFkVUludExFOm51bGx9O2Zvcihjb25zdCB0IGluIGUpIWZ1bmN0aW9uKHQpe28ucHJvdG90eXBlW3RdPW51bGw9PT1lW3RdP2Z1bmN0aW9uKGUscil7cmV0dXJuIHRoaXMuc2xpY2UoZSxlK3IpW3RdKDAscil9OmZ1bmN0aW9uKHI9MCl7cmV0dXJuIHRoaXMuc2xpY2UocixyK2VbdF0pW3RdKDApfX0odCl9KCksby5wcm90b3R5cGUuX2lzQnVmZmVyTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIG98fG8uaXNCdWZmZXJMaXN0KGUpfSxvLmlzQnVmZmVyTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZVtpXX0sdC5leHBvcnRzPW99LHtidWZmZXI6MTd9XSwxNTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IG49ZShcInJlYWRhYmxlLXN0cmVhbVwiKS5EdXBsZXgsaT1lKFwiaW5oZXJpdHNcIiksbz1lKFwiLi9CdWZmZXJMaXN0XCIpO2Z1bmN0aW9uIHMoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgcykpcmV0dXJuIG5ldyBzKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe3RoaXMuX2NhbGxiYWNrPWU7Y29uc3QgdD1mdW5jdGlvbihlKXt0aGlzLl9jYWxsYmFjayYmKHRoaXMuX2NhbGxiYWNrKGUpLHRoaXMuX2NhbGxiYWNrPW51bGwpfS5iaW5kKHRoaXMpO3RoaXMub24oXCJwaXBlXCIsZnVuY3Rpb24oZSl7ZS5vbihcImVycm9yXCIsdCl9KSx0aGlzLm9uKFwidW5waXBlXCIsZnVuY3Rpb24oZSl7ZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsdCl9KSxlPW51bGx9by5faW5pdC5jYWxsKHRoaXMsZSksbi5jYWxsKHRoaXMpfWkocyxuKSxPYmplY3QuYXNzaWduKHMucHJvdG90eXBlLG8ucHJvdG90eXBlKSxzLnByb3RvdHlwZS5fbmV3PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcyhlKX0scy5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9hcHBlbmRCdWZmZXIoZSksXCJmdW5jdGlvblwiPT10eXBlb2YgciYmcigpfSxzLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbihlKXtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHRoaXMucHVzaChudWxsKTtlPU1hdGgubWluKGUsdGhpcy5sZW5ndGgpLHRoaXMucHVzaCh0aGlzLnNsaWNlKDAsZSkpLHRoaXMuY29uc3VtZShlKX0scy5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe24ucHJvdG90eXBlLmVuZC5jYWxsKHRoaXMsZSksdGhpcy5fY2FsbGJhY2smJih0aGlzLl9jYWxsYmFjayhudWxsLHRoaXMuc2xpY2UoKSksdGhpcy5fY2FsbGJhY2s9bnVsbCl9LHMucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7dGhpcy5fYnVmcy5sZW5ndGg9MCx0aGlzLmxlbmd0aD0wLHQoZSl9LHMucHJvdG90eXBlLl9pc0J1ZmZlckxpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHxlIGluc3RhbmNlb2Ygb3x8cy5pc0J1ZmZlckxpc3QoZSl9LHMuaXNCdWZmZXJMaXN0PW8uaXNCdWZmZXJMaXN0LHQuZXhwb3J0cz1zLHQuZXhwb3J0cy5CdWZmZXJMaXN0U3RyZWFtPXMsdC5leHBvcnRzLkJ1ZmZlckxpc3Q9b30se1wiLi9CdWZmZXJMaXN0XCI6MTQsaW5oZXJpdHM6MjQsXCJyZWFkYWJsZS1zdHJlYW1cIjo2OX1dLDE2OltmdW5jdGlvbihlLHQscil7fSx7fV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCl7KGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9ZShcImJhc2U2NC1qc1wiKSxuPWUoXCJpZWVlNzU0XCIpO3IuQnVmZmVyPXMsci5TbG93QnVmZmVyPWZ1bmN0aW9uKGUpeytlIT1lJiYoZT0wKTtyZXR1cm4gcy5hbGxvYygrZSl9LHIuSU5TUEVDVF9NQVhfQllURVM9NTA7dmFyIGk9MjE0NzQ4MzY0NztmdW5jdGlvbiBvKGUpe2lmKGU+aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJytlKydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKTt2YXIgdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gdC5fX3Byb3RvX189cy5wcm90b3R5cGUsdH1mdW5jdGlvbiBzKGUsdCxyKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gdShlKX1yZXR1cm4gYShlLHQscil9ZnVuY3Rpb24gYShlLHQscil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiXCIhPT10fHwodD1cInV0ZjhcIik7aWYoIXMuaXNFbmNvZGluZyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrdCk7dmFyIHI9MHxmKGUsdCksbj1vKHIpLGk9bi53cml0ZShlLHQpO2khPT1yJiYobj1uLnNsaWNlKDAsaSkpO3JldHVybiBufShlLHQpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhlKSlyZXR1cm4gYyhlKTtpZihudWxsPT1lKXRocm93IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBlKTtpZihxKGUsQXJyYXlCdWZmZXIpfHxlJiZxKGUuYnVmZmVyLEFycmF5QnVmZmVyKSlyZXR1cm4gZnVuY3Rpb24oZSx0LHIpe2lmKHQ8MHx8ZS5ieXRlTGVuZ3RoPHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYoZS5ieXRlTGVuZ3RoPHQrKHJ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO3ZhciBuO249dm9pZCAwPT09dCYmdm9pZCAwPT09cj9uZXcgVWludDhBcnJheShlKTp2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KGUsdCk6bmV3IFVpbnQ4QXJyYXkoZSx0LHIpO3JldHVybiBuLl9fcHJvdG9fXz1zLnByb3RvdHlwZSxufShlLHQscik7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTt2YXIgbj1lLnZhbHVlT2YmJmUudmFsdWVPZigpO2lmKG51bGwhPW4mJm4hPT1lKXJldHVybiBzLmZyb20obix0LHIpO3ZhciBpPWZ1bmN0aW9uKGUpe2lmKHMuaXNCdWZmZXIoZSkpe3ZhciB0PTB8aChlLmxlbmd0aCkscj1vKHQpO3JldHVybiAwPT09ci5sZW5ndGg/cjooZS5jb3B5KHIsMCwwLHQpLHIpfWlmKHZvaWQgMCE9PWUubGVuZ3RoKXJldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlLmxlbmd0aHx8RChlLmxlbmd0aCk/bygwKTpjKGUpO2lmKFwiQnVmZmVyXCI9PT1lLnR5cGUmJkFycmF5LmlzQXJyYXkoZS5kYXRhKSlyZXR1cm4gYyhlLmRhdGEpfShlKTtpZihpKXJldHVybiBpO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPVN5bWJvbC50b1ByaW1pdGl2ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZVtTeW1ib2wudG9QcmltaXRpdmVdKXJldHVybiBzLmZyb20oZVtTeW1ib2wudG9QcmltaXRpdmVdKFwic3RyaW5nXCIpLHQscik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBlKX1mdW5jdGlvbiBsKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKTtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrZSsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gbChlKSxvKGU8MD8wOjB8aChlKSl9ZnVuY3Rpb24gYyhlKXtmb3IodmFyIHQ9ZS5sZW5ndGg8MD8wOjB8aChlLmxlbmd0aCkscj1vKHQpLG49MDtuPHQ7bis9MSlyW25dPTI1NSZlW25dO3JldHVybiByfWZ1bmN0aW9uIGgoZSl7aWYoZT49aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIitpLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gMHxlfWZ1bmN0aW9uIGYoZSx0KXtpZihzLmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fHEoZSxBcnJheUJ1ZmZlcikpcmV0dXJuIGUuYnl0ZUxlbmd0aDtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKTt2YXIgcj1lLmxlbmd0aCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmITA9PT1hcmd1bWVudHNbMl07aWYoIW4mJjA9PT1yKXJldHVybiAwO2Zvcih2YXIgaT0hMTs7KXN3aXRjaCh0KXtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiByO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBMKGUpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipyO2Nhc2VcImhleFwiOnJldHVybiByPj4+MTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gaihlKS5sZW5ndGg7ZGVmYXVsdDppZihpKXJldHVybiBuPy0xOkwoZSkubGVuZ3RoO3Q9KFwiXCIrdCkudG9Mb3dlckNhc2UoKSxpPSEwfX1mdW5jdGlvbiBwKGUsdCxyKXt2YXIgbj1lW3RdO2VbdF09ZVtyXSxlW3JdPW59ZnVuY3Rpb24gZChlLHQscixuLGkpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4tMTtpZihcInN0cmluZ1wiPT10eXBlb2Ygcj8obj1yLHI9MCk6cj4yMTQ3NDgzNjQ3P3I9MjE0NzQ4MzY0NzpyPC0yMTQ3NDgzNjQ4JiYocj0tMjE0NzQ4MzY0OCksRChyPStyKSYmKHI9aT8wOmUubGVuZ3RoLTEpLHI8MCYmKHI9ZS5sZW5ndGgrcikscj49ZS5sZW5ndGgpe2lmKGkpcmV0dXJuLTE7cj1lLmxlbmd0aC0xfWVsc2UgaWYocjwwKXtpZighaSlyZXR1cm4tMTtyPTB9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXMuZnJvbSh0LG4pKSxzLmlzQnVmZmVyKHQpKXJldHVybiAwPT09dC5sZW5ndGg/LTE6ZyhlLHQscixuLGkpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0Jj0yNTUsXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9pP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHQscik6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChlLHQscik6ZyhlLFt0XSxyLG4saSk7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiBnKGUsdCxyLG4saSl7dmFyIG8scz0xLGE9ZS5sZW5ndGgsbD10Lmxlbmd0aDtpZih2b2lkIDAhPT1uJiYoXCJ1Y3MyXCI9PT0obj1TdHJpbmcobikudG9Mb3dlckNhc2UoKSl8fFwidWNzLTJcIj09PW58fFwidXRmMTZsZVwiPT09bnx8XCJ1dGYtMTZsZVwiPT09bikpe2lmKGUubGVuZ3RoPDJ8fHQubGVuZ3RoPDIpcmV0dXJuLTE7cz0yLGEvPTIsbC89MixyLz0yfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gMT09PXM/ZVt0XTplLnJlYWRVSW50MTZCRSh0KnMpfWlmKGkpe3ZhciBjPS0xO2ZvcihvPXI7bzxhO28rKylpZih1KGUsbyk9PT11KHQsLTE9PT1jPzA6by1jKSl7aWYoLTE9PT1jJiYoYz1vKSxvLWMrMT09PWwpcmV0dXJuIGMqc31lbHNlLTEhPT1jJiYoby09by1jKSxjPS0xfWVsc2UgZm9yKHIrbD5hJiYocj1hLWwpLG89cjtvPj0wO28tLSl7Zm9yKHZhciBoPSEwLGY9MDtmPGw7ZisrKWlmKHUoZSxvK2YpIT09dSh0LGYpKXtoPSExO2JyZWFrfWlmKGgpcmV0dXJuIG99cmV0dXJuLTF9ZnVuY3Rpb24geShlLHQscixuKXtyPU51bWJlcihyKXx8MDt2YXIgaT1lLmxlbmd0aC1yO24/KG49TnVtYmVyKG4pKT5pJiYobj1pKTpuPWk7dmFyIG89dC5sZW5ndGg7bj5vLzImJihuPW8vMik7Zm9yKHZhciBzPTA7czxuOysrcyl7dmFyIGE9cGFyc2VJbnQodC5zdWJzdHIoMipzLDIpLDE2KTtpZihEKGEpKXJldHVybiBzO2VbcitzXT1hfXJldHVybiBzfWZ1bmN0aW9uIGIoZSx0LHIsbil7cmV0dXJuIFUoTCh0LGUubGVuZ3RoLXIpLGUscixuKX1mdW5jdGlvbiBtKGUsdCxyLG4pe3JldHVybiBVKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQocikpO3JldHVybiB0fSh0KSxlLHIsbil9ZnVuY3Rpb24gdihlLHQscixuKXtyZXR1cm4gbShlLHQscixuKX1mdW5jdGlvbiB3KGUsdCxyLG4pe3JldHVybiBVKGoodCksZSxyLG4pfWZ1bmN0aW9uIF8oZSx0LHIsbil7cmV0dXJuIFUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixpLG89W10scz0wO3M8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysrcylyPWUuY2hhckNvZGVBdChzKSxuPXI+PjgsaT1yJTI1NixvLnB1c2goaSksby5wdXNoKG4pO3JldHVybiBvfSh0LGUubGVuZ3RoLXIpLGUscixuKX1mdW5jdGlvbiBrKGUscixuKXtyZXR1cm4gMD09PXImJm49PT1lLmxlbmd0aD90LmZyb21CeXRlQXJyYXkoZSk6dC5mcm9tQnl0ZUFycmF5KGUuc2xpY2UocixuKSl9ZnVuY3Rpb24gUyhlLHQscil7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtmb3IodmFyIG49W10saT10O2k8cjspe3ZhciBvLHMsYSxsLHU9ZVtpXSxjPW51bGwsaD11PjIzOT80OnU+MjIzPzM6dT4xOTE/MjoxO2lmKGkraDw9cilzd2l0Y2goaCl7Y2FzZSAxOnU8MTI4JiYoYz11KTticmVhaztjYXNlIDI6MTI4PT0oMTkyJihvPWVbaSsxXSkpJiYobD0oMzEmdSk8PDZ8NjMmbyk+MTI3JiYoYz1sKTticmVhaztjYXNlIDM6bz1lW2krMV0scz1lW2krMl0sMTI4PT0oMTkyJm8pJiYxMjg9PSgxOTImcykmJihsPSgxNSZ1KTw8MTJ8KDYzJm8pPDw2fDYzJnMpPjIwNDcmJihsPDU1Mjk2fHxsPjU3MzQzKSYmKGM9bCk7YnJlYWs7Y2FzZSA0Om89ZVtpKzFdLHM9ZVtpKzJdLGE9ZVtpKzNdLDEyOD09KDE5MiZvKSYmMTI4PT0oMTkyJnMpJiYxMjg9PSgxOTImYSkmJihsPSgxNSZ1KTw8MTh8KDYzJm8pPDwxMnwoNjMmcyk8PDZ8NjMmYSk+NjU1MzUmJmw8MTExNDExMiYmKGM9bCl9bnVsbD09PWM/KGM9NjU1MzMsaD0xKTpjPjY1NTM1JiYoYy09NjU1MzYsbi5wdXNoKGM+Pj4xMCYxMDIzfDU1Mjk2KSxjPTU2MzIwfDEwMjMmYyksbi5wdXNoKGMpLGkrPWh9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQ8PUUpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUpO3ZhciByPVwiXCIsbj0wO2Zvcig7bjx0OylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLnNsaWNlKG4sbis9RSkpO3JldHVybiByfShuKX1yLmtNYXhMZW5ndGg9aSxzLlRZUEVEX0FSUkFZX1NVUFBPUlQ9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpfWNhdGNoKGUpe3JldHVybiExfX0oKSxzLlRZUEVEX0FSUkFZX1NVUFBPUlR8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjb25zb2xlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBjb25zb2xlLmVycm9yfHxjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5IGBidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuXCIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcInBhcmVudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHMuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcIm9mZnNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHMuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1TeW1ib2wuc3BlY2llcyYmc1tTeW1ib2wuc3BlY2llc109PT1zJiZPYmplY3QuZGVmaW5lUHJvcGVydHkocyxTeW1ib2wuc3BlY2llcyx7dmFsdWU6bnVsbCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMX0pLHMucG9vbFNpemU9ODE5MixzLmZyb209ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBhKGUsdCxyKX0scy5wcm90b3R5cGUuX19wcm90b19fPVVpbnQ4QXJyYXkucHJvdG90eXBlLHMuX19wcm90b19fPVVpbnQ4QXJyYXkscy5hbGxvYz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbChlKSxlPD0wP28oZSk6dm9pZCAwIT09dD9cInN0cmluZ1wiPT10eXBlb2Ygcj9vKGUpLmZpbGwodCxyKTpvKGUpLmZpbGwodCk6byhlKX0oZSx0LHIpfSxzLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGUpe3JldHVybiB1KGUpfSxzLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtyZXR1cm4gdShlKX0scy5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmITA9PT1lLl9pc0J1ZmZlciYmZSE9PXMucHJvdG90eXBlfSxzLmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtpZihxKGUsVWludDhBcnJheSkmJihlPXMuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCkpLHEodCxVaW50OEFycmF5KSYmKHQ9cy5mcm9tKHQsdC5vZmZzZXQsdC5ieXRlTGVuZ3RoKSksIXMuaXNCdWZmZXIoZSl8fCFzLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZihlPT09dClyZXR1cm4gMDtmb3IodmFyIHI9ZS5sZW5ndGgsbj10Lmxlbmd0aCxpPTAsbz1NYXRoLm1pbihyLG4pO2k8bzsrK2kpaWYoZVtpXSE9PXRbaV0pe3I9ZVtpXSxuPXRbaV07YnJlYWt9cmV0dXJuIHI8bj8tMTpuPHI/MTowfSxzLmlzRW5jb2Rpbmc9ZnVuY3Rpb24oZSl7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxzLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gcy5hbGxvYygwKTt2YXIgcjtpZih2b2lkIDA9PT10KWZvcih0PTAscj0wO3I8ZS5sZW5ndGg7KytyKXQrPWVbcl0ubGVuZ3RoO3ZhciBuPXMuYWxsb2NVbnNhZmUodCksaT0wO2ZvcihyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBvPWVbcl07aWYocShvLFVpbnQ4QXJyYXkpJiYobz1zLmZyb20obykpLCFzLmlzQnVmZmVyKG8pKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO28uY29weShuLGkpLGkrPW8ubGVuZ3RofXJldHVybiBufSxzLmJ5dGVMZW5ndGg9ZixzLnByb3RvdHlwZS5faXNCdWZmZXI9ITAscy5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7Zm9yKHZhciB0PTA7dDxlO3QrPTIpcCh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHNcIik7Zm9yKHZhciB0PTA7dDxlO3QrPTQpcCh0aGlzLHQsdCszKSxwKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz04KXAodGhpcyx0LHQrNykscCh0aGlzLHQrMSx0KzYpLHAodGhpcyx0KzIsdCs1KSxwKHRoaXMsdCszLHQrNCk7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT1lP1wiXCI6MD09PWFyZ3VtZW50cy5sZW5ndGg/Uyh0aGlzLDAsZSk6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPSExO2lmKCh2b2lkIDA9PT10fHx0PDApJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVyblwiXCI7aWYoKHZvaWQgMD09PXJ8fHI+dGhpcy5sZW5ndGgpJiYocj10aGlzLmxlbmd0aCkscjw9MClyZXR1cm5cIlwiO2lmKChyPj4+PTApPD0odD4+Pj0wKSlyZXR1cm5cIlwiO2ZvcihlfHwoZT1cInV0ZjhcIik7Oylzd2l0Y2goZSl7Y2FzZVwiaGV4XCI6cmV0dXJuIHgodGhpcyx0LHIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBTKHRoaXMsdCxyKTtjYXNlXCJhc2NpaVwiOnJldHVybiBDKHRoaXMsdCxyKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gVCh0aGlzLHQscik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGsodGhpcyx0LHIpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBBKHRoaXMsdCxyKTtkZWZhdWx0OmlmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2UpO2U9KGUrXCJcIikudG9Mb3dlckNhc2UoKSxuPSEwfX0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz1zLnByb3RvdHlwZS50b1N0cmluZyxzLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7aWYoIXMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT1lfHwwPT09cy5jb21wYXJlKHRoaXMsZSl9LHMucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgZT1cIlwiLHQ9ci5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gZT10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCx0KS5yZXBsYWNlKC8oLnsyfSkvZyxcIiQxIFwiKS50cmltKCksdGhpcy5sZW5ndGg+dCYmKGUrPVwiIC4uLiBcIiksXCI8QnVmZmVyIFwiK2UrXCI+XCJ9LHMucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24oZSx0LHIsbixpKXtpZihxKGUsVWludDhBcnJheSkmJihlPXMuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCkpLCFzLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInRhcmdldFwiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXkuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSk7aWYodm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ciYmKHI9ZT9lLmxlbmd0aDowKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1pJiYoaT10aGlzLmxlbmd0aCksdDwwfHxyPmUubGVuZ3RofHxuPDB8fGk+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYobj49aSYmdD49cilyZXR1cm4gMDtpZihuPj1pKXJldHVybi0xO2lmKHQ+PXIpcmV0dXJuIDE7aWYodD4+Pj0wLHI+Pj49MCxuPj4+PTAsaT4+Pj0wLHRoaXM9PT1lKXJldHVybiAwO2Zvcih2YXIgbz1pLW4sYT1yLXQsbD1NYXRoLm1pbihvLGEpLHU9dGhpcy5zbGljZShuLGkpLGM9ZS5zbGljZSh0LHIpLGg9MDtoPGw7KytoKWlmKHVbaF0hPT1jW2hdKXtvPXVbaF0sYT1jW2hdO2JyZWFrfXJldHVybiBvPGE/LTE6YTxvPzE6MH0scy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybi0xIT09dGhpcy5pbmRleE9mKGUsdCxyKX0scy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGQodGhpcyxlLHQsciwhMCl9LHMucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZCh0aGlzLGUsdCxyLCExKX0scy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LHIsbil7aWYodm9pZCAwPT09dCluPVwidXRmOFwiLHI9dGhpcy5sZW5ndGgsdD0wO2Vsc2UgaWYodm9pZCAwPT09ciYmXCJzdHJpbmdcIj09dHlwZW9mIHQpbj10LHI9dGhpcy5sZW5ndGgsdD0wO2Vsc2V7aWYoIWlzRmluaXRlKHQpKXRocm93IG5ldyBFcnJvcihcIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkXCIpO3Q+Pj49MCxpc0Zpbml0ZShyKT8ocj4+Pj0wLHZvaWQgMD09PW4mJihuPVwidXRmOFwiKSk6KG49cixyPXZvaWQgMCl9dmFyIGk9dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09cnx8cj5pKSYmKHI9aSksZS5sZW5ndGg+MCYmKHI8MHx8dDwwKXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO258fChuPVwidXRmOFwiKTtmb3IodmFyIG89ITE7Oylzd2l0Y2gobil7Y2FzZVwiaGV4XCI6cmV0dXJuIHkodGhpcyxlLHQscik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIGIodGhpcyxlLHQscik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gbSh0aGlzLGUsdCxyKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gdih0aGlzLGUsdCxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gdyh0aGlzLGUsdCxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gXyh0aGlzLGUsdCxyKTtkZWZhdWx0OmlmKG8pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK24pO249KFwiXCIrbikudG9Mb3dlckNhc2UoKSxvPSEwfX0scy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3ZhciBFPTQwOTY7ZnVuY3Rpb24gQyhlLHQscil7dmFyIG49XCJcIjtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2Zvcih2YXIgaT10O2k8cjsrK2kpbis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmZVtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gVChlLHQscil7dmFyIG49XCJcIjtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2Zvcih2YXIgaT10O2k8cjsrK2kpbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW2ldKTtyZXR1cm4gbn1mdW5jdGlvbiB4KGUsdCxyKXt2YXIgbj1lLmxlbmd0aDsoIXR8fHQ8MCkmJih0PTApLCghcnx8cjwwfHxyPm4pJiYocj1uKTtmb3IodmFyIGk9XCJcIixvPXQ7bzxyOysrbylpKz1OKGVbb10pO3JldHVybiBpfWZ1bmN0aW9uIEEoZSx0LHIpe2Zvcih2YXIgbj1lLnNsaWNlKHQsciksaT1cIlwiLG89MDtvPG4ubGVuZ3RoO28rPTIpaSs9U3RyaW5nLmZyb21DaGFyQ29kZShuW29dKzI1NipuW28rMV0pO3JldHVybiBpfWZ1bmN0aW9uIEkoZSx0LHIpe2lmKGUlMSE9MHx8ZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwib2Zmc2V0IGlzIG5vdCB1aW50XCIpO2lmKGUrdD5yKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKX1mdW5jdGlvbiBQKGUsdCxyLG4saSxvKXtpZighcy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih0Pml8fHQ8byl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihyK24+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gTyhlLHQscixuLGksbyl7aWYocituPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBCKGUsdCxyLGksbyl7cmV0dXJuIHQ9K3Qscj4+Pj0wLG98fE8oZSwwLHIsNCksbi53cml0ZShlLHQscixpLDIzLDQpLHIrNH1mdW5jdGlvbiBSKGUsdCxyLGksbyl7cmV0dXJuIHQ9K3Qscj4+Pj0wLG98fE8oZSwwLHIsOCksbi53cml0ZShlLHQscixpLDUyLDgpLHIrOH1zLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMubGVuZ3RoO2U9fn5lLHQ9dm9pZCAwPT09dD9yOn5+dCxlPDA/KGUrPXIpPDAmJihlPTApOmU+ciYmKGU9ciksdDwwPyh0Kz1yKTwwJiYodD0wKTp0PnImJih0PXIpLHQ8ZSYmKHQ9ZSk7dmFyIG49dGhpcy5zdWJhcnJheShlLHQpO3JldHVybiBuLl9fcHJvdG9fXz1zLnByb3RvdHlwZSxufSxzLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGUsdCxyKXtlPj4+PTAsdD4+Pj0wLHJ8fEkoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dGhpc1tlXSxpPTEsbz0wOysrbzx0JiYoaSo9MjU2KTspbis9dGhpc1tlK29dKmk7cmV0dXJuIG59LHMucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LHIpe2U+Pj49MCx0Pj4+PTAscnx8SShlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW2UrLS10XSxpPTE7dD4wJiYoaSo9MjU2KTspbis9dGhpc1tlKy0tdF0qaTtyZXR1cm4gbn0scy5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxJKGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0scy5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxJKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LHMucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8SShlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDh8dGhpc1tlKzFdfSxzLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEkoZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSxzLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEkoZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSxzLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24oZSx0LHIpe2U+Pj49MCx0Pj4+PTAscnx8SShlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW2VdLGk9MSxvPTA7KytvPHQmJihpKj0yNTYpOyluKz10aGlzW2Urb10qaTtyZXR1cm4gbj49KGkqPTEyOCkmJihuLT1NYXRoLnBvdygyLDgqdCkpLG59LHMucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbihlLHQscil7ZT4+Pj0wLHQ+Pj49MCxyfHxJKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPXQsaT0xLG89dGhpc1tlKy0tbl07bj4wJiYoaSo9MjU2KTspbys9dGhpc1tlKy0tbl0qaTtyZXR1cm4gbz49KGkqPTEyOCkmJihvLT1NYXRoLnBvdygyLDgqdCkpLG99LHMucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxJKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LHMucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7ZT4+Pj0wLHR8fEkoZSwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW2VdfHRoaXNbZSsxXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0scy5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24oZSx0KXtlPj4+PTAsdHx8SShlLDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxzLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8SShlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0scy5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEkoZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdPDwyNHx0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM119LHMucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxJKGUsNCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsZSwhMCwyMyw0KX0scy5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEkoZSw0LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyxlLCExLDIzLDQpfSxzLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEkoZSw4LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyxlLCEwLDUyLDgpfSxzLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEkoZSw4LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyxlLCExLDUyLDgpfSxzLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbihlLHQscixuKXsoZT0rZSx0Pj4+PTAscj4+Pj0wLG4pfHxQKHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIGk9MSxvPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytvPHImJihpKj0yNTYpOyl0aGlzW3Qrb109ZS9pJjI1NTtyZXR1cm4gdCtyfSxzLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbihlLHQscixuKXsoZT0rZSx0Pj4+PTAscj4+Pj0wLG4pfHxQKHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIGk9ci0xLG89MTtmb3IodGhpc1t0K2ldPTI1NSZlOy0taT49MCYmKG8qPTI1Nik7KXRoaXNbdCtpXT1lL28mMjU1O3JldHVybiB0K3J9LHMucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDEsMjU1LDApLHRoaXNbdF09MjU1JmUsdCsxfSxzLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8UCh0aGlzLGUsdCwyLDY1NTM1LDApLHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44LHQrMn0scy5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdD4+Pj0wLHJ8fFAodGhpcyxlLHQsMiw2NTUzNSwwKSx0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSx0KzJ9LHMucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSx0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUsdCs0fSxzLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8UCh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksdGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlLHQrNH0scy5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbihlLHQscixuKXtpZihlPStlLHQ+Pj49MCwhbil7dmFyIGk9TWF0aC5wb3coMiw4KnItMSk7UCh0aGlzLGUsdCxyLGktMSwtaSl9dmFyIG89MCxzPTEsYT0wO2Zvcih0aGlzW3RdPTI1NSZlOysrbzxyJiYocyo9MjU2KTspZTwwJiYwPT09YSYmMCE9PXRoaXNbdCtvLTFdJiYoYT0xKSx0aGlzW3Qrb109KGUvcz4+MCktYSYyNTU7cmV0dXJuIHQrcn0scy5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihlLHQscixuKXtpZihlPStlLHQ+Pj49MCwhbil7dmFyIGk9TWF0aC5wb3coMiw4KnItMSk7UCh0aGlzLGUsdCxyLGktMSwtaSl9dmFyIG89ci0xLHM9MSxhPTA7Zm9yKHRoaXNbdCtvXT0yNTUmZTstLW8+PTAmJihzKj0yNTYpOyllPDAmJjA9PT1hJiYwIT09dGhpc1t0K28rMV0mJihhPTEpLHRoaXNbdCtvXT0oZS9zPj4wKS1hJjI1NTtyZXR1cm4gdCtyfSxzLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDEsMTI3LC0xMjgpLGU8MCYmKGU9MjU1K2UrMSksdGhpc1t0XT0yNTUmZSx0KzF9LHMucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdD4+Pj0wLHJ8fFAodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44LHQrMn0scy5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8UCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksdGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUsdCsyfSxzLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxQKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrM109ZT4+PjI0LHQrNH0scy5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8UCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSx0KzR9LHMucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEIodGhpcyxlLHQsITAscil9LHMucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEIodGhpcyxlLHQsITEscil9LHMucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBSKHRoaXMsZSx0LCEwLHIpfSxzLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gUih0aGlzLGUsdCwhMSxyKX0scy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQscixuKXtpZighcy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyXCIpO2lmKHJ8fChyPTApLG58fDA9PT1ufHwobj10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSxuPjAmJm48ciYmKG49ciksbj09PXIpcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihyPDB8fHI+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKG48MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO24+dGhpcy5sZW5ndGgmJihuPXRoaXMubGVuZ3RoKSxlLmxlbmd0aC10PG4tciYmKG49ZS5sZW5ndGgtdCtyKTt2YXIgaT1uLXI7aWYodGhpcz09PWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4pdGhpcy5jb3B5V2l0aGluKHQscixuKTtlbHNlIGlmKHRoaXM9PT1lJiZyPHQmJnQ8bilmb3IodmFyIG89aS0xO28+PTA7LS1vKWVbbyt0XT10aGlzW28rcl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkocixuKSx0KTtyZXR1cm4gaX0scy5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQscixuKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/KG49dCx0PTAscj10aGlzLmxlbmd0aCk6XCJzdHJpbmdcIj09dHlwZW9mIHImJihuPXIscj10aGlzLmxlbmd0aCksdm9pZCAwIT09biYmXCJzdHJpbmdcIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4mJiFzLmlzRW5jb2RpbmcobikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK24pO2lmKDE9PT1lLmxlbmd0aCl7dmFyIGk9ZS5jaGFyQ29kZUF0KDApOyhcInV0ZjhcIj09PW4mJmk8MTI4fHxcImxhdGluMVwiPT09bikmJihlPWkpfX1lbHNlXCJudW1iZXJcIj09dHlwZW9mIGUmJihlJj0yNTUpO2lmKHQ8MHx8dGhpcy5sZW5ndGg8dHx8dGhpcy5sZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihyPD10KXJldHVybiB0aGlzO3ZhciBvO2lmKHQ+Pj49MCxyPXZvaWQgMD09PXI/dGhpcy5sZW5ndGg6cj4+PjAsZXx8KGU9MCksXCJudW1iZXJcIj09dHlwZW9mIGUpZm9yKG89dDtvPHI7KytvKXRoaXNbb109ZTtlbHNle3ZhciBhPXMuaXNCdWZmZXIoZSk/ZTpzLmZyb20oZSxuKSxsPWEubGVuZ3RoO2lmKDA9PT1sKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrZSsnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJyk7Zm9yKG89MDtvPHItdDsrK28pdGhpc1tvK3RdPWFbbyVsXX1yZXR1cm4gdGhpc307dmFyIE09L1teKy8wLTlBLVphLXotX10vZztmdW5jdGlvbiBOKGUpe3JldHVybiBlPDE2P1wiMFwiK2UudG9TdHJpbmcoMTYpOmUudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIEwoZSx0KXt2YXIgcjt0PXR8fDEvMDtmb3IodmFyIG49ZS5sZW5ndGgsaT1udWxsLG89W10scz0wO3M8bjsrK3Mpe2lmKChyPWUuY2hhckNvZGVBdChzKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFpKXtpZihyPjU2MzE5KXsodC09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYocysxPT09bil7KHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWk9cjtjb250aW51ZX1pZihyPDU2MzIwKXsodC09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSksaT1yO2NvbnRpbnVlfXI9NjU1MzYrKGktNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgaSYmKHQtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2lmKGk9bnVsbCxyPDEyOCl7aWYoKHQtPTEpPDApYnJlYWs7by5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigodC09Mik8MClicmVhaztvLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKHQtPTMpPDApYnJlYWs7by5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKCh0LT00KTwwKWJyZWFrO28ucHVzaChyPj4xOHwyNDAscj4+MTImNjN8MTI4LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KX19cmV0dXJuIG99ZnVuY3Rpb24gaihlKXtyZXR1cm4gdC50b0J5dGVBcnJheShmdW5jdGlvbihlKXtpZigoZT0oZT1lLnNwbGl0KFwiPVwiKVswXSkudHJpbSgpLnJlcGxhY2UoTSxcIlwiKSkubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO2UubGVuZ3RoJTQhPTA7KWUrPVwiPVwiO3JldHVybiBlfShlKSl9ZnVuY3Rpb24gVShlLHQscixuKXtmb3IodmFyIGk9MDtpPG4mJiEoaStyPj10Lmxlbmd0aHx8aT49ZS5sZW5ndGgpOysraSl0W2krcl09ZVtpXTtyZXR1cm4gaX1mdW5jdGlvbiBxKGUsdCl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fHxudWxsIT1lJiZudWxsIT1lLmNvbnN0cnVjdG9yJiZudWxsIT1lLmNvbnN0cnVjdG9yLm5hbWUmJmUuY29uc3RydWN0b3IubmFtZT09PXQubmFtZX1mdW5jdGlvbiBEKGUpe3JldHVybiBlIT1lfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZShcImJ1ZmZlclwiKS5CdWZmZXIpfSx7XCJiYXNlNjQtanNcIjoxMyxidWZmZXI6MTcsaWVlZTc1NDoyM31dLDE4OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpe3IuZm9ybWF0QXJncz1mdW5jdGlvbihlKXtpZihlWzBdPSh0aGlzLnVzZUNvbG9ycz9cIiVjXCI6XCJcIikrdGhpcy5uYW1lc3BhY2UrKHRoaXMudXNlQ29sb3JzP1wiICVjXCI6XCIgXCIpK2VbMF0rKHRoaXMudXNlQ29sb3JzP1wiJWMgXCI6XCIgXCIpK1wiK1wiK3QuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpLCF0aGlzLnVzZUNvbG9ycylyZXR1cm47Y29uc3Qgcj1cImNvbG9yOiBcIit0aGlzLmNvbG9yO2Uuc3BsaWNlKDEsMCxyLFwiY29sb3I6IGluaGVyaXRcIik7bGV0IG49MCxpPTA7ZVswXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csZT0+e1wiJSVcIiE9PWUmJlwiJWNcIj09PWUmJihpPSsrbil9KSxlLnNwbGljZShpLDAscil9LHIuc2F2ZT1mdW5jdGlvbihlKXt0cnl7ZT9yLnN0b3JhZ2Uuc2V0SXRlbShcImRlYnVnXCIsZSk6ci5zdG9yYWdlLnJlbW92ZUl0ZW0oXCJkZWJ1Z1wiKX1jYXRjaChlKXt9fSxyLmxvYWQ9ZnVuY3Rpb24oKXtsZXQgZTt0cnl7ZT1yLnN0b3JhZ2UuZ2V0SXRlbShcImRlYnVnXCIpfWNhdGNoKGUpe30hZSYmdm9pZCAwIT09biYmXCJlbnZcImluIG4mJihlPW4uZW52LkRFQlVHKTtyZXR1cm4gZX0sci51c2VDb2xvcnM9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucHJvY2VzcyYmKFwicmVuZGVyZXJcIj09PXdpbmRvdy5wcm9jZXNzLnR5cGV8fHdpbmRvdy5wcm9jZXNzLl9fbndqcykpcmV0dXJuITA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKXJldHVybiExO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY29uc29sZSYmKHdpbmRvdy5jb25zb2xlLmZpcmVidWd8fHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiYmd2luZG93LmNvbnNvbGUudGFibGUpfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSYmcGFyc2VJbnQoUmVnRXhwLiQxLDEwKT49MzF8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKX0sci5zdG9yYWdlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBsb2NhbFN0b3JhZ2V9Y2F0Y2goZSl7fX0oKSxyLmRlc3Ryb3k9KCgpPT57bGV0IGU9ITE7cmV0dXJuKCk9PntlfHwoZT0hMCxjb25zb2xlLndhcm4oXCJJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuXCIpKX19KSgpLHIuY29sb3JzPVtcIiMwMDAwQ0NcIixcIiMwMDAwRkZcIixcIiMwMDMzQ0NcIixcIiMwMDMzRkZcIixcIiMwMDY2Q0NcIixcIiMwMDY2RkZcIixcIiMwMDk5Q0NcIixcIiMwMDk5RkZcIixcIiMwMENDMDBcIixcIiMwMENDMzNcIixcIiMwMENDNjZcIixcIiMwMENDOTlcIixcIiMwMENDQ0NcIixcIiMwMENDRkZcIixcIiMzMzAwQ0NcIixcIiMzMzAwRkZcIixcIiMzMzMzQ0NcIixcIiMzMzMzRkZcIixcIiMzMzY2Q0NcIixcIiMzMzY2RkZcIixcIiMzMzk5Q0NcIixcIiMzMzk5RkZcIixcIiMzM0NDMDBcIixcIiMzM0NDMzNcIixcIiMzM0NDNjZcIixcIiMzM0NDOTlcIixcIiMzM0NDQ0NcIixcIiMzM0NDRkZcIixcIiM2NjAwQ0NcIixcIiM2NjAwRkZcIixcIiM2NjMzQ0NcIixcIiM2NjMzRkZcIixcIiM2NkNDMDBcIixcIiM2NkNDMzNcIixcIiM5OTAwQ0NcIixcIiM5OTAwRkZcIixcIiM5OTMzQ0NcIixcIiM5OTMzRkZcIixcIiM5OUNDMDBcIixcIiM5OUNDMzNcIixcIiNDQzAwMDBcIixcIiNDQzAwMzNcIixcIiNDQzAwNjZcIixcIiNDQzAwOTlcIixcIiNDQzAwQ0NcIixcIiNDQzAwRkZcIixcIiNDQzMzMDBcIixcIiNDQzMzMzNcIixcIiNDQzMzNjZcIixcIiNDQzMzOTlcIixcIiNDQzMzQ0NcIixcIiNDQzMzRkZcIixcIiNDQzY2MDBcIixcIiNDQzY2MzNcIixcIiNDQzk5MDBcIixcIiNDQzk5MzNcIixcIiNDQ0NDMDBcIixcIiNDQ0NDMzNcIixcIiNGRjAwMDBcIixcIiNGRjAwMzNcIixcIiNGRjAwNjZcIixcIiNGRjAwOTlcIixcIiNGRjAwQ0NcIixcIiNGRjAwRkZcIixcIiNGRjMzMDBcIixcIiNGRjMzMzNcIixcIiNGRjMzNjZcIixcIiNGRjMzOTlcIixcIiNGRjMzQ0NcIixcIiNGRjMzRkZcIixcIiNGRjY2MDBcIixcIiNGRjY2MzNcIixcIiNGRjk5MDBcIixcIiNGRjk5MzNcIixcIiNGRkNDMDBcIixcIiNGRkNDMzNcIl0sci5sb2c9Y29uc29sZS5kZWJ1Z3x8Y29uc29sZS5sb2d8fCgoKT0+e30pLHQuZXhwb3J0cz1lKFwiLi9jb21tb25cIikocik7Y29uc3R7Zm9ybWF0dGVyczppfT10LmV4cG9ydHM7aS5qPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2goZSl7cmV0dXJuXCJbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogXCIrZS5tZXNzYWdlfX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoXCJfcHJvY2Vzc1wiKSl9LHtcIi4vY29tbW9uXCI6MTksX3Byb2Nlc3M6NTB9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUpe2xldCB0LGksbyxzPW51bGw7ZnVuY3Rpb24gYSguLi5lKXtpZighYS5lbmFibGVkKXJldHVybjtjb25zdCBuPWEsaT1OdW1iZXIobmV3IERhdGUpLG89aS0odHx8aSk7bi5kaWZmPW8sbi5wcmV2PXQsbi5jdXJyPWksdD1pLGVbMF09ci5jb2VyY2UoZVswXSksXCJzdHJpbmdcIiE9dHlwZW9mIGVbMF0mJmUudW5zaGlmdChcIiVPXCIpO2xldCBzPTA7ZVswXT1lWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCh0LGkpPT57aWYoXCIlJVwiPT09dClyZXR1cm5cIiVcIjtzKys7Y29uc3Qgbz1yLmZvcm1hdHRlcnNbaV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbyl7Y29uc3Qgcj1lW3NdO3Q9by5jYWxsKG4sciksZS5zcGxpY2UocywxKSxzLS19cmV0dXJuIHR9KSxyLmZvcm1hdEFyZ3MuY2FsbChuLGUpLChuLmxvZ3x8ci5sb2cpLmFwcGx5KG4sZSl9cmV0dXJuIGEubmFtZXNwYWNlPWUsYS51c2VDb2xvcnM9ci51c2VDb2xvcnMoKSxhLmNvbG9yPXIuc2VsZWN0Q29sb3IoZSksYS5leHRlbmQ9bixhLmRlc3Ryb3k9ci5kZXN0cm95LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiZW5hYmxlZFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6KCk9Pm51bGwhPT1zP3M6KGkhPT1yLm5hbWVzcGFjZXMmJihpPXIubmFtZXNwYWNlcyxvPXIuZW5hYmxlZChlKSksbyksc2V0OmU9PntzPWV9fSksXCJmdW5jdGlvblwiPT10eXBlb2Ygci5pbml0JiZyLmluaXQoYSksYX1mdW5jdGlvbiBuKGUsdCl7Y29uc3Qgbj1yKHRoaXMubmFtZXNwYWNlKyh2b2lkIDA9PT10P1wiOlwiOnQpK2UpO3JldHVybiBuLmxvZz10aGlzLmxvZyxufWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMixlLnRvU3RyaW5nKCkubGVuZ3RoLTIpLnJlcGxhY2UoL1xcLlxcKlxcPyQvLFwiKlwiKX1yZXR1cm4gci5kZWJ1Zz1yLHIuZGVmYXVsdD1yLHIuY29lcmNlPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRXJyb3I/ZS5zdGFja3x8ZS5tZXNzYWdlOmV9LHIuZGlzYWJsZT1mdW5jdGlvbigpe2NvbnN0IGU9Wy4uLnIubmFtZXMubWFwKGkpLC4uLnIuc2tpcHMubWFwKGkpLm1hcChlPT5cIi1cIitlKV0uam9pbihcIixcIik7cmV0dXJuIHIuZW5hYmxlKFwiXCIpLGV9LHIuZW5hYmxlPWZ1bmN0aW9uKGUpe2xldCB0O3Iuc2F2ZShlKSxyLm5hbWVzcGFjZXM9ZSxyLm5hbWVzPVtdLHIuc2tpcHM9W107Y29uc3Qgbj0oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpcIlwiKS5zcGxpdCgvW1xccyxdKy8pLGk9bi5sZW5ndGg7Zm9yKHQ9MDt0PGk7dCsrKW5bdF0mJihcIi1cIj09PShlPW5bdF0ucmVwbGFjZSgvXFwqL2csXCIuKj9cIikpWzBdP3Iuc2tpcHMucHVzaChuZXcgUmVnRXhwKFwiXlwiK2Uuc3Vic3RyKDEpK1wiJFwiKSk6ci5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrZStcIiRcIikpKX0sci5lbmFibGVkPWZ1bmN0aW9uKGUpe2lmKFwiKlwiPT09ZVtlLmxlbmd0aC0xXSlyZXR1cm4hMDtsZXQgdCxuO2Zvcih0PTAsbj1yLnNraXBzLmxlbmd0aDt0PG47dCsrKWlmKHIuc2tpcHNbdF0udGVzdChlKSlyZXR1cm4hMTtmb3IodD0wLG49ci5uYW1lcy5sZW5ndGg7dDxuO3QrKylpZihyLm5hbWVzW3RdLnRlc3QoZSkpcmV0dXJuITA7cmV0dXJuITF9LHIuaHVtYW5pemU9ZShcIm1zXCIpLHIuZGVzdHJveT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIkluc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC5cIil9LE9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+e3JbZV09dFtlXX0pLHIubmFtZXM9W10sci5za2lwcz1bXSxyLmZvcm1hdHRlcnM9e30sci5zZWxlY3RDb2xvcj1mdW5jdGlvbihlKXtsZXQgdD0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXQ9KHQ8PDUpLXQrZS5jaGFyQ29kZUF0KHIpLHR8PTA7cmV0dXJuIHIuY29sb3JzW01hdGguYWJzKHQpJXIuY29sb3JzLmxlbmd0aF19LHIuZW5hYmxlKHIubG9hZCgpKSxyfX0se21zOjQ1fV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24ocixuKXsoZnVuY3Rpb24oKXt2YXIgaT1lKFwicmVhZGFibGUtc3RyZWFtXCIpLG89ZShcImVuZC1vZi1zdHJlYW1cIikscz1lKFwiaW5oZXJpdHNcIiksYT1lKFwic3RyZWFtLXNoaWZ0XCIpLGw9bi5mcm9tJiZuLmZyb20hPT1VaW50OEFycmF5LmZyb20/bi5mcm9tKFswXSk6bmV3IG4oWzBdKSx1PWZ1bmN0aW9uKGUsdCl7ZS5fY29ya2VkP2Uub25jZShcInVuY29ya1wiLHQpOnQoKX0sYz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyP2Z1bmN0aW9uKGUsdCl7ZS5fYXV0b0Rlc3Ryb3kmJmUuZGVzdHJveSh0KX0oZSxcInByZW1hdHVyZSBjbG9zZVwiPT09ci5tZXNzYWdlP251bGw6cik6dCYmIWUuX2VuZGVkJiZlLmVuZCgpfX0saD1mdW5jdGlvbigpe30sZj1mdW5jdGlvbihlLHQscil7aWYoISh0aGlzIGluc3RhbmNlb2YgZikpcmV0dXJuIG5ldyBmKGUsdCxyKTtpLkR1cGxleC5jYWxsKHRoaXMsciksdGhpcy5fd3JpdGFibGU9bnVsbCx0aGlzLl9yZWFkYWJsZT1udWxsLHRoaXMuX3JlYWRhYmxlMj1udWxsLHRoaXMuX2F1dG9EZXN0cm95PSFyfHwhMSE9PXIuYXV0b0Rlc3Ryb3ksdGhpcy5fZm9yd2FyZERlc3Ryb3k9IXJ8fCExIT09ci5kZXN0cm95LHRoaXMuX2ZvcndhcmRFbmQ9IXJ8fCExIT09ci5lbmQsdGhpcy5fY29ya2VkPTEsdGhpcy5fb25kcmFpbj1udWxsLHRoaXMuX2RyYWluZWQ9ITEsdGhpcy5fZm9yd2FyZGluZz0hMSx0aGlzLl91bndyaXRlPW51bGwsdGhpcy5fdW5yZWFkPW51bGwsdGhpcy5fZW5kZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsZSYmdGhpcy5zZXRXcml0YWJsZShlKSx0JiZ0aGlzLnNldFJlYWRhYmxlKHQpfTtzKGYsaS5EdXBsZXgpLGYub2JqPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcnx8KHI9e30pLHIub2JqZWN0TW9kZT0hMCxyLmhpZ2hXYXRlck1hcms9MTYsbmV3IGYoZSx0LHIpfSxmLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7MT09Kyt0aGlzLl9jb3JrZWQmJnRoaXMuZW1pdChcImNvcmtcIil9LGYucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe3RoaXMuX2NvcmtlZCYmMD09LS10aGlzLl9jb3JrZWQmJnRoaXMuZW1pdChcInVuY29ya1wiKX0sZi5wcm90b3R5cGUuc2V0V3JpdGFibGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fdW53cml0ZSYmdGhpcy5fdW53cml0ZSgpLHRoaXMuZGVzdHJveWVkKWUmJmUuZGVzdHJveSYmZS5kZXN0cm95KCk7ZWxzZSBpZihudWxsIT09ZSYmITEhPT1lKXt2YXIgdD10aGlzLG49byhlLHt3cml0YWJsZTohMCxyZWFkYWJsZTohMX0sYyh0aGlzLHRoaXMuX2ZvcndhcmRFbmQpKSxpPWZ1bmN0aW9uKCl7dmFyIGU9dC5fb25kcmFpbjt0Ll9vbmRyYWluPW51bGwsZSYmZSgpfTt0aGlzLl91bndyaXRlJiZyLm5leHRUaWNrKGkpLHRoaXMuX3dyaXRhYmxlPWUsdGhpcy5fd3JpdGFibGUub24oXCJkcmFpblwiLGkpLHRoaXMuX3Vud3JpdGU9ZnVuY3Rpb24oKXt0Ll93cml0YWJsZS5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsaSksbigpfSx0aGlzLnVuY29yaygpfWVsc2UgdGhpcy5lbmQoKX0sZi5wcm90b3R5cGUuc2V0UmVhZGFibGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fdW5yZWFkJiZ0aGlzLl91bnJlYWQoKSx0aGlzLmRlc3Ryb3llZCllJiZlLmRlc3Ryb3kmJmUuZGVzdHJveSgpO2Vsc2V7aWYobnVsbD09PWV8fCExPT09ZSlyZXR1cm4gdGhpcy5wdXNoKG51bGwpLHZvaWQgdGhpcy5yZXN1bWUoKTt2YXIgdCxyPXRoaXMsbj1vKGUse3dyaXRhYmxlOiExLHJlYWRhYmxlOiEwfSxjKHRoaXMpKSxzPWZ1bmN0aW9uKCl7ci5fZm9yd2FyZCgpfSxhPWZ1bmN0aW9uKCl7ci5wdXNoKG51bGwpfTt0aGlzLl9kcmFpbmVkPSEwLHRoaXMuX3JlYWRhYmxlPWUsdGhpcy5fcmVhZGFibGUyPWUuX3JlYWRhYmxlU3RhdGU/ZToodD1lLG5ldyBpLlJlYWRhYmxlKHtvYmplY3RNb2RlOiEwLGhpZ2hXYXRlck1hcms6MTZ9KS53cmFwKHQpKSx0aGlzLl9yZWFkYWJsZTIub24oXCJyZWFkYWJsZVwiLHMpLHRoaXMuX3JlYWRhYmxlMi5vbihcImVuZFwiLGEpLHRoaXMuX3VucmVhZD1mdW5jdGlvbigpe3IuX3JlYWRhYmxlMi5yZW1vdmVMaXN0ZW5lcihcInJlYWRhYmxlXCIscyksci5fcmVhZGFibGUyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsYSksbigpfSx0aGlzLl9mb3J3YXJkKCl9fSxmLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbigpe3RoaXMuX2RyYWluZWQ9ITAsdGhpcy5fZm9yd2FyZCgpfSxmLnByb3RvdHlwZS5fZm9yd2FyZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9mb3J3YXJkaW5nJiZ0aGlzLl9yZWFkYWJsZTImJnRoaXMuX2RyYWluZWQpe3ZhciBlO2Zvcih0aGlzLl9mb3J3YXJkaW5nPSEwO3RoaXMuX2RyYWluZWQmJm51bGwhPT0oZT1hKHRoaXMuX3JlYWRhYmxlMikpOyl0aGlzLmRlc3Ryb3llZHx8KHRoaXMuX2RyYWluZWQ9dGhpcy5wdXNoKGUpKTt0aGlzLl9mb3J3YXJkaW5nPSExfX0sZi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlLHQpe2lmKHR8fCh0PWgpLHRoaXMuZGVzdHJveWVkKXJldHVybiB0KG51bGwpO3RoaXMuZGVzdHJveWVkPSEwO3ZhciBuPXRoaXM7ci5uZXh0VGljayhmdW5jdGlvbigpe24uX2Rlc3Ryb3koZSksdChudWxsKX0pfSxmLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD10aGlzLl9vbmRyYWluO3RoaXMuX29uZHJhaW49bnVsbCx0P3QoZSk6dGhpcy5lbWl0KFwiZXJyb3JcIixlKX10aGlzLl9mb3J3YXJkRGVzdHJveSYmKHRoaXMuX3JlYWRhYmxlJiZ0aGlzLl9yZWFkYWJsZS5kZXN0cm95JiZ0aGlzLl9yZWFkYWJsZS5kZXN0cm95KCksdGhpcy5fd3JpdGFibGUmJnRoaXMuX3dyaXRhYmxlLmRlc3Ryb3kmJnRoaXMuX3dyaXRhYmxlLmRlc3Ryb3koKSksdGhpcy5lbWl0KFwiY2xvc2VcIil9LGYucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihlLHQscil7aWYoIXRoaXMuZGVzdHJveWVkKXJldHVybiB0aGlzLl9jb3JrZWQ/dSh0aGlzLHRoaXMuX3dyaXRlLmJpbmQodGhpcyxlLHQscikpOmU9PT1sP3RoaXMuX2ZpbmlzaChyKTp0aGlzLl93cml0YWJsZT92b2lkKCExPT09dGhpcy5fd3JpdGFibGUud3JpdGUoZSk/dGhpcy5fb25kcmFpbj1yOnRoaXMuZGVzdHJveWVkfHxyKCkpOnIoKX0sZi5wcm90b3R5cGUuX2ZpbmlzaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuZW1pdChcInByZWVuZFwiKSx1KHRoaXMsZnVuY3Rpb24oKXt2YXIgcixuO3I9dC5fZm9yd2FyZEVuZCYmdC5fd3JpdGFibGUsbj1mdW5jdGlvbigpeyExPT09dC5fd3JpdGFibGVTdGF0ZS5wcmVmaW5pc2hlZCYmKHQuX3dyaXRhYmxlU3RhdGUucHJlZmluaXNoZWQ9ITApLHQuZW1pdChcInByZWZpbmlzaFwiKSx1KHQsZSl9LHI/ci5fd3JpdGFibGVTdGF0ZSYmci5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZD9uKCk6ci5fd3JpdGFibGVTdGF0ZT9yLmVuZChuKTooci5lbmQoKSxuKCkpOm4oKX0pfSxmLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/dGhpcy5lbmQobnVsbCxudWxsLGUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dGhpcy5lbmQoZSxudWxsLHQpOih0aGlzLl9lbmRlZD0hMCxlJiZ0aGlzLndyaXRlKGUpLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nfHx0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZHx8dGhpcy53cml0ZShsKSxpLldyaXRhYmxlLnByb3RvdHlwZS5lbmQuY2FsbCh0aGlzLHIpKX0sdC5leHBvcnRzPWZ9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoXCJfcHJvY2Vzc1wiKSxlKFwiYnVmZmVyXCIpLkJ1ZmZlcil9LHtfcHJvY2Vzczo1MCxidWZmZXI6MTcsXCJlbmQtb2Ytc3RyZWFtXCI6MjEsaW5oZXJpdHM6MjQsXCJyZWFkYWJsZS1zdHJlYW1cIjo2OSxcInN0cmVhbS1zaGlmdFwiOjc0fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24ocil7KGZ1bmN0aW9uKCl7dmFyIG49ZShcIm9uY2VcIiksaT1mdW5jdGlvbigpe30sbz1mdW5jdGlvbihlLHQscyl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gbyhlLG51bGwsdCk7dHx8KHQ9e30pLHM9bihzfHxpKTt2YXIgYT1lLl93cml0YWJsZVN0YXRlLGw9ZS5fcmVhZGFibGVTdGF0ZSx1PXQucmVhZGFibGV8fCExIT09dC5yZWFkYWJsZSYmZS5yZWFkYWJsZSxjPXQud3JpdGFibGV8fCExIT09dC53cml0YWJsZSYmZS53cml0YWJsZSxoPSExLGY9ZnVuY3Rpb24oKXtlLndyaXRhYmxlfHxwKCl9LHA9ZnVuY3Rpb24oKXtjPSExLHV8fHMuY2FsbChlKX0sZD1mdW5jdGlvbigpe3U9ITEsY3x8cy5jYWxsKGUpfSxnPWZ1bmN0aW9uKHQpe3MuY2FsbChlLHQ/bmV3IEVycm9yKFwiZXhpdGVkIHdpdGggZXJyb3IgY29kZTogXCIrdCk6bnVsbCl9LHk9ZnVuY3Rpb24odCl7cy5jYWxsKGUsdCl9LGI9ZnVuY3Rpb24oKXtyLm5leHRUaWNrKG0pfSxtPWZ1bmN0aW9uKCl7aWYoIWgpcmV0dXJuKCF1fHxsJiZsLmVuZGVkJiYhbC5kZXN0cm95ZWQpJiYoIWN8fGEmJmEuZW5kZWQmJiFhLmRlc3Ryb3llZCk/dm9pZCAwOnMuY2FsbChlLG5ldyBFcnJvcihcInByZW1hdHVyZSBjbG9zZVwiKSl9LHY9ZnVuY3Rpb24oKXtlLnJlcS5vbihcImZpbmlzaFwiLHApfTtyZXR1cm4hZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0SGVhZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmFib3J0fShlKT9jJiYhYSYmKGUub24oXCJlbmRcIixmKSxlLm9uKFwiY2xvc2VcIixmKSk6KGUub24oXCJjb21wbGV0ZVwiLHApLGUub24oXCJhYm9ydFwiLGIpLGUucmVxP3YoKTplLm9uKFwicmVxdWVzdFwiLHYpKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGRpbyYmQXJyYXkuaXNBcnJheShlLnN0ZGlvKSYmMz09PWUuc3RkaW8ubGVuZ3RofShlKSYmZS5vbihcImV4aXRcIixnKSxlLm9uKFwiZW5kXCIsZCksZS5vbihcImZpbmlzaFwiLHApLCExIT09dC5lcnJvciYmZS5vbihcImVycm9yXCIseSksZS5vbihcImNsb3NlXCIsYiksZnVuY3Rpb24oKXtoPSEwLGUucmVtb3ZlTGlzdGVuZXIoXCJjb21wbGV0ZVwiLHApLGUucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydFwiLGIpLGUucmVtb3ZlTGlzdGVuZXIoXCJyZXF1ZXN0XCIsdiksZS5yZXEmJmUucmVxLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIscCksZS5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGYpLGUucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGYpLGUucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixwKSxlLnJlbW92ZUxpc3RlbmVyKFwiZXhpdFwiLGcpLGUucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixkKSxlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIix5KSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixiKX19O3QuZXhwb3J0cz1vfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKFwiX3Byb2Nlc3NcIikpfSx7X3Byb2Nlc3M6NTAsb25jZTo0OH1dLDIyOltmdW5jdGlvbihlLHQscil7dmFyIG49T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXt9O3JldHVybiB0LnByb3RvdHlwZT1lLG5ldyB0fSxpPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5wdXNoKHIpO3JldHVybiByfSxvPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHxmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19O2Z1bmN0aW9uIHMoKXt0aGlzLl9ldmVudHMmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLFwiX2V2ZW50c1wiKXx8KHRoaXMuX2V2ZW50cz1uKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH10LmV4cG9ydHM9cyxzLkV2ZW50RW1pdHRlcj1zLHMucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLHMucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciBhLGw9MTA7dHJ5e3ZhciB1PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHUsXCJ4XCIse3ZhbHVlOjB9KSxhPTA9PT11Lnh9Y2F0Y2goZSl7YT0hMX1mdW5jdGlvbiBjKGUpe3JldHVybiB2b2lkIDA9PT1lLl9tYXhMaXN0ZW5lcnM/cy5kZWZhdWx0TWF4TGlzdGVuZXJzOmUuX21heExpc3RlbmVyc31mdW5jdGlvbiBoKGUsdCxyLGkpe3ZhciBvLHMsYTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtpZigocz1lLl9ldmVudHMpPyhzLm5ld0xpc3RlbmVyJiYoZS5lbWl0KFwibmV3TGlzdGVuZXJcIix0LHIubGlzdGVuZXI/ci5saXN0ZW5lcjpyKSxzPWUuX2V2ZW50cyksYT1zW3RdKToocz1lLl9ldmVudHM9bihudWxsKSxlLl9ldmVudHNDb3VudD0wKSxhKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2E9c1t0XT1pP1tyLGFdOlthLHJdOmk/YS51bnNoaWZ0KHIpOmEucHVzaChyKSwhYS53YXJuZWQmJihvPWMoZSkpJiZvPjAmJmEubGVuZ3RoPm8pe2Eud2FybmVkPSEwO3ZhciBsPW5ldyBFcnJvcihcIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gXCIrYS5sZW5ndGgrJyBcIicrU3RyaW5nKHQpKydcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicpO2wubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLGwuZW1pdHRlcj1lLGwudHlwZT10LGwuY291bnQ9YS5sZW5ndGgsXCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKFwiJXM6ICVzXCIsbC5uYW1lLGwubWVzc2FnZSl9fWVsc2UgYT1zW3RdPXIsKytlLl9ldmVudHNDb3VudDtyZXR1cm4gZX1mdW5jdGlvbiBmKCl7aWYoIXRoaXMuZmlyZWQpc3dpdGNoKHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCxhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7Y2FzZSAxOnJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsYXJndW1lbnRzWzBdKTtjYXNlIDI6cmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCxhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdKTtjYXNlIDM6cmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCxhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7ZGVmYXVsdDpmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHQ9MDt0PGUubGVuZ3RoOysrdCllW3RdPWFyZ3VtZW50c1t0XTt0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGUpfX1mdW5jdGlvbiBwKGUsdCxyKXt2YXIgbj17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6ZSx0eXBlOnQsbGlzdGVuZXI6cn0saT1vLmNhbGwoZixuKTtyZXR1cm4gaS5saXN0ZW5lcj1yLG4ud3JhcEZuPWksaX1mdW5jdGlvbiBkKGUsdCxyKXt2YXIgbj1lLl9ldmVudHM7aWYoIW4pcmV0dXJuW107dmFyIGk9blt0XTtyZXR1cm4gaT9cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP3I/W2kubGlzdGVuZXJ8fGldOltpXTpyP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLHI9MDtyPHQubGVuZ3RoOysrcil0W3JdPWVbcl0ubGlzdGVuZXJ8fGVbcl07cmV0dXJuIHR9KGkpOnkoaSxpLmxlbmd0aCk6W119ZnVuY3Rpb24gZyhlKXt2YXIgdD10aGlzLl9ldmVudHM7aWYodCl7dmFyIHI9dFtlXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXJldHVybiAxO2lmKHIpcmV0dXJuIHIubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIHkoZSx0KXtmb3IodmFyIHI9bmV3IEFycmF5KHQpLG49MDtuPHQ7KytuKXJbbl09ZVtuXTtyZXR1cm4gcn1hP09iamVjdC5kZWZpbmVQcm9wZXJ0eShzLFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8ZSE9ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7bD1lfX0pOnMuZGVmYXVsdE1heExpc3RlbmVycz1sLHMucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxpc05hTihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm5cIiBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LHMucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBjKHRoaXMpfSxzLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpLG8scyxhPVwiZXJyb3JcIj09PWU7aWYocz10aGlzLl9ldmVudHMpYT1hJiZudWxsPT1zLmVycm9yO2Vsc2UgaWYoIWEpcmV0dXJuITE7aWYoYSl7aWYoYXJndW1lbnRzLmxlbmd0aD4xJiYodD1hcmd1bWVudHNbMV0pLHQgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3ZhciBsPW5ldyBFcnJvcignVW5oYW5kbGVkIFwiZXJyb3JcIiBldmVudC4gKCcrdCtcIilcIik7dGhyb3cgbC5jb250ZXh0PXQsbH1pZighKHI9c1tlXSkpcmV0dXJuITE7dmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2Ygcjtzd2l0Y2gobj1hcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6IWZ1bmN0aW9uKGUsdCxyKXtpZih0KWUuY2FsbChyKTtlbHNlIGZvcih2YXIgbj1lLmxlbmd0aCxpPXkoZSxuKSxvPTA7bzxuOysrbylpW29dLmNhbGwocil9KHIsdSx0aGlzKTticmVhaztjYXNlIDI6IWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHQpZS5jYWxsKHIsbik7ZWxzZSBmb3IodmFyIGk9ZS5sZW5ndGgsbz15KGUsaSkscz0wO3M8aTsrK3Mpb1tzXS5jYWxsKHIsbil9KHIsdSx0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOiFmdW5jdGlvbihlLHQscixuLGkpe2lmKHQpZS5jYWxsKHIsbixpKTtlbHNlIGZvcih2YXIgbz1lLmxlbmd0aCxzPXkoZSxvKSxhPTA7YTxvOysrYSlzW2FdLmNhbGwocixuLGkpfShyLHUsdGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztjYXNlIDQ6IWZ1bmN0aW9uKGUsdCxyLG4saSxvKXtpZih0KWUuY2FsbChyLG4saSxvKTtlbHNlIGZvcih2YXIgcz1lLmxlbmd0aCxhPXkoZSxzKSxsPTA7bDxzOysrbClhW2xdLmNhbGwocixuLGksbyl9KHIsdSx0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0sYXJndW1lbnRzWzNdKTticmVhaztkZWZhdWx0OmZvcihpPW5ldyBBcnJheShuLTEpLG89MTtvPG47bysrKWlbby0xXT1hcmd1bWVudHNbb107IWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHQpZS5hcHBseShyLG4pO2Vsc2UgZm9yKHZhciBpPWUubGVuZ3RoLG89eShlLGkpLHM9MDtzPGk7KytzKW9bc10uYXBwbHkocixuKX0ocix1LHRoaXMsaSl9cmV0dXJuITB9LHMucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyxlLHQsITEpfSxzLnByb3RvdHlwZS5vbj1zLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixzLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaCh0aGlzLGUsdCwhMCl9LHMucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtyZXR1cm4gdGhpcy5vbihlLHAodGhpcyxlLHQpKSx0aGlzfSxzLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7cmV0dXJuIHRoaXMucHJlcGVuZExpc3RlbmVyKGUscCh0aGlzLGUsdCkpLHRoaXN9LHMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLHMsYTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtpZighKGk9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZighKHI9aVtlXSkpcmV0dXJuIHRoaXM7aWYocj09PXR8fHIubGlzdGVuZXI9PT10KTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPW4obnVsbCk6KGRlbGV0ZSBpW2VdLGkucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxyLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXtmb3Iobz0tMSxzPXIubGVuZ3RoLTE7cz49MDtzLS0paWYocltzXT09PXR8fHJbc10ubGlzdGVuZXI9PT10KXthPXJbc10ubGlzdGVuZXIsbz1zO2JyZWFrfWlmKG88MClyZXR1cm4gdGhpczswPT09bz9yLnNoaWZ0KCk6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dCxuPXIrMSxpPWUubGVuZ3RoO248aTtyKz0xLG4rPTEpZVtyXT1lW25dO2UucG9wKCl9KHIsbyksMT09PXIubGVuZ3RoJiYoaVtlXT1yWzBdKSxpLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsYXx8dCl9cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxyLG87aWYoIShyPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYoIXIucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9ldmVudHM9bihudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTpyW2VdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9bihudWxsKTpkZWxldGUgcltlXSksdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHMsYT1pKHIpO2ZvcihvPTA7bzxhLmxlbmd0aDsrK28pXCJyZW1vdmVMaXN0ZW5lclwiIT09KHM9YVtvXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHMpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz1uKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZihcImZ1bmN0aW9uXCI9PXR5cGVvZih0PXJbZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0KTtlbHNlIGlmKHQpZm9yKG89dC5sZW5ndGgtMTtvPj0wO28tLSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdFtvXSk7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gZCh0aGlzLGUsITApfSxzLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGQodGhpcyxlLCExKX0scy5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS5saXN0ZW5lckNvdW50P2UubGlzdGVuZXJDb3VudCh0KTpnLmNhbGwoZSx0KX0scy5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1nLHMucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9SZWZsZWN0Lm93bktleXModGhpcy5fZXZlbnRzKTpbXX19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe3IucmVhZD1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBvLHMsYT04Kmktbi0xLGw9KDE8PGEpLTEsdT1sPj4xLGM9LTcsaD1yP2ktMTowLGY9cj8tMToxLHA9ZVt0K2hdO2ZvcihoKz1mLG89cCYoMTw8LWMpLTEscD4+PS1jLGMrPWE7Yz4wO289MjU2Km8rZVt0K2hdLGgrPWYsYy09OCk7Zm9yKHM9byYoMTw8LWMpLTEsbz4+PS1jLGMrPW47Yz4wO3M9MjU2KnMrZVt0K2hdLGgrPWYsYy09OCk7aWYoMD09PW8pbz0xLXU7ZWxzZXtpZihvPT09bClyZXR1cm4gcz9OYU46MS8wKihwPy0xOjEpO3MrPU1hdGgucG93KDIsbiksby09dX1yZXR1cm4ocD8tMToxKSpzKk1hdGgucG93KDIsby1uKX0sci53cml0ZT1mdW5jdGlvbihlLHQscixuLGksbyl7dmFyIHMsYSxsLHU9OCpvLWktMSxjPSgxPDx1KS0xLGg9Yz4+MSxmPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAscD1uPzA6by0xLGQ9bj8xOi0xLGc9dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhhPWlzTmFOKHQpPzE6MCxzPWMpOihzPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKGw9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sbCo9MiksKHQrPXMraD49MT9mL2w6ZipNYXRoLnBvdygyLDEtaCkpKmw+PTImJihzKyssbC89MikscytoPj1jPyhhPTAscz1jKTpzK2g+PTE/KGE9KHQqbC0xKSpNYXRoLnBvdygyLGkpLHMrPWgpOihhPXQqTWF0aC5wb3coMixoLTEpKk1hdGgucG93KDIsaSkscz0wKSk7aT49ODtlW3IrcF09MjU1JmEscCs9ZCxhLz0yNTYsaS09OCk7Zm9yKHM9czw8aXxhLHUrPWk7dT4wO2VbcitwXT0yNTUmcyxwKz1kLHMvPTI1Nix1LT04KTtlW3IrcC1kXXw9MTI4Kmd9fSx7fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3QmJihlLnN1cGVyXz10LGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pKX06dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYodCl7ZS5zdXBlcl89dDt2YXIgcj1mdW5jdGlvbigpe307ci5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IHIsZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19fSx7fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNvbG9yPSEwLHRoaXMua2V5PXZvaWQgMCx0aGlzLnZhbHVlPXZvaWQgMCx0aGlzLnBhcmVudD12b2lkIDAsdGhpcy5icm90aGVyPXZvaWQgMCx0aGlzLmxlZnRDaGlsZD12b2lkIDAsdGhpcy5yaWdodENoaWxkPXZvaWQgMCx0aGlzLmtleT1lLHRoaXMudmFsdWU9dH1yZXR1cm4gZS5wcm90b3R5cGUucm90YXRlTGVmdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGFyZW50LHQ9dGhpcy5icm90aGVyLHI9dGhpcy5sZWZ0Q2hpbGQsbj10aGlzLnJpZ2h0Q2hpbGQ7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKTt2YXIgaT1uLmxlZnRDaGlsZCxvPW4ucmlnaHRDaGlsZDtyZXR1cm4gZSYmKGUubGVmdENoaWxkPT09dGhpcz9lLmxlZnRDaGlsZD1uOmUucmlnaHRDaGlsZD09PXRoaXMmJihlLnJpZ2h0Q2hpbGQ9bikpLG4ucGFyZW50PWUsbi5icm90aGVyPXQsbi5sZWZ0Q2hpbGQ9dGhpcyxuLnJpZ2h0Q2hpbGQ9byx0JiYodC5icm90aGVyPW4pLHRoaXMucGFyZW50PW4sdGhpcy5icm90aGVyPW8sdGhpcy5sZWZ0Q2hpbGQ9cix0aGlzLnJpZ2h0Q2hpbGQ9aSxvJiYoby5wYXJlbnQ9bixvLmJyb3RoZXI9dGhpcyksciYmKHIucGFyZW50PXRoaXMsci5icm90aGVyPWkpLGkmJihpLnBhcmVudD10aGlzLGkuYnJvdGhlcj1yKSxufSxlLnByb3RvdHlwZS5yb3RhdGVSaWdodD1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGFyZW50LHQ9dGhpcy5icm90aGVyLHI9dGhpcy5sZWZ0Q2hpbGQ7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKTt2YXIgbj10aGlzLnJpZ2h0Q2hpbGQsaT1yLmxlZnRDaGlsZCxvPXIucmlnaHRDaGlsZDtyZXR1cm4gZSYmKGUubGVmdENoaWxkPT09dGhpcz9lLmxlZnRDaGlsZD1yOmUucmlnaHRDaGlsZD09PXRoaXMmJihlLnJpZ2h0Q2hpbGQ9cikpLHIucGFyZW50PWUsci5icm90aGVyPXQsci5sZWZ0Q2hpbGQ9aSxyLnJpZ2h0Q2hpbGQ9dGhpcyx0JiYodC5icm90aGVyPXIpLGkmJihpLnBhcmVudD1yLGkuYnJvdGhlcj10aGlzKSx0aGlzLnBhcmVudD1yLHRoaXMuYnJvdGhlcj1pLHRoaXMubGVmdENoaWxkPW8sdGhpcy5yaWdodENoaWxkPW4sbyYmKG8ucGFyZW50PXRoaXMsby5icm90aGVyPW4pLG4mJihuLnBhcmVudD10aGlzLG4uYnJvdGhlcj1vKSxyfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtpZih0aGlzLmxlZnRDaGlsZHx8dGhpcy5yaWdodENoaWxkKXRocm93IG5ldyBFcnJvcihcImNhbiBvbmx5IHJlbW92ZSBsZWFmIG5vZGVcIik7dGhpcy5wYXJlbnQmJih0aGlzPT09dGhpcy5wYXJlbnQubGVmdENoaWxkP3RoaXMucGFyZW50LmxlZnRDaGlsZD12b2lkIDA6dGhpcz09PXRoaXMucGFyZW50LnJpZ2h0Q2hpbGQmJih0aGlzLnBhcmVudC5yaWdodENoaWxkPXZvaWQgMCkpLHRoaXMuYnJvdGhlciYmKHRoaXMuYnJvdGhlci5icm90aGVyPXZvaWQgMCksdGhpcy5rZXk9dm9pZCAwLHRoaXMudmFsdWU9dm9pZCAwLHRoaXMucGFyZW50PXZvaWQgMCx0aGlzLmJyb3RoZXI9dm9pZCAwfSxlLlRyZWVOb2RlQ29sb3JUeXBlPXtyZWQ6ITAsYmxhY2s6ITF9LGV9KCk7T2JqZWN0LmZyZWV6ZShuKSxyLmRlZmF1bHQ9bn0se31dLDI2OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxuJiYoaT0yJm9bMF0/bi5yZXR1cm46b1swXT9uLnRocm93fHwoKGk9bi5yZXR1cm4pJiZpLmNhbGwobiksMCk6bi5uZXh0KSYmIShpPWkuY2FsbChuLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChuPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxuPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPShpPXMudHJ5cykubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pJiYoNj09PW9bMF18fDI9PT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPGlbMV0pe3MubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmcy5sYWJlbDxpWzJdKXtzLmxhYmVsPWlbMl0scy5vcHMucHVzaChvKTticmVha31pWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLG49MH1maW5hbGx5e3I9aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX07ZnVuY3Rpb24gaShlKXt2YXIgdD10aGlzO3ZvaWQgMD09PWUmJihlPVtdKTt2YXIgcj1bXSxvPTAscz0wLGE9MCxsPTAsdT0wLGM9MDt0aGlzLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gY30sdGhpcy5lbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09Y30sdGhpcy5jbGVhcj1mdW5jdGlvbigpe289YT1zPWw9dT1jPTAsZi5jYWxsKHRoaXMsaS5idWNrZXRTaXplKSxjPTB9LHRoaXMuZnJvbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcltvXVtzXX0sdGhpcy5iYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHJbYV1bbF19LHRoaXMuZm9yRWFjaD1mdW5jdGlvbihlKXtpZighdGhpcy5lbXB0eSgpKXt2YXIgdD0wO2lmKG8hPT1hKXtmb3IodT1zO3U8aS5idWNrZXRTaXplOysrdSllKHJbb11bdV0sdCsrKTtmb3IodT1vKzE7dTxhOysrdSlmb3IodmFyIG49MDtuPGkuYnVja2V0U2l6ZTsrK24pZShyW3VdW25dLHQrKyk7Zm9yKHU9MDt1PD1sOysrdSllKHJbYV1bdV0sdCsrKX1lbHNlIGZvcih2YXIgdT1zO3U8PWw7Kyt1KWUocltvXVt1XSx0KyspfX07dmFyIGg9ZnVuY3Rpb24oZSl7dmFyIHQ9byppLmJ1Y2tldFNpemUrcyxyPXQrZSxuPWEqaS5idWNrZXRTaXplK2w7aWYocjx0fHxyPm4pdGhyb3cgbmV3IEVycm9yKFwicG9zIHNob3VsZCBtb3JlIHRoYW4gMCBhbmQgbGVzcyB0aGFuIHF1ZXVlJ3Mgc2l6ZVwiKTtyZXR1cm57Y3VyTm9kZUJ1Y2tldEluZGV4Ok1hdGguZmxvb3Ioci9pLmJ1Y2tldFNpemUpLGN1ck5vZGVQb2ludGVySW5kZXg6ciVpLmJ1Y2tldFNpemV9fTt0aGlzLmdldEVsZW1lbnRCeVBvcz1mdW5jdGlvbihlKXt2YXIgdD1oKGUpLG49dC5jdXJOb2RlQnVja2V0SW5kZXgsaT10LmN1ck5vZGVQb2ludGVySW5kZXg7cmV0dXJuIHJbbl1baV19LHRoaXMuZXJhc2VFbGVtZW50QnlQb3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihlPDB8fGU+Yyl0aHJvdyBuZXcgRXJyb3IoXCJwb3Mgc2hvdWxkIG1vcmUgdGhhbiAwIGFuZCBsZXNzIHRoYW4gcXVldWUncyBzaXplXCIpO2lmKDA9PT1lKXRoaXMucG9wRnJvbnQoKTtlbHNlIGlmKGU9PT10aGlzLnNpemUoKSl0aGlzLnBvcEJhY2soKTtlbHNle2Zvcih2YXIgcj1bXSxuPWUrMTtuPGM7KytuKXIucHVzaCh0aGlzLmdldEVsZW1lbnRCeVBvcyhuKSk7dGhpcy5jdXQoZSksdGhpcy5wb3BCYWNrKCksci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2hCYWNrKGUpfSl9fSx0aGlzLmVyYXNlRWxlbWVudEJ5VmFsdWU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZW1wdHkoKSl7dmFyIHQ9W107dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IhPT1lJiZ0LnB1c2gocil9KTtmb3IodmFyIHI9dC5sZW5ndGgsbj0wO248cjsrK24pdGhpcy5zZXRFbGVtZW50QnlQb3Mobix0W25dKTt0aGlzLmN1dChyLTEpfX07dmFyIGY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZSppLnNpZ21hLGg9TWF0aC5tYXgoTWF0aC5jZWlsKG4vaS5idWNrZXRTaXplKSwyKSxmPTA7ZjxoOysrZil0LnB1c2gobmV3IEFycmF5KGkuYnVja2V0U2l6ZSkpO3ZhciBwPU1hdGguY2VpbChlL2kuYnVja2V0U2l6ZSksZD1NYXRoLmZsb29yKGgvMiktTWF0aC5mbG9vcihwLzIpLGc9ZCx5PTA7aWYodGhpcy5zaXplKCkpZm9yKGY9MDtmPHA7KytmKXtmb3IodmFyIGI9MDtiPGkuYnVja2V0U2l6ZTsrK2IpaWYodFtkK2ZdW2JdPXRoaXMuZnJvbnQoKSx0aGlzLnBvcEZyb250KCksdGhpcy5lbXB0eSgpKXtnPWQrZix5PWI7YnJlYWt9aWYodGhpcy5lbXB0eSgpKWJyZWFrfXI9dCxvPWQscz0wLGE9ZyxsPXksdT1oLGM9ZX07dGhpcy5wdXNoQmFjaz1mdW5jdGlvbihlKXt0aGlzLmVtcHR5KCl8fChhPT09dS0xJiZsPT09aS5idWNrZXRTaXplLTEmJmYuY2FsbCh0aGlzLHRoaXMuc2l6ZSgpKSxsPGkuYnVja2V0U2l6ZS0xPysrbDphPHUtMSYmKCsrYSxsPTApKSwrK2MsclthXVtsXT1lfSx0aGlzLnBvcEJhY2s9ZnVuY3Rpb24oKXt0aGlzLmVtcHR5KCl8fCgxIT09dGhpcy5zaXplKCkmJihsPjA/LS1sOm88YSYmKC0tYSxsPWkuYnVja2V0U2l6ZS0xKSksYz4wJiYtLWMpfSx0aGlzLnNldEVsZW1lbnRCeVBvcz1mdW5jdGlvbihlLHQpe3ZhciBuPWgoZSksaT1uLmN1ck5vZGVCdWNrZXRJbmRleCxvPW4uY3VyTm9kZVBvaW50ZXJJbmRleDtyW2ldW29dPXR9LHRoaXMuaW5zZXJ0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO2lmKHZvaWQgMD09PXImJihyPTEpLDA9PT1lKWZvcig7ci0tOyl0aGlzLnB1c2hGcm9udCh0KTtlbHNlIGlmKGU9PT10aGlzLnNpemUoKSlmb3IoO3ItLTspdGhpcy5wdXNoQmFjayh0KTtlbHNle2Zvcih2YXIgaT1bXSxvPWU7bzxjOysrbylpLnB1c2godGhpcy5nZXRFbGVtZW50QnlQb3MobykpO3RoaXMuY3V0KGUtMSk7Zm9yKG89MDtvPHI7KytvKXRoaXMucHVzaEJhY2sodCk7aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnB1c2hCYWNrKGUpfSl9fSx0aGlzLmZpbmQ9ZnVuY3Rpb24oZSl7aWYobz09PWEpe2Zvcih2YXIgdD1zO3Q8PWw7Kyt0KWlmKHJbb11bdF09PT1lKXJldHVybiEwO3JldHVybiExfWZvcih0PXM7dDxpLmJ1Y2tldFNpemU7Kyt0KWlmKHJbb11bdF09PT1lKXJldHVybiEwO2Zvcih0PW8rMTt0PGE7Kyt0KWZvcih2YXIgbj0wO248aS5idWNrZXRTaXplOysrbilpZihyW3RdW25dPT09ZSlyZXR1cm4hMDtmb3IodD0wO3Q8PWw7Kyt0KWlmKHJbYV1bdF09PT1lKXJldHVybiEwO3JldHVybiExfSx0aGlzLnJldmVyc2U9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWMtMTtlPHQ7KXt2YXIgcj10aGlzLmdldEVsZW1lbnRCeVBvcyhlKTt0aGlzLnNldEVsZW1lbnRCeVBvcyhlLHRoaXMuZ2V0RWxlbWVudEJ5UG9zKHQpKSx0aGlzLnNldEVsZW1lbnRCeVBvcyh0LHIpLCsrZSwtLXR9fSx0aGlzLnVuaXF1ZT1mdW5jdGlvbigpe2lmKCF0aGlzLmVtcHR5KCkpe3ZhciBlPVtdLHQ9dGhpcy5mcm9udCgpO3RoaXMuZm9yRWFjaChmdW5jdGlvbihyLG4pezAhPT1uJiZyPT09dHx8KGUucHVzaChyKSx0PXIpfSk7Zm9yKHZhciByPTA7cjxjOysrcil0aGlzLnNldEVsZW1lbnRCeVBvcyhyLGVbcl0pO3RoaXMuY3V0KGUubGVuZ3RoLTEpfX0sdGhpcy5zb3J0PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3RoaXMuZm9yRWFjaChmdW5jdGlvbihlKXt0LnB1c2goZSl9KSx0LnNvcnQoZSk7Zm9yKHZhciByPTA7cjxjOysrcil0aGlzLnNldEVsZW1lbnRCeVBvcyhyLHRbcl0pfSx0aGlzLnB1c2hGcm9udD1mdW5jdGlvbihlKXt0aGlzLmVtcHR5KCl8fCgwPT09byYmMD09PXMmJmYuY2FsbCh0aGlzLHRoaXMuc2l6ZSgpKSxzPjA/LS1zOm8+MCYmKC0tbyxzPWkuYnVja2V0U2l6ZS0xKSksKytjLHJbb11bc109ZX0sdGhpcy5wb3BGcm9udD1mdW5jdGlvbigpe3RoaXMuZW1wdHkoKXx8KDEhPT10aGlzLnNpemUoKSYmKHM8aS5idWNrZXRTaXplLTE/KytzOm88YSYmKCsrbyxzPTApKSxjPjAmJi0tYyl9LHRoaXMuc2hyaW5rVG9GaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W107dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pO3ZhciBuPXQubGVuZ3RoO3I9W107Zm9yKHZhciBvPU1hdGguY2VpbChuL2kuYnVja2V0U2l6ZSkscz0wO3M8bzsrK3Mpci5wdXNoKG5ldyBBcnJheShpLmJ1Y2tldFNpemUpKTt0aGlzLmNsZWFyKCksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLnB1c2hCYWNrKHQpfSl9LHRoaXMuY3V0PWZ1bmN0aW9uKGUpe2lmKGU8MCl0aGlzLmNsZWFyKCk7ZWxzZXt2YXIgdD1oKGUpLHI9dC5jdXJOb2RlQnVja2V0SW5kZXgsbj10LmN1ck5vZGVQb2ludGVySW5kZXg7YT1yLGw9bixjPWUrMX19LHRoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIG4odGhpcyxmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOmlmKDA9PT1jKXJldHVyblsyXTtpZihvIT09YSlyZXR1cm5bMyw1XTt0PXMsbi5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdDw9bD9bNCxyW29dW3RdXTpbMyw0XTtjYXNlIDI6bi5zZW50KCksbi5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4rK3QsWzMsMV07Y2FzZSA0OnJldHVyblsyXTtjYXNlIDU6dD1zLG4ubGFiZWw9NjtjYXNlIDY6cmV0dXJuIHQ8aS5idWNrZXRTaXplP1s0LHJbb11bdF1dOlszLDldO2Nhc2UgNzpuLnNlbnQoKSxuLmxhYmVsPTg7Y2FzZSA4OnJldHVybisrdCxbMyw2XTtjYXNlIDk6dD1vKzEsbi5sYWJlbD0xMDtjYXNlIDEwOmlmKCEodDxhKSlyZXR1cm5bMywxNV07ZT0wLG4ubGFiZWw9MTE7Y2FzZSAxMTpyZXR1cm4gZTxpLmJ1Y2tldFNpemU/WzQsclt0XVtlXV06WzMsMTRdO2Nhc2UgMTI6bi5zZW50KCksbi5sYWJlbD0xMztjYXNlIDEzOnJldHVybisrZSxbMywxMV07Y2FzZSAxNDpyZXR1cm4rK3QsWzMsMTBdO2Nhc2UgMTU6dD0wLG4ubGFiZWw9MTY7Y2FzZSAxNjpyZXR1cm4gdDw9bD9bNCxyW2FdW3RdXTpbMywxOV07Y2FzZSAxNzpuLnNlbnQoKSxuLmxhYmVsPTE4O2Nhc2UgMTg6cmV0dXJuKyt0LFszLDE2XTtjYXNlIDE5OnJldHVyblsyXX19KX0oKX0sZnVuY3Rpb24oKXt2YXIgbj1pLmJ1Y2tldFNpemU7ZS5zaXplP249ZS5zaXplKCk6ZS5sZW5ndGgmJihuPWUubGVuZ3RoKTt2YXIgcz1uKmkuc2lnbWE7dT1NYXRoLmNlaWwocy9pLmJ1Y2tldFNpemUpLHU9TWF0aC5tYXgodSwzKTtmb3IodmFyIGw9MDtsPHU7KytsKXIucHVzaChuZXcgQXJyYXkoaS5idWNrZXRTaXplKSk7dmFyIGM9TWF0aC5jZWlsKG4vaS5idWNrZXRTaXplKTtvPU1hdGguZmxvb3IodS8yKS1NYXRoLmZsb29yKGMvMiksYT1vLGUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoQmFjayhlKX0pfSgpLE9iamVjdC5mcmVlemUodGhpcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksaS5zaWdtYT0zLGkuYnVja2V0U2l6ZT01ZTMsT2JqZWN0LmZyZWV6ZShpKSxyLmRlZmF1bHQ9aX0se31dLDI3OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxuJiYoaT0yJm9bMF0/bi5yZXR1cm46b1swXT9uLnRocm93fHwoKGk9bi5yZXR1cm4pJiZpLmNhbGwobiksMCk6bi5uZXh0KSYmIShpPWkuY2FsbChuLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChuPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxuPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPShpPXMudHJ5cykubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pJiYoNj09PW9bMF18fDI9PT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPGlbMV0pe3MubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmcy5sYWJlbDxpWzJdKXtzLmxhYmVsPWlbMl0scy5vcHMucHVzaChvKTticmVha31pWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLG49MH1maW5hbGx5e3I9aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX0saT10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0sbj0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmbj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbbisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1lKFwiLi4vTGlua0xpc3QvTGlua0xpc3RcIikscz1lKFwiLi4vTWFwL01hcFwiKTtmdW5jdGlvbiBhKGUsdCxyKXt2YXIgbD10aGlzO2lmKHZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT10JiYodD1hLmluaXRTaXplKSxyPXJ8fGZ1bmN0aW9uKGUpe3ZhciB0LHIsbj0wLG89XCJcIjtpZihcIm51bWJlclwiPT10eXBlb2YgZSluPSgobj1NYXRoLmZsb29yKGUpKTw8NSktbixuJj1uO2Vsc2V7bz1cInN0cmluZ1wiIT10eXBlb2YgZT9KU09OLnN0cmluZ2lmeShlKTplO3RyeXtmb3IodmFyIHM9aShvKSxhPXMubmV4dCgpOyFhLmRvbmU7YT1zLm5leHQoKSl7bj0objw8NSktbithLnZhbHVlLmNoYXJDb2RlQXQoMCksbiY9bn19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7YSYmIWEuZG9uZSYmKHI9cy5yZXR1cm4pJiZyLmNhbGwocyl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fX1yZXR1cm4gbl49bj4+PjE2fSwwIT0odCZ0LTEpKXRocm93IG5ldyBFcnJvcihcImluaXRCdWNrZXROdW0gbXVzdCBiZSAyIHRvIHRoZSBwb3dlciBvZiBuXCIpO3ZhciB1PTAsYz1bXSxoPU1hdGgubWF4KGEuaW5pdFNpemUsTWF0aC5taW4oYS5tYXhTaXplLHQpKTt0aGlzLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdX0sdGhpcy5lbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dX0sdGhpcy5jbGVhcj1mdW5jdGlvbigpe3U9MCxoPXQsYz1bXX0sdGhpcy5mb3JFYWNoPWZ1bmN0aW9uKGUpe3ZhciB0PTA7Yy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IuZm9yRWFjaChmdW5jdGlvbihyKXtlKHIsdCsrKX0pfSl9O3RoaXMuc2V0RWxlbWVudD1mdW5jdGlvbihlLHQpe3ZhciBuLGw7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwidG8gYXZvaWQgc29tZSB1bm5lY2Vzc2FyeSBlcnJvcnMsIHdlIGRvbid0IHN1Z2dlc3QgeW91IGluc2VydCBudWxsIG9yIHVuZGVmaW5lZCBoZXJlXCIpO2lmKG51bGwhPT10JiZ2b2lkIDAhPT10KXt2YXIgZj1yKGUpJmgtMTtpZihjW2ZdKXt2YXIgcD1jW2ZdLnNpemUoKTtpZihjW2ZdaW5zdGFuY2VvZiBvLmRlZmF1bHQpe3RyeXtmb3IodmFyIGQ9aShjW2ZdKSxnPWQubmV4dCgpOyFnLmRvbmU7Zz1kLm5leHQoKSl7dmFyIHk9Zy52YWx1ZTtpZih5LmtleT09PWUpcmV0dXJuIHZvaWQoeS52YWx1ZT10KX19Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7ZyYmIWcuZG9uZSYmKGw9ZC5yZXR1cm4pJiZsLmNhbGwoZCl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fWNbZl0ucHVzaEJhY2soe2tleTplLHZhbHVlOnR9KSxjW2ZdLnNpemUoKT49YS50cmVlaWZ5VGhyZXNob2xkJiYoY1tmXT1uZXcgcy5kZWZhdWx0KGNbZl0pKX1lbHNlIGNbZl0uc2V0RWxlbWVudChlLHQpO3ZhciBiPWNbZl0uc2l6ZSgpO3UrPWItcH1lbHNlKyt1LGNbZl09bmV3IG8uZGVmYXVsdChbe2tleTplLHZhbHVlOnR9XSk7dT5oKmEuc2lnbWEmJmZ1bmN0aW9uKGUpe2lmKCEoZT49YS5tYXhTaXplKSl7aD0yKmU7dmFyIHQ9W107Yy5mb3JFYWNoKGZ1bmN0aW9uKG4saSl7aWYoIW4uZW1wdHkoKSl7aWYobiBpbnN0YW5jZW9mIG8uZGVmYXVsdCYmMT09PW4uc2l6ZSgpKXt2YXIgbD1uLmZyb250KCksdT1sLmtleSxmPWwudmFsdWU7dFtyKHUpJmgtMV09bmV3IG8uZGVmYXVsdChbe2tleTp1LHZhbHVlOmZ9XSl9ZWxzZSBpZihuIGluc3RhbmNlb2Ygcy5kZWZhdWx0KXt2YXIgcD1uZXcgby5kZWZhdWx0LGQ9bmV3IG8uZGVmYXVsdDtuLmZvckVhY2goZnVuY3Rpb24odCl7MD09KHIodC5rZXkpJmUpP3AucHVzaEJhY2sodCk6ZC5wdXNoQmFjayh0KX0pLHAuc2l6ZSgpPmEudW50cmVlaWZ5VGhyZXNob2xkP3RbaV09bmV3IHMuZGVmYXVsdChwKTpwLnNpemUoKSYmKHRbaV09cCksZC5zaXplKCk+YS51bnRyZWVpZnlUaHJlc2hvbGQ/dFtpK2VdPW5ldyBzLmRlZmF1bHQoZCk6ZC5zaXplKCkmJih0W2krZV09ZCl9ZWxzZXt2YXIgZz1uZXcgby5kZWZhdWx0LHk9bmV3IG8uZGVmYXVsdDtuLmZvckVhY2goZnVuY3Rpb24odCl7MD09KHIodC5rZXkpJmUpP2cucHVzaEJhY2sodCk6eS5wdXNoQmFjayh0KX0pLGcuc2l6ZSgpJiYodFtpXT1nKSx5LnNpemUoKSYmKHRbaStlXT15KX1jW2ldLmNsZWFyKCl9fSksYz10fX0uY2FsbCh0aGlzLGgpfWVsc2UgdGhpcy5lcmFzZUVsZW1lbnRCeUtleShlKX0sdGhpcy5nZXRFbGVtZW50QnlLZXk9ZnVuY3Rpb24oZSl7dmFyIHQsbixvPXIoZSkmaC0xO2lmKGNbb10pe2lmKGNbb11pbnN0YW5jZW9mIHMuZGVmYXVsdClyZXR1cm4gY1tvXS5nZXRFbGVtZW50QnlLZXkoZSk7dHJ5e2Zvcih2YXIgYT1pKGNbb10pLGw9YS5uZXh0KCk7IWwuZG9uZTtsPWEubmV4dCgpKXt2YXIgdT1sLnZhbHVlO2lmKHUua2V5PT09ZSlyZXR1cm4gdS52YWx1ZX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7bCYmIWwuZG9uZSYmKG49YS5yZXR1cm4pJiZuLmNhbGwoYSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fX19LHRoaXMuZXJhc2VFbGVtZW50QnlLZXk9ZnVuY3Rpb24oZSl7dmFyIHQsbixsPXIoZSkmaC0xO2lmKGNbbF0pe3ZhciBmPWNbbF0uc2l6ZSgpO2lmKGNbbF1pbnN0YW5jZW9mIHMuZGVmYXVsdCljW2xdLmVyYXNlRWxlbWVudEJ5S2V5KGUpLGNbbF0uc2l6ZSgpPD1hLnVudHJlZWlmeVRocmVzaG9sZCYmKGNbbF09bmV3IG8uZGVmYXVsdChjW2xdKSk7ZWxzZXt2YXIgcD0tMTt0cnl7Zm9yKHZhciBkPWkoY1tsXSksZz1kLm5leHQoKTshZy5kb25lO2c9ZC5uZXh0KCkpe2lmKCsrcCxnLnZhbHVlLmtleT09PWUpe2NbbF0uZXJhc2VFbGVtZW50QnlQb3MocCk7YnJlYWt9fX1jYXRjaChlKXt0PXtlcnJvcjplfX1maW5hbGx5e3RyeXtnJiYhZy5kb25lJiYobj1kLnJldHVybikmJm4uY2FsbChkKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19fXZhciB5PWNbbF0uc2l6ZSgpO3UrPXktZn19LHRoaXMuZmluZD1mdW5jdGlvbihlKXt2YXIgdCxuLG89cihlKSZoLTE7aWYoIWNbb10pcmV0dXJuITE7aWYoY1tvXWluc3RhbmNlb2Ygcy5kZWZhdWx0KXJldHVybiBjW29dLmZpbmQoZSk7dHJ5e2Zvcih2YXIgYT1pKGNbb10pLGw9YS5uZXh0KCk7IWwuZG9uZTtsPWEubmV4dCgpKXtpZihsLnZhbHVlLmtleT09PWUpcmV0dXJuITB9fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2wmJiFsLmRvbmUmJihuPWEucmV0dXJuKSYmbi5jYWxsKGEpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1yZXR1cm4hMX0sdGhpc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsdCxyLG8scyxhO3JldHVybiBuKHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDplPTAsbi5sYWJlbD0xO2Nhc2UgMTppZighKGU8aCkpcmV0dXJuWzMsMTBdO2Zvcig7ZTxoJiYhY1tlXTspKytlO2lmKGU+PWgpcmV0dXJuWzMsMTBdO24ubGFiZWw9MjtjYXNlIDI6bi50cnlzLnB1c2goWzIsNyw4LDldKSxzPXZvaWQgMCx0PWkoY1tlXSkscj10Lm5leHQoKSxuLmxhYmVsPTM7Y2FzZSAzOnJldHVybiByLmRvbmU/WzMsNl06WzQsci52YWx1ZV07Y2FzZSA0Om4uc2VudCgpLG4ubGFiZWw9NTtjYXNlIDU6cmV0dXJuIHI9dC5uZXh0KCksWzMsM107Y2FzZSA2OnJldHVyblszLDldO2Nhc2UgNzpyZXR1cm4gbz1uLnNlbnQoKSxzPXtlcnJvcjpvfSxbMyw5XTtjYXNlIDg6dHJ5e3ImJiFyLmRvbmUmJihhPXQucmV0dXJuKSYmYS5jYWxsKHQpfWZpbmFsbHl7aWYocyl0aHJvdyBzLmVycm9yfXJldHVybls3XTtjYXNlIDk6cmV0dXJuKytlLFszLDFdO2Nhc2UgMTA6cmV0dXJuWzJdfX0pfSgpfSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkscj1lLnZhbHVlO3JldHVybiBsLnNldEVsZW1lbnQodCxyKX0pLE9iamVjdC5mcmVlemUodGhpcyl9YS5pbml0U2l6ZT0xNixhLm1heFNpemU9MTw8MzAsYS5zaWdtYT0uNzUsYS50cmVlaWZ5VGhyZXNob2xkPTgsYS51bnRyZWVpZnlUaHJlc2hvbGQ9NixhLm1pblRyZWVpZnlTaXplPTY0LE9iamVjdC5mcmVlemUoYSksci5kZWZhdWx0PWF9LHtcIi4uL0xpbmtMaXN0L0xpbmtMaXN0XCI6MjksXCIuLi9NYXAvTWFwXCI6MzB9XSwyODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLG8scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBhKG8pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsbiYmKGk9MiZvWzBdP24ucmV0dXJuOm9bMF0/bi50aHJvd3x8KChpPW4ucmV0dXJuKSYmaS5jYWxsKG4pLDApOm4ubmV4dCkmJiEoaT1pLmNhbGwobixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gobj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT0oaT1zLnRyeXMpLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKSYmKDY9PT1vWzBdfHwyPT09b1swXSkpe3M9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe3MubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmcy5sYWJlbDxpWzFdKXtzLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJnMubGFiZWw8aVsyXSl7cy5sYWJlbD1pWzJdLHMub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUscyl9Y2F0Y2goZSl7bz1bNixlXSxuPTB9ZmluYWxseXtyPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sYV0pfX19LGk9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLG49MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZShcIi4uL1NldC9TZXRcIikscz1lKFwiLi4vTGlua0xpc3QvTGlua0xpc3RcIik7ZnVuY3Rpb24gYShlLHQscil7dmFyIGw9dGhpcztpZih2b2lkIDA9PT1lJiYoZT1bXSksdm9pZCAwPT09dCYmKHQ9YS5pbml0U2l6ZSkscj1yfHxmdW5jdGlvbihlKXt2YXIgdD0wLHI9XCJcIjtpZihcIm51bWJlclwiPT10eXBlb2YgZSl0PSgodD1NYXRoLmZsb29yKGUpKTw8NSktdCx0Jj10O2Vsc2V7cj1cInN0cmluZ1wiIT10eXBlb2YgZT9KU09OLnN0cmluZ2lmeShlKTplO2Zvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKXt0PSh0PDw1KS10K3IuY2hhckNvZGVBdChuKSx0Jj10fX1yZXR1cm4gdF49dD4+PjE2fSwwIT0odCZ0LTEpKXRocm93IG5ldyBFcnJvcihcImluaXRCdWNrZXROdW0gbXVzdCBiZSAyIHRvIHRoZSBwb3dlciBvZiBuXCIpO3ZhciB1PTAsYz1bXSxoPU1hdGgubWF4KGEuaW5pdFNpemUsTWF0aC5taW4oYS5tYXhTaXplLHQpKTt0aGlzLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdX0sdGhpcy5lbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dX0sdGhpcy5jbGVhcj1mdW5jdGlvbigpe3U9MCxoPXQsYz1bXX0sdGhpcy5mb3JFYWNoPWZ1bmN0aW9uKGUpe3ZhciB0PTA7Yy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IuZm9yRWFjaChmdW5jdGlvbihyKXtlKHIsdCsrKX0pfSl9O3RoaXMuaW5zZXJ0PWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcInRvIGF2b2lkIHNvbWUgdW5uZWNlc3NhcnkgZXJyb3JzLCB3ZSBkb24ndCBzdWdnZXN0IHlvdSBpbnNlcnQgbnVsbCBvciB1bmRlZmluZWQgaGVyZVwiKTt2YXIgdD1yKGUpJmgtMTtpZihjW3RdKXt2YXIgbj1jW3RdLnNpemUoKTtpZihjW3RdaW5zdGFuY2VvZiBzLmRlZmF1bHQpe2lmKGNbdF0uZmluZChlKSlyZXR1cm47Y1t0XS5wdXNoQmFjayhlKSxjW3RdLnNpemUoKT49YS50cmVlaWZ5VGhyZXNob2xkJiYoY1t0XT1uZXcgby5kZWZhdWx0KGNbdF0pKX1lbHNlIGNbdF0uaW5zZXJ0KGUpO3ZhciBpPWNbdF0uc2l6ZSgpO3UrPWktbn1lbHNlIGNbdF09bmV3IHMuZGVmYXVsdChbZV0pLCsrdTt1PmgqYS5zaWdtYSYmZnVuY3Rpb24oZSl7aWYoIShlPj1hLm1heFNpemUpKXtoPTIqZTt2YXIgdD1bXTtjLmZvckVhY2goZnVuY3Rpb24obixpKXtpZighbi5lbXB0eSgpKXtpZihuIGluc3RhbmNlb2Ygcy5kZWZhdWx0JiYxPT09bi5zaXplKCkpe3ZhciBsPW4uZnJvbnQoKTtpZih2b2lkIDA9PT1sKXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7dFtyKGwpJmgtMV09bmV3IHMuZGVmYXVsdChbbF0pfWVsc2UgaWYobiBpbnN0YW5jZW9mIG8uZGVmYXVsdCl7dmFyIHU9bmV3IHMuZGVmYXVsdCxmPW5ldyBzLmRlZmF1bHQ7bi5mb3JFYWNoKGZ1bmN0aW9uKHQpezA9PShyKHQpJmUpP3UucHVzaEJhY2sodCk6Zi5wdXNoQmFjayh0KX0pLHUuc2l6ZSgpPmEudW50cmVlaWZ5VGhyZXNob2xkP3RbaV09bmV3IG8uZGVmYXVsdCh1KTp1LnNpemUoKSYmKHRbaV09dSksZi5zaXplKCk+YS51bnRyZWVpZnlUaHJlc2hvbGQ/dFtpK2VdPW5ldyBvLmRlZmF1bHQoZik6Zi5zaXplKCkmJih0W2krZV09Zil9ZWxzZXt2YXIgcD1uZXcgcy5kZWZhdWx0LGQ9bmV3IHMuZGVmYXVsdDtuLmZvckVhY2goZnVuY3Rpb24odCl7MD09KHIodCkmZSk/cC5wdXNoQmFjayh0KTpkLnB1c2hCYWNrKHQpfSkscC5zaXplKCkmJih0W2ldPXApLGQuc2l6ZSgpJiYodFtpK2VdPWQpfWNbaV0uY2xlYXIoKX19KSxjPXR9fS5jYWxsKHRoaXMsaCl9LHRoaXMuZXJhc2VFbGVtZW50QnlWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD1yKGUpJmgtMTtpZihjW3RdKXt2YXIgbj1jW3RdLnNpemUoKTtjW3RdLmVyYXNlRWxlbWVudEJ5VmFsdWUoZSksY1t0XWluc3RhbmNlb2Ygby5kZWZhdWx0JiZjW3RdLnNpemUoKTw9YS51bnRyZWVpZnlUaHJlc2hvbGQmJihjW3RdPW5ldyBzLmRlZmF1bHQoY1t0XSkpO3ZhciBpPWNbdF0uc2l6ZSgpO3UrPWktbn19LHRoaXMuZmluZD1mdW5jdGlvbihlKXt2YXIgdD1yKGUpJmgtMTtyZXR1cm4hIWNbdF0mJmNbdF0uZmluZChlKX0sdGhpc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsdCxyLG8scyxhO3JldHVybiBuKHRoaXMsZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDplPTAsbi5sYWJlbD0xO2Nhc2UgMTppZighKGU8aCkpcmV0dXJuWzMsMTBdO2Zvcig7ZTxoJiYhY1tlXTspKytlO2lmKGU+PWgpcmV0dXJuWzMsMTBdO24ubGFiZWw9MjtjYXNlIDI6bi50cnlzLnB1c2goWzIsNyw4LDldKSxzPXZvaWQgMCx0PWkoY1tlXSkscj10Lm5leHQoKSxuLmxhYmVsPTM7Y2FzZSAzOnJldHVybiByLmRvbmU/WzMsNl06WzQsci52YWx1ZV07Y2FzZSA0Om4uc2VudCgpLG4ubGFiZWw9NTtjYXNlIDU6cmV0dXJuIHI9dC5uZXh0KCksWzMsM107Y2FzZSA2OnJldHVyblszLDldO2Nhc2UgNzpyZXR1cm4gbz1uLnNlbnQoKSxzPXtlcnJvcjpvfSxbMyw5XTtjYXNlIDg6dHJ5e3ImJiFyLmRvbmUmJihhPXQucmV0dXJuKSYmYS5jYWxsKHQpfWZpbmFsbHl7aWYocyl0aHJvdyBzLmVycm9yfXJldHVybls3XTtjYXNlIDk6cmV0dXJuKytlLFszLDFdO2Nhc2UgMTA6cmV0dXJuWzJdfX0pfSgpfSxlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGwuaW5zZXJ0KGUpfSksT2JqZWN0LmZyZWV6ZSh0aGlzKX1hLmluaXRTaXplPTE2LGEubWF4U2l6ZT0xPDwzMCxhLnNpZ21hPS43NSxhLnRyZWVpZnlUaHJlc2hvbGQ9OCxhLnVudHJlZWlmeVRocmVzaG9sZD02LGEubWluVHJlZWlmeVNpemU9NjQsT2JqZWN0LmZyZWV6ZShhKSxyLmRlZmF1bHQ9YX0se1wiLi4vTGlua0xpc3QvTGlua0xpc3RcIjoyOSxcIi4uL1NldC9TZXRcIjozM31dLDI5OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxuJiYoaT0yJm9bMF0/bi5yZXR1cm46b1swXT9uLnRocm93fHwoKGk9bi5yZXR1cm4pJiZpLmNhbGwobiksMCk6bi5uZXh0KSYmIShpPWkuY2FsbChuLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChuPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxuPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPShpPXMudHJ5cykubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pJiYoNj09PW9bMF18fDI9PT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPGlbMV0pe3MubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmcy5sYWJlbDxpWzJdKXtzLmxhYmVsPWlbMl0scy5vcHMucHVzaChvKTticmVha31pWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLG49MH1maW5hbGx5e3I9aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dGhpcy52YWx1ZT12b2lkIDAsdGhpcy5wcmU9dm9pZCAwLHRoaXMubmV4dD12b2lkIDAsdGhpcy52YWx1ZT1lfX0oKTtmdW5jdGlvbiBvKGUpe3ZhciB0PXRoaXM7dm9pZCAwPT09ZSYmKGU9W10pO3ZhciByPTAsbz12b2lkIDAscz12b2lkIDA7dGhpcy5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHRoaXMuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXJ9LHRoaXMuY2xlYXI9ZnVuY3Rpb24oKXtvPXM9dm9pZCAwLHI9MH0sdGhpcy5mcm9udD1mdW5jdGlvbigpe3JldHVybiBudWxsPT09b3x8dm9pZCAwPT09bz92b2lkIDA6by52YWx1ZX0sdGhpcy5iYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT1zfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnZhbHVlfSx0aGlzLmZvckVhY2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW8scj0wO3Q7KXtpZih2b2lkIDA9PT10LnZhbHVlKXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7ZSh0LnZhbHVlLHIrKyksdD10Lm5leHR9fSx0aGlzLmdldEVsZW1lbnRCeVBvcz1mdW5jdGlvbihlKXtpZihlPDB8fGU+PXIpdGhyb3cgbmV3IEVycm9yKFwicG9zIG11c3QgbW9yZSB0aGVuIDAgYW5kIGxlc3MgdGhlbiB0aGUgbGlzdCBsZW5ndGhcIik7Zm9yKHZhciB0PW87ZS0tJiZ0Oyl0PXQubmV4dDtpZighdHx8dm9pZCAwPT09dC52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpO3JldHVybiB0LnZhbHVlfSx0aGlzLmVyYXNlRWxlbWVudEJ5UG9zPWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49cil0aHJvdyBuZXcgRXJyb3IoXCJlcmFzZSBwb3MgbXVzdCBtb3JlIHRoZW4gMCBhbmQgbGVzcyB0aGVuIHRoZSBsaXN0IGxlbmd0aFwiKTtpZigwPT09ZSl0aGlzLnBvcEZyb250KCk7ZWxzZSBpZihlPT09ci0xKXRoaXMucG9wQmFjaygpO2Vsc2V7Zm9yKHZhciB0PW87ZS0tOyl7aWYoIShudWxsPT09dHx8dm9pZCAwPT09dD92b2lkIDA6dC5uZXh0KSl0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpO3Q9dC5uZXh0fWlmKCF0fHwhdC5wcmV8fCF0Lm5leHQpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKTt2YXIgbj10LnByZSxpPXQubmV4dDtpLnByZT1uLG4ubmV4dD1pLHI+MCYmLS1yfX0sdGhpcy5lcmFzZUVsZW1lbnRCeVZhbHVlPWZ1bmN0aW9uKGUpe2Zvcig7byYmby52YWx1ZT09PWU7KXRoaXMucG9wRnJvbnQoKTtmb3IoO3MmJnMudmFsdWU9PT1lOyl0aGlzLnBvcEJhY2soKTtpZihvKWZvcih2YXIgdD1vO3Q7KXtpZih0LnZhbHVlPT09ZSl7dmFyIG49dC5wcmUsaT10Lm5leHQ7aSYmKGkucHJlPW4pLG4mJihuLm5leHQ9aSkscj4wJiYtLXJ9dD10Lm5leHR9fSx0aGlzLnB1c2hCYWNrPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcInlvdSBjYW4ndCBwdXNoIG51bGwgb3IgdW5kZWZpbmVkIGhlcmVcIik7KytyO3ZhciB0PW5ldyBpKGUpO3M/KHMubmV4dD10LHQucHJlPXMscz10KTpvPXM9dH0sdGhpcy5wb3BCYWNrPWZ1bmN0aW9uKCl7cyYmKHI+MCYmLS1yLHMmJihvPT09cz9vPXM9dm9pZCAwOihzPXMucHJlKSYmKHMubmV4dD12b2lkIDApKSl9LHRoaXMuc2V0RWxlbWVudEJ5UG9zPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwieW91IGNhbid0IHNldCBudWxsIG9yIHVuZGVmaW5lZCBoZXJlXCIpO2lmKGU8MHx8ZT49cil0aHJvdyBuZXcgRXJyb3IoXCJwb3MgbXVzdCBtb3JlIHRoZW4gMCBhbmQgbGVzcyB0aGVuIHRoZSBsaXN0IGxlbmd0aFwiKTtmb3IodmFyIG49bztlLS07KXtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpO249bi5uZXh0fW4mJihuLnZhbHVlPXQpfSx0aGlzLmluc2VydD1mdW5jdGlvbihlLHQsbil7aWYodm9pZCAwPT09biYmKG49MSksbnVsbD09PXR8fHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwieW91IGNhbid0IGluc2VydCBudWxsIG9yIHVuZGVmaW5lZCBoZXJlXCIpO2lmKGU8MHx8ZT5yKXRocm93IG5ldyBFcnJvcihcImluc2VydCBwb3MgbXVzdCBtb3JlIHRoZW4gMCBhbmQgbGVzcyB0aGVuIG9yIGVxdWFsIHRvIHRoZSBsaXN0IGxlbmd0aFwiKTtpZihuPDApdGhyb3cgbmV3IEVycm9yKFwiaW5zZXJ0IHNpemUgbXVzdCBtb3JlIHRoYW4gMFwiKTtpZigwPT09ZSlmb3IoO24tLTspdGhpcy5wdXNoRnJvbnQodCk7ZWxzZSBpZihlPT09cilmb3IoO24tLTspdGhpcy5wdXNoQmFjayh0KTtlbHNle2Zvcih2YXIgcz1vLGE9MTthPGU7KythKXtpZighKG51bGw9PT1zfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm5leHQpKXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7cz1udWxsPT09c3x8dm9pZCAwPT09cz92b2lkIDA6cy5uZXh0fWlmKCFzKXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7dmFyIGw9cy5uZXh0O2ZvcihyKz1uO24tLTspcy5uZXh0PW5ldyBpKHQpLHMubmV4dC5wcmU9cyxzPXMubmV4dDtzLm5leHQ9bCxsJiYobC5wcmU9cyl9fSx0aGlzLmZpbmQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW87dDspe2lmKHQudmFsdWU9PT1lKXJldHVybiEwO3Q9dC5uZXh0fXJldHVybiExfSx0aGlzLnJldmVyc2U9ZnVuY3Rpb24oKXtmb3IodmFyIGU9byx0PXMsbj0wO2UmJnQmJjIqbjxyOyl7dmFyIGk9ZS52YWx1ZTtlLnZhbHVlPXQudmFsdWUsdC52YWx1ZT1pLGU9ZS5uZXh0LHQ9dC5wcmUsKytufX0sdGhpcy51bmlxdWU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bztlOyl7Zm9yKHZhciB0PWU7dCYmdC5uZXh0JiZ0LnZhbHVlPT09dC5uZXh0LnZhbHVlOyl0PXQubmV4dCxyPjAmJi0tcjtlLm5leHQ9dC5uZXh0LGUubmV4dCYmKGUubmV4dC5wcmU9ZSksZT1lLm5leHR9fSx0aGlzLnNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pLHQuc29ydChlKTt2YXIgcj1vO3QuZm9yRWFjaChmdW5jdGlvbihlKXtyJiYoci52YWx1ZT1lLHI9ci5uZXh0KX0pfSx0aGlzLnB1c2hGcm9udD1mdW5jdGlvbihlKXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJ5b3UgY2FuJ3QgcHVzaCBudWxsIG9yIHVuZGVmaW5lZCBoZXJlXCIpOysrcjt2YXIgdD1uZXcgaShlKTtvPyh0Lm5leHQ9byxvLnByZT10LG89dCk6bz1zPXR9LHRoaXMucG9wRnJvbnQ9ZnVuY3Rpb24oKXtvJiYocj4wJiYtLXIsbyYmKG89PT1zP289cz12b2lkIDA6KG89by5uZXh0KSYmKG8ucHJlPXZvaWQgMCkpKX0sdGhpcy5tZXJnZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49bztlLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKDtuJiZ2b2lkIDAhPT1uLnZhbHVlJiZuLnZhbHVlPD1lOyluPW4ubmV4dDtpZih2b2lkIDA9PT1uKXQucHVzaEJhY2soZSksbj1zO2Vsc2UgaWYobj09PW8pdC5wdXNoRnJvbnQoZSksbj1vO2Vsc2V7KytyO3ZhciBhPW4ucHJlO2EmJihhLm5leHQ9bmV3IGkoZSksYS5uZXh0LnByZT1hLGEubmV4dC5uZXh0PW4sbiYmKG4ucHJlPWEubmV4dCkpfX0pfSx0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbih0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6ZT1vLHQubGFiZWw9MTtjYXNlIDE6aWYodm9pZCAwPT09ZSlyZXR1cm5bMywzXTtpZighZS52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpO3JldHVybls0LGUudmFsdWVdO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksZT1lLm5leHQsWzMsMV07Y2FzZSAzOnJldHVyblsyXX19KX0oKX0sZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2hCYWNrKGUpfSksT2JqZWN0LmZyZWV6ZSh0aGlzKX1PYmplY3QuZnJlZXplKG8pLHIuZGVmYXVsdD1vfSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciByLG4saSxvLHM9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gYShvKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtzOyl0cnl7aWYocj0xLG4mJihpPTImb1swXT9uLnJldHVybjpvWzBdP24udGhyb3d8fCgoaT1uLnJldHVybikmJmkuY2FsbChuKSwwKTpuLm5leHQpJiYhKGk9aS5jYWxsKG4sb1sxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKG49MCxpJiYobz1bMiZvWzBdLGkudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOmk9bzticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLG49b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGk9KGk9cy50cnlzKS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSkmJig2PT09b1swXXx8Mj09PW9bMF0pKXtzPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighaXx8b1sxXT5pWzBdJiZvWzFdPGlbM10pKXtzLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJnMubGFiZWw8aVsxXSl7cy5sYWJlbD1pWzFdLGk9bzticmVha31pZihpJiZzLmxhYmVsPGlbMl0pe3MubGFiZWw9aVsyXSxzLm9wcy5wdXNoKG8pO2JyZWFrfWlbMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLHMpfWNhdGNoKGUpe289WzYsZV0sbj0wfWZpbmFsbHl7cj1pPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLGFdKX19fSxpPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZuPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtuKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWUoXCIuLi9CYXNlL1RyZWVOb2RlXCIpO2Z1bmN0aW9uIHMoZSx0KXt2YXIgcj10aGlzO3ZvaWQgMD09PWUmJihlPVtdKSx0PXR8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfTt2YXIgcz0wLGE9bmV3IG8uZGVmYXVsdDthLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFjayx0aGlzLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gc30sdGhpcy5lbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09c30sdGhpcy5jbGVhcj1mdW5jdGlvbigpe3M9MCxhLmtleT1hLnZhbHVlPXZvaWQgMCxhLmxlZnRDaGlsZD1hLnJpZ2h0Q2hpbGQ9YS5icm90aGVyPXZvaWQgMH07dmFyIGw9ZnVuY3Rpb24oZSl7aWYoIWV8fHZvaWQgMD09PWUua2V5KXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7cmV0dXJuIGUubGVmdENoaWxkP2woZS5sZWZ0Q2hpbGQpOmV9LHU9ZnVuY3Rpb24oZSl7aWYoIWV8fHZvaWQgMD09PWUua2V5KXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7cmV0dXJuIGUucmlnaHRDaGlsZD91KGUucmlnaHRDaGlsZCk6ZX07dGhpcy5mcm9udD1mdW5jdGlvbigpe2lmKCF0aGlzLmVtcHR5KCkpe3ZhciBlPWwoYSk7aWYodm9pZCAwPT09ZS5rZXl8fHZvaWQgMD09PWUudmFsdWUpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKTtyZXR1cm57a2V5OmUua2V5LHZhbHVlOmUudmFsdWV9fX0sdGhpcy5iYWNrPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZW1wdHkoKSl7dmFyIGU9dShhKTtpZih2b2lkIDA9PT1lLmtleXx8dm9pZCAwPT09ZS52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpO3JldHVybntrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX19fSx0aGlzLmZvckVhY2g9ZnVuY3Rpb24oZSl7dmFyIHQscixuPTA7dHJ5e2Zvcih2YXIgbz1pKHRoaXMpLHM9by5uZXh0KCk7IXMuZG9uZTtzPW8ubmV4dCgpKXtlKHMudmFsdWUsbisrKX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fX0sdGhpcy5nZXRFbGVtZW50QnlQb3M9ZnVuY3Rpb24oZSl7dmFyIHQscjtpZihlPDB8fGU+PXRoaXMuc2l6ZSgpKXRocm93IG5ldyBFcnJvcihcInBvcyBtdXN0IG1vcmUgdGhhbiAwIGFuZCBsZXNzIHRoYW4gc2V0J3Mgc2l6ZVwiKTt2YXIgbj0wO3RyeXtmb3IodmFyIG89aSh0aGlzKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7dmFyIGE9cy52YWx1ZTtpZihuPT09ZSlyZXR1cm4gYTsrK259fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX10aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIEVycm9yXCIpfTt2YXIgYz1mdW5jdGlvbihlLHIpe2lmKGUmJnZvaWQgMCE9PWUua2V5JiZ2b2lkIDAhPT1lLnZhbHVlKXt2YXIgbj10KGUua2V5LHIpO3JldHVybiAwPT09bj97a2V5OmUua2V5LHZhbHVlOmUudmFsdWV9Om48MD9jKGUucmlnaHRDaGlsZCxyKTpjKGUubGVmdENoaWxkLHIpfHx7a2V5OmUua2V5LHZhbHVlOmUudmFsdWV9fX07dGhpcy5sb3dlckJvdW5kPWZ1bmN0aW9uKGUpe3JldHVybiBjKGEsZSl9O3ZhciBoPWZ1bmN0aW9uKGUscil7aWYoZSYmdm9pZCAwIT09ZS5rZXkmJnZvaWQgMCE9PWUudmFsdWUpcmV0dXJuIHQoZS5rZXkscik8PTA/aChlLnJpZ2h0Q2hpbGQscik6aChlLmxlZnRDaGlsZCxyKXx8e2tleTplLmtleSx2YWx1ZTplLnZhbHVlfX07dGhpcy51cHBlckJvdW5kPWZ1bmN0aW9uKGUpe3JldHVybiBoKGEsZSl9O3ZhciBmPWZ1bmN0aW9uKGUscil7aWYoZSYmdm9pZCAwIT09ZS5rZXkmJnZvaWQgMCE9PWUudmFsdWUpe3ZhciBuPXQoZS5rZXkscik7cmV0dXJuIDA9PT1uP3trZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX06bj4wP2YoZS5sZWZ0Q2hpbGQscik6ZihlLnJpZ2h0Q2hpbGQscil8fHtrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX19fTt0aGlzLnJldmVyc2VMb3dlckJvdW5kPWZ1bmN0aW9uKGUpe3JldHVybiBmKGEsZSl9O3ZhciBwPWZ1bmN0aW9uKGUscil7aWYoZSYmdm9pZCAwIT09ZS5rZXkmJnZvaWQgMCE9PWUudmFsdWUpcmV0dXJuIHQoZS5rZXkscik+PTA/cChlLmxlZnRDaGlsZCxyKTpwKGUucmlnaHRDaGlsZCxyKXx8e2tleTplLmtleSx2YWx1ZTplLnZhbHVlfX07dGhpcy5yZXZlcnNlVXBwZXJCb3VuZD1mdW5jdGlvbihlKXtyZXR1cm4gcChhLGUpfTt2YXIgZD1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudDtpZighdCl7aWYoZT09PWEpcmV0dXJuO3Rocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIil9aWYoZS5jb2xvciE9PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQpe3ZhciByPWUuYnJvdGhlcjtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpO2lmKGU9PT10LmxlZnRDaGlsZCl7aWYoci5jb2xvcj09PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQpe3IuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrLHQuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZDt2YXIgbj10LnJvdGF0ZUxlZnQoKTthPT09dCYmKGE9biksZChlKX1lbHNlIGlmKHIuY29sb3I9PT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spaWYoci5yaWdodENoaWxkJiZyLnJpZ2h0Q2hpbGQuY29sb3I9PT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkKXtyLmNvbG9yPXQuY29sb3IsdC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2ssci5yaWdodENoaWxkJiYoci5yaWdodENoaWxkLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFjayk7bj10LnJvdGF0ZUxlZnQoKTthPT09dCYmKGE9biksZS5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t9ZWxzZSBpZihyLnJpZ2h0Q2hpbGQmJnIucmlnaHRDaGlsZC5jb2xvciE9PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFja3x8IXIubGVmdENoaWxkfHxyLmxlZnRDaGlsZC5jb2xvciE9PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQpci5sZWZ0Q2hpbGQmJnIubGVmdENoaWxkLmNvbG9yIT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrfHxyLnJpZ2h0Q2hpbGQmJnIucmlnaHRDaGlsZC5jb2xvciE9PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFja3x8KHIuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCxkKHQpKTtlbHNle3IuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCxyLmxlZnRDaGlsZCYmKHIubGVmdENoaWxkLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFjayk7bj1yLnJvdGF0ZVJpZ2h0KCk7YT09PXImJihhPW4pLGQoZSl9fWVsc2UgaWYoZT09PXQucmlnaHRDaGlsZClpZihyLmNvbG9yPT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCl7ci5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2ssdC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkO249dC5yb3RhdGVSaWdodCgpO2E9PT10JiYoYT1uKSxkKGUpfWVsc2UgaWYoci5jb2xvcj09PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFjaylpZihyLmxlZnRDaGlsZCYmci5sZWZ0Q2hpbGQuY29sb3I9PT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkKXtyLmNvbG9yPXQuY29sb3IsdC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2ssci5sZWZ0Q2hpbGQmJihyLmxlZnRDaGlsZC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spO249dC5yb3RhdGVSaWdodCgpO2E9PT10JiYoYT1uKSxlLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFja31lbHNlIGlmKHIubGVmdENoaWxkJiZyLmxlZnRDaGlsZC5jb2xvciE9PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFja3x8IXIucmlnaHRDaGlsZHx8ci5yaWdodENoaWxkLmNvbG9yIT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZClyLmxlZnRDaGlsZCYmci5sZWZ0Q2hpbGQuY29sb3IhPT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t8fHIucmlnaHRDaGlsZCYmci5yaWdodENoaWxkLmNvbG9yIT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrfHwoci5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkLGQodCkpO2Vsc2V7ci5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkLHIucmlnaHRDaGlsZCYmKHIucmlnaHRDaGlsZC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spO249ci5yb3RhdGVMZWZ0KCk7YT09PXImJihhPW4pLGQoZSl9fWVsc2UgZS5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t9LGc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWU7dC5sZWZ0Q2hpbGR8fHQucmlnaHRDaGlsZDspe2lmKHQucmlnaHRDaGlsZCl7dD1sKHQucmlnaHRDaGlsZCk7dmFyIHI9ZS5rZXk7ZS5rZXk9dC5rZXksdC5rZXk9cjt2YXIgbj1lLnZhbHVlO2UudmFsdWU9dC52YWx1ZSx0LnZhbHVlPW4sZT10fWlmKHQubGVmdENoaWxkKXt0PXUodC5sZWZ0Q2hpbGQpO3I9ZS5rZXk7ZS5rZXk9dC5rZXksdC5rZXk9cjtuPWUudmFsdWU7ZS52YWx1ZT10LnZhbHVlLHQudmFsdWU9bixlPXR9fWQodCksdCYmdC5yZW1vdmUoKSwtLXMsYS5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t9LHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCFlfHx2b2lkIDA9PT1lLmtleSkmJighIXkoZS5sZWZ0Q2hpbGQsdCl8fCghIXQoZSl8fHkoZS5yaWdodENoaWxkLHQpKSl9O3RoaXMuZXJhc2VFbGVtZW50QnlQb3M9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPj1zKXRocm93IG5ldyBFcnJvcihcInBvcyBtdXN0IG1vcmUgdGhhbiAwIGFuZCBsZXNzIHRoYW4gc2V0J3Mgc2l6ZVwiKTt2YXIgdD0wO3koYSxmdW5jdGlvbihyKXtyZXR1cm4gZT09PXQ/KGcociksITApOigrK3QsITEpfSl9LHRoaXMuZXJhc2VFbGVtZW50QnlLZXk9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZW1wdHkoKSl7dmFyIHI9dihhLGUpO3ZvaWQgMCE9PXImJnZvaWQgMCE9PXIua2V5JiYwPT09dChyLmtleSxlKSYmZyhyKX19O3ZhciBiPWZ1bmN0aW9uKGUscil7aWYoIWV8fHZvaWQgMD09PWUua2V5KXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7dmFyIG49dChyLGUua2V5KTtyZXR1cm4gbjwwP2UubGVmdENoaWxkP2IoZS5sZWZ0Q2hpbGQscik6KGUubGVmdENoaWxkPW5ldyBvLmRlZmF1bHQsZS5sZWZ0Q2hpbGQucGFyZW50PWUsZS5sZWZ0Q2hpbGQuYnJvdGhlcj1lLnJpZ2h0Q2hpbGQsZS5yaWdodENoaWxkJiYoZS5yaWdodENoaWxkLmJyb3RoZXI9ZS5sZWZ0Q2hpbGQpLGUubGVmdENoaWxkKTpuPjA/ZS5yaWdodENoaWxkP2IoZS5yaWdodENoaWxkLHIpOihlLnJpZ2h0Q2hpbGQ9bmV3IG8uZGVmYXVsdCxlLnJpZ2h0Q2hpbGQucGFyZW50PWUsZS5yaWdodENoaWxkLmJyb3RoZXI9ZS5sZWZ0Q2hpbGQsZS5sZWZ0Q2hpbGQmJihlLmxlZnRDaGlsZC5icm90aGVyPWUucmlnaHRDaGlsZCksZS5yaWdodENoaWxkKTplfSxtPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50O2lmKCF0KXtpZihlPT09YSlyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKX1pZih0LmNvbG9yIT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrJiZ0LmNvbG9yPT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCl7dmFyIHI9dC5icm90aGVyLG49dC5wYXJlbnQ7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKTtpZihyJiZyLmNvbG9yPT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZClyLmNvbG9yPXQuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrLG4uY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCxtKG4pO2Vsc2UgaWYoIXJ8fHIuY29sb3I9PT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spaWYodD09PW4ubGVmdENoaWxkKXtpZihlPT09dC5sZWZ0Q2hpbGQpe3QuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrLG4uY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZDt2YXIgaT1uLnJvdGF0ZVJpZ2h0KCk7bj09PWEmJihhPWkpfWVsc2UgaWYoZT09PXQucmlnaHRDaGlsZCl7aT10LnJvdGF0ZUxlZnQoKTtuPT09YSYmKGE9aSksbSh0KX19ZWxzZSBpZih0PT09bi5yaWdodENoaWxkKWlmKGU9PT10LmxlZnRDaGlsZCl7aT10LnJvdGF0ZVJpZ2h0KCk7bj09PWEmJihhPWkpLG0odCl9ZWxzZSBpZihlPT09dC5yaWdodENoaWxkKXt0LmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFjayxuLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQ7aT1uLnJvdGF0ZUxlZnQoKTtuPT09YSYmKGE9aSl9fX07dGhpcy5zZXRFbGVtZW50PWZ1bmN0aW9uKGUscil7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwidG8gYXZvaWQgc29tZSB1bm5lY2Vzc2FyeSBlcnJvcnMsIHdlIGRvbid0IHN1Z2dlc3QgeW91IGluc2VydCBudWxsIG9yIHVuZGVmaW5lZCBoZXJlXCIpO2lmKG51bGwhPT1yJiZ2b2lkIDAhPT1yKXtpZih0aGlzLmVtcHR5KCkpcmV0dXJuKytzLGEua2V5PWUsYS52YWx1ZT1yLHZvaWQoYS5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spO3ZhciBuPWIoYSxlKTt2b2lkIDA9PT1uLmtleXx8MCE9PXQobi5rZXksZSk/KCsrcyxuLmtleT1lLG4udmFsdWU9cixtKG4pLGEuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrKTpuLnZhbHVlPXJ9ZWxzZSB0aGlzLmVyYXNlRWxlbWVudEJ5S2V5KGUpfTt2YXIgdj1mdW5jdGlvbihlLHIpe2lmKGUmJnZvaWQgMCE9PWUua2V5KXt2YXIgbj10KHIsZS5rZXkpO3JldHVybiBuPDA/dihlLmxlZnRDaGlsZCxyKTpuPjA/dihlLnJpZ2h0Q2hpbGQscik6ZX19O3RoaXMuZmluZD1mdW5jdGlvbihlKXtyZXR1cm4hIXYoYSxlKX0sdGhpcy5nZXRFbGVtZW50QnlLZXk9ZnVuY3Rpb24oZSl7dmFyIHQ9dihhLGUpO2lmKHZvaWQgMD09PShudWxsPT09dHx8dm9pZCAwPT09dD92b2lkIDA6dC5rZXkpfHx2b2lkIDA9PT0obnVsbD09PXR8fHZvaWQgMD09PXQ/dm9pZCAwOnQudmFsdWUpKXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7cmV0dXJuIHQudmFsdWV9LHRoaXMudW5pb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9ZS5rZXksbj1lLnZhbHVlO3JldHVybiB0LnNldEVsZW1lbnQocixuKX0pfSx0aGlzLmdldEhlaWdodD1mdW5jdGlvbigpe2lmKHRoaXMuZW1wdHkoKSlyZXR1cm4gMDt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gdD9NYXRoLm1heChlKHQubGVmdENoaWxkKSxlKHQucmlnaHRDaGlsZCkpKzE6MX07cmV0dXJuIGUoYSl9O3ZhciB3PWZ1bmN0aW9uKGUpe3JldHVybiBuKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZSYmdm9pZCAwIT09ZS5rZXkmJnZvaWQgMCE9PWUudmFsdWU/WzUsaSh3KGUubGVmdENoaWxkKSldOlsyXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFs0LHtrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX1dO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzUsaSh3KGUucmlnaHRDaGlsZCkpXTtjYXNlIDM6cmV0dXJuIHQuc2VudCgpLFsyXX19KX07dGhpc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHcoYSl9LGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmtleSxuPWUudmFsdWU7cmV0dXJuIHIuc2V0RWxlbWVudCh0LG4pfSksT2JqZWN0LmZyZWV6ZSh0aGlzKX1PYmplY3QuZnJlZXplKHMpLHIuZGVmYXVsdD1zfSx7XCIuLi9CYXNlL1RyZWVOb2RlXCI6MjV9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXt2b2lkIDA9PT1lJiYoZT1bXSksdD10fHxmdW5jdGlvbihlLHQpe3JldHVybiBlPnQ/LTE6ZTx0PzE6MH07dmFyIHI9W107ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiByLnB1c2goZSl9KTt2YXIgbj1yLmxlbmd0aCxpPWZ1bmN0aW9uKGUsdCl7aWYoZTwwfHxlPj1uKXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7aWYodDwwfHx0Pj1uKXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7dmFyIGk9cltlXTtyW2VdPXJbdF0sclt0XT1pfSxvPWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49bil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpO3ZhciBvPTIqZSsxLHM9MiplKzI7bzxuJiZ0KHJbZV0scltvXSk+MCYmaShlLG8pLHM8biYmdChyW2VdLHJbc10pPjAmJmkoZSxzKX07IWZ1bmN0aW9uKCl7Zm9yKHZhciBlPU1hdGguZmxvb3IoKG4tMSkvMik7ZT49MDstLWUpZm9yKHZhciBvPWUscz0yKm8rMTtzPG47KXt2YXIgYT1zKzEsbD1zO2lmKGE8biYmdChyW3NdLHJbYV0pPjAmJihsPWEpLHQocltvXSxyW2xdKTw9MClicmVhaztpKG8sbCkscz0yKihvPWwpKzF9fSgpLHRoaXMuc2l6ZT1mdW5jdGlvbigpe3JldHVybiBufSx0aGlzLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1ufSx0aGlzLmNsZWFyPWZ1bmN0aW9uKCl7bj0wLHIubGVuZ3RoPTB9LHRoaXMucHVzaD1mdW5jdGlvbihlKXtpZihyLnB1c2goZSksMSE9PSsrbilmb3IodmFyIGk9bi0xO2k+MDspe3ZhciBzPU1hdGguZmxvb3IoKGktMSkvMik7aWYodChyW3NdLGUpPD0wKWJyZWFrO28ocyksaT1zfX0sdGhpcy5wb3A9ZnVuY3Rpb24oKXtpZighdGhpcy5lbXB0eSgpKWlmKDEhPT10aGlzLnNpemUoKSl7dmFyIGU9cltuLTFdOy0tbjtmb3IodmFyIGk9MDtpPHRoaXMuc2l6ZSgpOyl7dmFyIG89MippKzEscz0yKmkrMjtpZihvPj10aGlzLnNpemUoKSlicmVhazt2YXIgYT1vO2lmKHM8dGhpcy5zaXplKCkmJnQocltvXSxyW3NdKT4wJiYoYT1zKSx0KHJbYV0sZSk+PTApYnJlYWs7cltpXT1yW2FdLGk9YX1yW2ldPWV9ZWxzZS0tbn0sdGhpcy50b3A9ZnVuY3Rpb24oKXtyZXR1cm4gclswXX0sT2JqZWN0LmZyZWV6ZSh0aGlzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZnJlZXplKG4pLHIuZGVmYXVsdD1ufSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1lKFwiLi4vTGlua0xpc3QvTGlua0xpc3RcIik7ZnVuY3Rpb24gaShlKXt2b2lkIDA9PT1lJiYoZT1bXSk7dmFyIHQ9bmV3IG4uZGVmYXVsdChlKTt0aGlzLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5zaXplKCl9LHRoaXMuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5lbXB0eSgpfSx0aGlzLmNsZWFyPWZ1bmN0aW9uKCl7dC5jbGVhcigpfSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dC5wdXNoQmFjayhlKX0sdGhpcy5wb3A9ZnVuY3Rpb24oKXt0LnBvcEZyb250KCl9LHRoaXMuZnJvbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9udCgpfSxPYmplY3QuZnJlZXplKHRoaXMpfU9iamVjdC5mcmVlemUoaSksci5kZWZhdWx0PWl9LHtcIi4uL0xpbmtMaXN0L0xpbmtMaXN0XCI6Mjl9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLG8scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBhKG8pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsbiYmKGk9MiZvWzBdP24ucmV0dXJuOm9bMF0/bi50aHJvd3x8KChpPW4ucmV0dXJuKSYmaS5jYWxsKG4pLDApOm4ubmV4dCkmJiEoaT1pLmNhbGwobixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gobj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT0oaT1zLnRyeXMpLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKSYmKDY9PT1vWzBdfHwyPT09b1swXSkpe3M9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe3MubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmcy5sYWJlbDxpWzFdKXtzLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJnMubGFiZWw8aVsyXSl7cy5sYWJlbD1pWzJdLHMub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUscyl9Y2F0Y2goZSl7bz1bNixlXSxuPTB9ZmluYWxseXtyPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sYV0pfX19LGk9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLG49MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZShcIi4uL0Jhc2UvVHJlZU5vZGVcIik7ZnVuY3Rpb24gcyhlLHQpe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9W10pLHQ9dHx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9O3ZhciBzPTAsYT1uZXcgby5kZWZhdWx0O2EuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrLHRoaXMuc2l6ZT1mdW5jdGlvbigpe3JldHVybiBzfSx0aGlzLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1zfSx0aGlzLmNsZWFyPWZ1bmN0aW9uKCl7cz0wLGEua2V5PXZvaWQgMCxhLmxlZnRDaGlsZD1hLnJpZ2h0Q2hpbGQ9YS5icm90aGVyPWEucGFyZW50PXZvaWQgMCxhLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFja307dmFyIGw9ZnVuY3Rpb24oZSl7aWYoIWV8fHZvaWQgMD09PWUua2V5KXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7cmV0dXJuIGUubGVmdENoaWxkP2woZS5sZWZ0Q2hpbGQpOmV9LHU9ZnVuY3Rpb24oZSl7aWYoIWV8fHZvaWQgMD09PWUua2V5KXRocm93IG5ldyBFcnJvcihcInVua25vd24gZXJyb3JcIik7cmV0dXJuIGUucmlnaHRDaGlsZD91KGUucmlnaHRDaGlsZCk6ZX07dGhpcy5mcm9udD1mdW5jdGlvbigpe2lmKCF0aGlzLmVtcHR5KCkpcmV0dXJuIGwoYSkua2V5fSx0aGlzLmJhY2s9ZnVuY3Rpb24oKXtpZighdGhpcy5lbXB0eSgpKXJldHVybiB1KGEpLmtleX0sdGhpcy5mb3JFYWNoPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbj0wO3RyeXtmb3IodmFyIG89aSh0aGlzKSxzPW8ubmV4dCgpOyFzLmRvbmU7cz1vLm5leHQoKSl7ZShzLnZhbHVlLG4rKyl9fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX19LHRoaXMuZ2V0RWxlbWVudEJ5UG9zPWZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZTwwfHxlPj10aGlzLnNpemUoKSl0aHJvdyBuZXcgRXJyb3IoXCJwb3MgbXVzdCBtb3JlIHRoYW4gMCBhbmQgbGVzcyB0aGFuIHNldCdzIHNpemVcIik7dmFyIG49MDt0cnl7Zm9yKHZhciBvPWkodGhpcykscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBhPXMudmFsdWU7aWYobj09PWUpcmV0dXJuIGE7KytufX1jYXRjaChlKXt0PXtlcnJvcjplfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19dGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKX07dmFyIGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnQ7aWYoIXQpe2lmKGU9PT1hKXJldHVybjt0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpfWlmKGUuY29sb3IhPT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkKXt2YXIgcj1lLmJyb3RoZXI7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKTtpZihlPT09dC5sZWZ0Q2hpbGQpe2lmKHIuY29sb3I9PT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkKXtyLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFjayx0LmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQ7dmFyIG49dC5yb3RhdGVMZWZ0KCk7YT09PXQmJihhPW4pLGMoZSl9ZWxzZSBpZihyLmNvbG9yPT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrKWlmKHIucmlnaHRDaGlsZCYmci5yaWdodENoaWxkLmNvbG9yPT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCl7ci5jb2xvcj10LmNvbG9yLHQuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrLHIucmlnaHRDaGlsZCYmKHIucmlnaHRDaGlsZC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spO249dC5yb3RhdGVMZWZ0KCk7YT09PXQmJihhPW4pLGUuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrfWVsc2UgaWYoci5yaWdodENoaWxkJiZyLnJpZ2h0Q2hpbGQuY29sb3IhPT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t8fCFyLmxlZnRDaGlsZHx8ci5sZWZ0Q2hpbGQuY29sb3IhPT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkKXIubGVmdENoaWxkJiZyLmxlZnRDaGlsZC5jb2xvciE9PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFja3x8ci5yaWdodENoaWxkJiZyLnJpZ2h0Q2hpbGQuY29sb3IhPT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t8fChyLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQsYyh0KSk7ZWxzZXtyLmNvbG9yPW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQsci5sZWZ0Q2hpbGQmJihyLmxlZnRDaGlsZC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spO249ci5yb3RhdGVSaWdodCgpO2E9PT1yJiYoYT1uKSxjKGUpfX1lbHNlIGlmKGU9PT10LnJpZ2h0Q2hpbGQpaWYoci5jb2xvcj09PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQpe3IuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrLHQuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZDtuPXQucm90YXRlUmlnaHQoKTthPT09dCYmKGE9biksYyhlKX1lbHNlIGlmKHIuY29sb3I9PT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spaWYoci5sZWZ0Q2hpbGQmJnIubGVmdENoaWxkLmNvbG9yPT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCl7ci5jb2xvcj10LmNvbG9yLHQuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrLHIubGVmdENoaWxkJiYoci5sZWZ0Q2hpbGQuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrKTtuPXQucm90YXRlUmlnaHQoKTthPT09dCYmKGE9biksZS5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t9ZWxzZSBpZihyLmxlZnRDaGlsZCYmci5sZWZ0Q2hpbGQuY29sb3IhPT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t8fCFyLnJpZ2h0Q2hpbGR8fHIucmlnaHRDaGlsZC5jb2xvciE9PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5yZWQpci5sZWZ0Q2hpbGQmJnIubGVmdENoaWxkLmNvbG9yIT09by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrfHxyLnJpZ2h0Q2hpbGQmJnIucmlnaHRDaGlsZC5jb2xvciE9PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFja3x8KHIuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCxjKHQpKTtlbHNle3IuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZCxyLnJpZ2h0Q2hpbGQmJihyLnJpZ2h0Q2hpbGQuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrKTtuPXIucm90YXRlTGVmdCgpO2E9PT1yJiYoYT1uKSxjKGUpfX1lbHNlIGUuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrfSxoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lO3QubGVmdENoaWxkfHx0LnJpZ2h0Q2hpbGQ7KXtpZih0LnJpZ2h0Q2hpbGQpe3Q9bCh0LnJpZ2h0Q2hpbGQpO3ZhciByPWUua2V5O2Uua2V5PXQua2V5LHQua2V5PXIsZT10fWlmKHQubGVmdENoaWxkKXt0PXUodC5sZWZ0Q2hpbGQpO3I9ZS5rZXk7ZS5rZXk9dC5rZXksdC5rZXk9cixlPXR9fWModCksdCYmdC5yZW1vdmUoKSwtLXMsYS5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2t9LGY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCFlfHx2b2lkIDA9PT1lLmtleSkmJighIWYoZS5sZWZ0Q2hpbGQsdCl8fCghIXQoZSl8fGYoZS5yaWdodENoaWxkLHQpKSl9O3RoaXMuZXJhc2VFbGVtZW50QnlQb3M9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPj1zKXRocm93IG5ldyBFcnJvcihcInBvcyBtdXN0IG1vcmUgdGhhbiAwIGFuZCBsZXNzIHRoYW4gc2V0J3Mgc2l6ZVwiKTt2YXIgdD0wO2YoYSxmdW5jdGlvbihyKXtyZXR1cm4gZT09PXQ/KGgociksITApOigrK3QsITEpfSl9LHRoaXMuZXJhc2VFbGVtZW50QnlWYWx1ZT1mdW5jdGlvbihlKXtpZighdGhpcy5lbXB0eSgpKXt2YXIgcj1nKGEsZSk7dm9pZCAwIT09ciYmdm9pZCAwIT09ci5rZXkmJjA9PT10KHIua2V5LGUpJiZoKHIpfX07dmFyIHA9ZnVuY3Rpb24oZSxyKXtpZighZXx8dm9pZCAwPT09ZS5rZXkpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBlcnJvclwiKTt2YXIgbj10KHIsZS5rZXkpO3JldHVybiBuPDA/ZS5sZWZ0Q2hpbGQ/cChlLmxlZnRDaGlsZCxyKTooZS5sZWZ0Q2hpbGQ9bmV3IG8uZGVmYXVsdCxlLmxlZnRDaGlsZC5wYXJlbnQ9ZSxlLmxlZnRDaGlsZC5icm90aGVyPWUucmlnaHRDaGlsZCxlLnJpZ2h0Q2hpbGQmJihlLnJpZ2h0Q2hpbGQuYnJvdGhlcj1lLmxlZnRDaGlsZCksZS5sZWZ0Q2hpbGQpOm4+MD9lLnJpZ2h0Q2hpbGQ/cChlLnJpZ2h0Q2hpbGQscik6KGUucmlnaHRDaGlsZD1uZXcgby5kZWZhdWx0LGUucmlnaHRDaGlsZC5wYXJlbnQ9ZSxlLnJpZ2h0Q2hpbGQuYnJvdGhlcj1lLmxlZnRDaGlsZCxlLmxlZnRDaGlsZCYmKGUubGVmdENoaWxkLmJyb3RoZXI9ZS5yaWdodENoaWxkKSxlLnJpZ2h0Q2hpbGQpOmV9LGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnQ7aWYoIXQpe2lmKGU9PT1hKXJldHVybjt0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpfWlmKHQuY29sb3IhPT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2smJnQuY29sb3I9PT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkKXt2YXIgcj10LmJyb3RoZXIsbj10LnBhcmVudDtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVycm9yXCIpO2lmKHImJnIuY29sb3I9PT1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkKXIuY29sb3I9dC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2ssbi5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkLGQobik7ZWxzZSBpZighcnx8ci5jb2xvcj09PW8uZGVmYXVsdC5UcmVlTm9kZUNvbG9yVHlwZS5ibGFjaylpZih0PT09bi5sZWZ0Q2hpbGQpe2lmKGU9PT10LmxlZnRDaGlsZCl7dC5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2ssbi5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUucmVkO3ZhciBpPW4ucm90YXRlUmlnaHQoKTtuPT09YSYmKGE9aSl9ZWxzZSBpZihlPT09dC5yaWdodENoaWxkKXtpPXQucm90YXRlTGVmdCgpO249PT1hJiYoYT1pKSxkKHQpfX1lbHNlIGlmKHQ9PT1uLnJpZ2h0Q2hpbGQpaWYoZT09PXQubGVmdENoaWxkKXtpPXQucm90YXRlUmlnaHQoKTtuPT09YSYmKGE9aSksZCh0KX1lbHNlIGlmKGU9PT10LnJpZ2h0Q2hpbGQpe3QuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrLG4uY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLnJlZDtpPW4ucm90YXRlTGVmdCgpO249PT1hJiYoYT1pKX19fTt0aGlzLmluc2VydD1mdW5jdGlvbihlKXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJ0byBhdm9pZCBzb21lIHVubmVjZXNzYXJ5IGVycm9ycywgd2UgZG9uJ3Qgc3VnZ2VzdCB5b3UgaW5zZXJ0IG51bGwgb3IgdW5kZWZpbmVkIGhlcmVcIik7aWYodGhpcy5lbXB0eSgpKXJldHVybisrcyxhLmtleT1lLHZvaWQoYS5jb2xvcj1vLmRlZmF1bHQuVHJlZU5vZGVDb2xvclR5cGUuYmxhY2spO3ZhciByPXAoYSxlKTt2b2lkIDAhPT1yLmtleSYmMD09PXQoci5rZXksZSl8fCgrK3Msci5rZXk9ZSxkKHIpLGEuY29sb3I9by5kZWZhdWx0LlRyZWVOb2RlQ29sb3JUeXBlLmJsYWNrKX07dmFyIGc9ZnVuY3Rpb24oZSxyKXtpZihlJiZ2b2lkIDAhPT1lLmtleSl7dmFyIG49dChyLGUua2V5KTtyZXR1cm4gbjwwP2coZS5sZWZ0Q2hpbGQscik6bj4wP2coZS5yaWdodENoaWxkLHIpOmV9fTt0aGlzLmZpbmQ9ZnVuY3Rpb24oZSl7dmFyIHI9ZyhhLGUpO3JldHVybiB2b2lkIDAhPT1yJiZ2b2lkIDAhPT1yLmtleSYmMD09PXQoci5rZXksZSl9O3ZhciB5PWZ1bmN0aW9uKGUscil7aWYoZSYmdm9pZCAwIT09ZS5rZXkpe3ZhciBuPXQoZS5rZXkscik7aWYoMD09PW4pcmV0dXJuIGUua2V5O2lmKG48MClyZXR1cm4geShlLnJpZ2h0Q2hpbGQscik7dmFyIGk9eShlLmxlZnRDaGlsZCxyKTtyZXR1cm4gdm9pZCAwIT09aT9pOmUua2V5fX07dGhpcy5sb3dlckJvdW5kPWZ1bmN0aW9uKGUpe3JldHVybiB5KGEsZSl9O3ZhciBiPWZ1bmN0aW9uKGUscil7aWYoZSYmdm9pZCAwIT09ZS5rZXkpe2lmKHQoZS5rZXkscik8PTApcmV0dXJuIGIoZS5yaWdodENoaWxkLHIpO3ZhciBuPWIoZS5sZWZ0Q2hpbGQscik7cmV0dXJuIHZvaWQgMCE9PW4/bjplLmtleX19O3RoaXMudXBwZXJCb3VuZD1mdW5jdGlvbihlKXtyZXR1cm4gYihhLGUpfTt2YXIgbT1mdW5jdGlvbihlLHIpe2lmKGUmJnZvaWQgMCE9PWUua2V5KXt2YXIgbj10KGUua2V5LHIpO2lmKDA9PT1uKXJldHVybiBlLmtleTtpZihuPjApcmV0dXJuIG0oZS5sZWZ0Q2hpbGQscik7dmFyIGk9bShlLnJpZ2h0Q2hpbGQscik7cmV0dXJuIHZvaWQgMCE9PWk/aTplLmtleX19O3RoaXMucmV2ZXJzZUxvd2VyQm91bmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG0oYSxlKX07dmFyIHY9ZnVuY3Rpb24oZSxyKXtpZihlJiZ2b2lkIDAhPT1lLmtleSl7aWYodChlLmtleSxyKT49MClyZXR1cm4gdihlLmxlZnRDaGlsZCxyKTt2YXIgbj12KGUucmlnaHRDaGlsZCxyKTtyZXR1cm4gdm9pZCAwIT09bj9uOmUua2V5fX07dGhpcy5yZXZlcnNlVXBwZXJCb3VuZD1mdW5jdGlvbihlKXtyZXR1cm4gdihhLGUpfSx0aGlzLnVuaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lmluc2VydChlKX0pfSx0aGlzLmdldEhlaWdodD1mdW5jdGlvbigpe2lmKHRoaXMuZW1wdHkoKSlyZXR1cm4gMDt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gdD9NYXRoLm1heChlKHQubGVmdENoaWxkKSxlKHQucmlnaHRDaGlsZCkpKzE6MX07cmV0dXJuIGUoYSl9O3ZhciB3PWZ1bmN0aW9uKGUpe3JldHVybiBuKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZSYmdm9pZCAwIT09ZS5rZXk/WzUsaSh3KGUubGVmdENoaWxkKSldOlsyXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFs0LGUua2V5XTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFs1LGkodyhlLnJpZ2h0Q2hpbGQpKV07Y2FzZSAzOnJldHVybiB0LnNlbnQoKSxbMl19fSl9O3RoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB3KGEpfSxlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHIuaW5zZXJ0KGUpfSksT2JqZWN0LmZyZWV6ZSh0aGlzKX1PYmplY3QuZnJlZXplKHMpLHIuZGVmYXVsdD1zfSx7XCIuLi9CYXNlL1RyZWVOb2RlXCI6MjV9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1lJiYoZT1bXSk7dmFyIHI9MCxuPVtdO3RoaXMuc2l6ZT1mdW5jdGlvbigpe3JldHVybiByfSx0aGlzLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1yfSx0aGlzLmNsZWFyPWZ1bmN0aW9uKCl7cj0wLG4ubGVuZ3RoPTB9LHRoaXMucHVzaD1mdW5jdGlvbihlKXtuLnB1c2goZSksKytyfSx0aGlzLnBvcD1mdW5jdGlvbigpe24ucG9wKCkscj4wJiYtLXJ9LHRoaXMudG9wPWZ1bmN0aW9uKCl7cmV0dXJuIG5bci0xXX0sZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2goZSl9KSxPYmplY3QuZnJlZXplKHRoaXMpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5mcmVlemUobiksci5kZWZhdWx0PW59LHt9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLG8scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBhKG8pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihyPTEsbiYmKGk9MiZvWzBdP24ucmV0dXJuOm9bMF0/bi50aHJvd3x8KChpPW4ucmV0dXJuKSYmaS5jYWxsKG4pLDApOm4ubmV4dCkmJiEoaT1pLmNhbGwobixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gobj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKyssbj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT0oaT1zLnRyeXMpLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKSYmKDY9PT1vWzBdfHwyPT09b1swXSkpe3M9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe3MubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmcy5sYWJlbDxpWzFdKXtzLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJnMubGFiZWw8aVsyXSl7cy5sYWJlbD1pWzJdLHMub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUscyl9Y2F0Y2goZSl7bz1bNixlXSxuPTB9ZmluYWxseXtyPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sYV0pfX19LGk9dGhpcyYmdGhpcy5fX3JlYWR8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIGU7dmFyIG4saSxvPXIuY2FsbChlKSxzPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKG49by5uZXh0KCkpLmRvbmU7KXMucHVzaChuLnZhbHVlKX1jYXRjaChlKXtpPXtlcnJvcjplfX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19cmV0dXJuIHN9LG89dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5fHxmdW5jdGlvbihlLHQscil7aWYocnx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuLGk9MCxvPXQubGVuZ3RoO2k8bztpKyspIW4mJmkgaW4gdHx8KG58fChuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCxpKSksbltpXT10W2ldKTtyZXR1cm4gZS5jb25jYXQobnx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfSxzPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxuPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZuPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtuKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O2Z1bmN0aW9uIGEoZSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1lJiYoZT1bXSk7dmFyIHI9MCxhPVtdO3RoaXMuc2l6ZT1mdW5jdGlvbigpe3JldHVybiByfSx0aGlzLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1yfSx0aGlzLmNsZWFyPWZ1bmN0aW9uKCl7cj0wLGEubGVuZ3RoPTB9LHRoaXMuZnJvbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5lbXB0eSgpKXJldHVybiBhWzBdfSx0aGlzLmJhY2s9ZnVuY3Rpb24oKXtpZighdGhpcy5lbXB0eSgpKXJldHVybiBhW3ItMV19LHRoaXMuZm9yRWFjaD1mdW5jdGlvbihlKXthLmZvckVhY2goZSl9LHRoaXMuZ2V0RWxlbWVudEJ5UG9zPWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49cil0aHJvdyBuZXcgRXJyb3IoXCJwb3MgbXVzdCBtb3JlIHRoYW4gMCBhbmQgbGVzcyB0aGFuIHZlY3RvcidzIHNpemVcIik7cmV0dXJuIGFbZV19LHRoaXMuZXJhc2VFbGVtZW50QnlQb3M9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPj1yKXRocm93IG5ldyBFcnJvcihcInBvcyBtdXN0IG1vcmUgdGhhbiAwIGFuZCBsZXNzIHRoYW4gdmVjdG9yJ3Mgc2l6ZVwiKTtmb3IodmFyIHQ9ZTt0PHItMTsrK3QpYVt0XT1hW3QrMV07dGhpcy5wb3BCYWNrKCl9LHRoaXMuZXJhc2VFbGVtZW50QnlWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD1bXTt0aGlzLmZvckVhY2goZnVuY3Rpb24ocil7ciE9PWUmJnQucHVzaChyKX0pLHQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2FbdF09ZX0pO2Zvcih2YXIgbj10Lmxlbmd0aDtyPm47KXRoaXMucG9wQmFjaygpfSx0aGlzLnB1c2hCYWNrPWZ1bmN0aW9uKGUpe2EucHVzaChlKSwrK3J9LHRoaXMucG9wQmFjaz1mdW5jdGlvbigpe2EucG9wKCkscj4wJiYtLXJ9LHRoaXMuc2V0RWxlbWVudEJ5UG9zPWZ1bmN0aW9uKGUsdCl7aWYoZTwwfHxlPj1yKXRocm93IG5ldyBFcnJvcihcInBvcyBtdXN0IG1vcmUgdGhhbiAwIGFuZCBsZXNzIHRoYW4gdmVjdG9yJ3Mgc2l6ZVwiKTthW2VdPXR9LHRoaXMuaW5zZXJ0PWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT1uJiYobj0xKSxlPDB8fGU+cil0aHJvdyBuZXcgRXJyb3IoXCJwb3MgbXVzdCBtb3JlIHRoYW4gMCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHZlY3RvcidzIHNpemVcIik7YS5zcGxpY2UuYXBwbHkoYSxvKFtlLDBdLGkobmV3IEFycmF5KG4pLmZpbGwodCkpLCExKSkscis9bn0sdGhpcy5maW5kPWZ1bmN0aW9uKGUpe3JldHVybiBhLmluY2x1ZGVzKGUpfSx0aGlzLnJldmVyc2U9ZnVuY3Rpb24oKXthLnJldmVyc2UoKX0sdGhpcy51bmlxdWU9ZnVuY3Rpb24oKXt2YXIgZSx0PVtdO3RoaXMuZm9yRWFjaChmdW5jdGlvbihyLG4pezAhPT1uJiZyPT09ZXx8KHQucHVzaChyKSxlPXIpfSksdC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7YVt0XT1lfSk7Zm9yKHZhciBuPXQubGVuZ3RoO3I+bjspdGhpcy5wb3BCYWNrKCl9LHRoaXMuc29ydD1mdW5jdGlvbihlKXthLnNvcnQoZSl9LHRoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuKHRoaXMsZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNSxzKGEpXTtjYXNlIDE6cmV0dXJuWzIsZS5zZW50KCldfX0pfSgpfSxlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQucHVzaEJhY2soZSl9KSxPYmplY3QuZnJlZXplKHRoaXMpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5mcmVlemUoYSksci5kZWZhdWx0PWF9LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuSGFzaE1hcD1yLkhhc2hTZXQ9ci5NYXA9ci5TZXQ9ci5Qcmlvcml0eVF1ZXVlPXIuRGVxdWU9ci5MaW5rTGlzdD1yLlF1ZXVlPXIuU3RhY2s9ci5WZWN0b3I9dm9pZCAwO3ZhciBuPWUoXCIuL1ZlY3Rvci9WZWN0b3JcIik7ci5WZWN0b3I9bi5kZWZhdWx0O3ZhciBpPWUoXCIuL1N0YWNrL1N0YWNrXCIpO3IuU3RhY2s9aS5kZWZhdWx0O3ZhciBvPWUoXCIuL1F1ZXVlL1F1ZXVlXCIpO3IuUXVldWU9by5kZWZhdWx0O3ZhciBzPWUoXCIuL0xpbmtMaXN0L0xpbmtMaXN0XCIpO3IuTGlua0xpc3Q9cy5kZWZhdWx0O3ZhciBhPWUoXCIuL0RlcXVlL0RlcXVlXCIpO3IuRGVxdWU9YS5kZWZhdWx0O3ZhciBsPWUoXCIuL1ByaW9yaXR5UXVldWUvUHJpb3JpdHlRdWV1ZVwiKTtyLlByaW9yaXR5UXVldWU9bC5kZWZhdWx0O3ZhciB1PWUoXCIuL1NldC9TZXRcIik7ci5TZXQ9dS5kZWZhdWx0O3ZhciBjPWUoXCIuL01hcC9NYXBcIik7ci5NYXA9Yy5kZWZhdWx0O3ZhciBoPWUoXCIuL0hhc2hTZXQvSGFzaFNldFwiKTtyLkhhc2hTZXQ9aC5kZWZhdWx0O3ZhciBmPWUoXCIuL0hhc2hNYXAvSGFzaE1hcFwiKTtyLkhhc2hNYXA9Zi5kZWZhdWx0fSx7XCIuL0RlcXVlL0RlcXVlXCI6MjYsXCIuL0hhc2hNYXAvSGFzaE1hcFwiOjI3LFwiLi9IYXNoU2V0L0hhc2hTZXRcIjoyOCxcIi4vTGlua0xpc3QvTGlua0xpc3RcIjoyOSxcIi4vTWFwL01hcFwiOjMwLFwiLi9Qcmlvcml0eVF1ZXVlL1ByaW9yaXR5UXVldWVcIjozMSxcIi4vUXVldWUvUXVldWVcIjozMixcIi4vU2V0L1NldFwiOjMzLFwiLi9TdGFjay9TdGFja1wiOjM0LFwiLi9WZWN0b3IvVmVjdG9yXCI6MzV9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IG49ZShcInlhbGxpc3RcIiksaT1TeW1ib2woXCJtYXhcIiksbz1TeW1ib2woXCJsZW5ndGhcIikscz1TeW1ib2woXCJsZW5ndGhDYWxjdWxhdG9yXCIpLGE9U3ltYm9sKFwiYWxsb3dTdGFsZVwiKSxsPVN5bWJvbChcIm1heEFnZVwiKSx1PVN5bWJvbChcImRpc3Bvc2VcIiksYz1TeW1ib2woXCJub0Rpc3Bvc2VPblNldFwiKSxoPVN5bWJvbChcImxydUxpc3RcIiksZj1TeW1ib2woXCJjYWNoZVwiKSxwPVN5bWJvbChcInVwZGF0ZUFnZU9uR2V0XCIpLGQ9KCk9PjE7Y29uc3QgZz0oZSx0LHIpPT57Y29uc3Qgbj1lW2ZdLmdldCh0KTtpZihuKXtjb25zdCB0PW4udmFsdWU7aWYoeShlLHQpKXtpZihtKGUsbiksIWVbYV0pcmV0dXJufWVsc2UgciYmKGVbcF0mJihuLnZhbHVlLm5vdz1EYXRlLm5vdygpKSxlW2hdLnVuc2hpZnROb2RlKG4pKTtyZXR1cm4gdC52YWx1ZX19LHk9KGUsdCk9PntpZighdHx8IXQubWF4QWdlJiYhZVtsXSlyZXR1cm4hMTtjb25zdCByPURhdGUubm93KCktdC5ub3c7cmV0dXJuIHQubWF4QWdlP3I+dC5tYXhBZ2U6ZVtsXSYmcj5lW2xdfSxiPWU9PntpZihlW29dPmVbaV0pZm9yKGxldCB0PWVbaF0udGFpbDtlW29dPmVbaV0mJm51bGwhPT10Oyl7Y29uc3Qgcj10LnByZXY7bShlLHQpLHQ9cn19LG09KGUsdCk9PntpZih0KXtjb25zdCByPXQudmFsdWU7ZVt1XSYmZVt1XShyLmtleSxyLnZhbHVlKSxlW29dLT1yLmxlbmd0aCxlW2ZdLmRlbGV0ZShyLmtleSksZVtoXS5yZW1vdmVOb2RlKHQpfX07Y2xhc3Mgdntjb25zdHJ1Y3RvcihlLHQscixuLGkpe3RoaXMua2V5PWUsdGhpcy52YWx1ZT10LHRoaXMubGVuZ3RoPXIsdGhpcy5ub3c9bix0aGlzLm1heEFnZT1pfHwwfX1jb25zdCB3PShlLHQscixuKT0+e2xldCBpPXIudmFsdWU7eShlLGkpJiYobShlLHIpLGVbYV18fChpPXZvaWQgMCkpLGkmJnQuY2FsbChuLGkudmFsdWUsaS5rZXksZSl9O3QuZXhwb3J0cz1jbGFzc3tjb25zdHJ1Y3RvcihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSYmKGU9e21heDplfSksZXx8KGU9e30pLGUubWF4JiYoXCJudW1iZXJcIiE9dHlwZW9mIGUubWF4fHxlLm1heDwwKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibWF4IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyXCIpO3RoaXNbaV09ZS5tYXh8fDEvMDtjb25zdCB0PWUubGVuZ3RofHxkO2lmKHRoaXNbc109XCJmdW5jdGlvblwiIT10eXBlb2YgdD9kOnQsdGhpc1thXT1lLnN0YWxlfHwhMSxlLm1heEFnZSYmXCJudW1iZXJcIiE9dHlwZW9mIGUubWF4QWdlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtYXhBZ2UgbXVzdCBiZSBhIG51bWJlclwiKTt0aGlzW2xdPWUubWF4QWdlfHwwLHRoaXNbdV09ZS5kaXNwb3NlLHRoaXNbY109ZS5ub0Rpc3Bvc2VPblNldHx8ITEsdGhpc1twXT1lLnVwZGF0ZUFnZU9uR2V0fHwhMSx0aGlzLnJlc2V0KCl9c2V0IG1heChlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtYXggbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXJcIik7dGhpc1tpXT1lfHwxLzAsYih0aGlzKX1nZXQgbWF4KCl7cmV0dXJuIHRoaXNbaV19c2V0IGFsbG93U3RhbGUoZSl7dGhpc1thXT0hIWV9Z2V0IGFsbG93U3RhbGUoKXtyZXR1cm4gdGhpc1thXX1zZXQgbWF4QWdlKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtYXhBZ2UgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXJcIik7dGhpc1tsXT1lLGIodGhpcyl9Z2V0IG1heEFnZSgpe3JldHVybiB0aGlzW2xdfXNldCBsZW5ndGhDYWxjdWxhdG9yKGUpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihlPWQpLGUhPT10aGlzW3NdJiYodGhpc1tzXT1lLHRoaXNbb109MCx0aGlzW2hdLmZvckVhY2goZT0+e2UubGVuZ3RoPXRoaXNbc10oZS52YWx1ZSxlLmtleSksdGhpc1tvXSs9ZS5sZW5ndGh9KSksYih0aGlzKX1nZXQgbGVuZ3RoQ2FsY3VsYXRvcigpe3JldHVybiB0aGlzW3NdfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpc1tvXX1nZXQgaXRlbUNvdW50KCl7cmV0dXJuIHRoaXNbaF0ubGVuZ3RofXJmb3JFYWNoKGUsdCl7dD10fHx0aGlzO2ZvcihsZXQgcj10aGlzW2hdLnRhaWw7bnVsbCE9PXI7KXtjb25zdCBuPXIucHJldjt3KHRoaXMsZSxyLHQpLHI9bn19Zm9yRWFjaChlLHQpe3Q9dHx8dGhpcztmb3IobGV0IHI9dGhpc1toXS5oZWFkO251bGwhPT1yOyl7Y29uc3Qgbj1yLm5leHQ7dyh0aGlzLGUscix0KSxyPW59fWtleXMoKXtyZXR1cm4gdGhpc1toXS50b0FycmF5KCkubWFwKGU9PmUua2V5KX12YWx1ZXMoKXtyZXR1cm4gdGhpc1toXS50b0FycmF5KCkubWFwKGU9PmUudmFsdWUpfXJlc2V0KCl7dGhpc1t1XSYmdGhpc1toXSYmdGhpc1toXS5sZW5ndGgmJnRoaXNbaF0uZm9yRWFjaChlPT50aGlzW3VdKGUua2V5LGUudmFsdWUpKSx0aGlzW2ZdPW5ldyBNYXAsdGhpc1toXT1uZXcgbix0aGlzW29dPTB9ZHVtcCgpe3JldHVybiB0aGlzW2hdLm1hcChlPT4heSh0aGlzLGUpJiZ7azplLmtleSx2OmUudmFsdWUsZTplLm5vdysoZS5tYXhBZ2V8fDApfSkudG9BcnJheSgpLmZpbHRlcihlPT5lKX1kdW1wTHJ1KCl7cmV0dXJuIHRoaXNbaF19c2V0KGUsdCxyKXtpZigocj1yfHx0aGlzW2xdKSYmXCJudW1iZXJcIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm1heEFnZSBtdXN0IGJlIGEgbnVtYmVyXCIpO2NvbnN0IG49cj9EYXRlLm5vdygpOjAsYT10aGlzW3NdKHQsZSk7aWYodGhpc1tmXS5oYXMoZSkpe2lmKGE+dGhpc1tpXSlyZXR1cm4gbSh0aGlzLHRoaXNbZl0uZ2V0KGUpKSwhMTtjb25zdCBzPXRoaXNbZl0uZ2V0KGUpLnZhbHVlO3JldHVybiB0aGlzW3VdJiYodGhpc1tjXXx8dGhpc1t1XShlLHMudmFsdWUpKSxzLm5vdz1uLHMubWF4QWdlPXIscy52YWx1ZT10LHRoaXNbb10rPWEtcy5sZW5ndGgscy5sZW5ndGg9YSx0aGlzLmdldChlKSxiKHRoaXMpLCEwfWNvbnN0IHA9bmV3IHYoZSx0LGEsbixyKTtyZXR1cm4gcC5sZW5ndGg+dGhpc1tpXT8odGhpc1t1XSYmdGhpc1t1XShlLHQpLCExKToodGhpc1tvXSs9cC5sZW5ndGgsdGhpc1toXS51bnNoaWZ0KHApLHRoaXNbZl0uc2V0KGUsdGhpc1toXS5oZWFkKSxiKHRoaXMpLCEwKX1oYXMoZSl7aWYoIXRoaXNbZl0uaGFzKGUpKXJldHVybiExO2NvbnN0IHQ9dGhpc1tmXS5nZXQoZSkudmFsdWU7cmV0dXJuIXkodGhpcyx0KX1nZXQoZSl7cmV0dXJuIGcodGhpcyxlLCEwKX1wZWVrKGUpe3JldHVybiBnKHRoaXMsZSwhMSl9cG9wKCl7Y29uc3QgZT10aGlzW2hdLnRhaWw7cmV0dXJuIGU/KG0odGhpcyxlKSxlLnZhbHVlKTpudWxsfWRlbChlKXttKHRoaXMsdGhpc1tmXS5nZXQoZSkpfWxvYWQoZSl7dGhpcy5yZXNldCgpO2NvbnN0IHQ9RGF0ZS5ub3coKTtmb3IobGV0IHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSl7Y29uc3Qgbj1lW3JdLGk9bi5lfHwwO2lmKDA9PT1pKXRoaXMuc2V0KG4uayxuLnYpO2Vsc2V7Y29uc3QgZT1pLXQ7ZT4wJiZ0aGlzLnNldChuLmssbi52LGUpfX19cHJ1bmUoKXt0aGlzW2ZdLmZvckVhY2goKGUsdCk9PmcodGhpcyx0LCExKSl9fX0se3lhbGxpc3Q6ODN9XSwzODpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXtjb25zdCByPXQuZXhwb3J0cztyLnR5cGVzPXswOlwicmVzZXJ2ZWRcIiwxOlwiY29ubmVjdFwiLDI6XCJjb25uYWNrXCIsMzpcInB1Ymxpc2hcIiw0OlwicHViYWNrXCIsNTpcInB1YnJlY1wiLDY6XCJwdWJyZWxcIiw3OlwicHViY29tcFwiLDg6XCJzdWJzY3JpYmVcIiw5Olwic3ViYWNrXCIsMTA6XCJ1bnN1YnNjcmliZVwiLDExOlwidW5zdWJhY2tcIiwxMjpcInBpbmdyZXFcIiwxMzpcInBpbmdyZXNwXCIsMTQ6XCJkaXNjb25uZWN0XCIsMTU6XCJhdXRoXCJ9LHIuY29kZXM9e307Zm9yKGNvbnN0IGUgaW4gci50eXBlcyl7Y29uc3QgdD1yLnR5cGVzW2VdO3IuY29kZXNbdF09ZX1yLkNNRF9TSElGVD00LHIuQ01EX01BU0s9MjQwLHIuRFVQX01BU0s9OCxyLlFPU19NQVNLPTMsci5RT1NfU0hJRlQ9MSxyLlJFVEFJTl9NQVNLPTEsci5WQVJCWVRFSU5UX01BU0s9MTI3LHIuVkFSQllURUlOVF9GSU5fTUFTSz0xMjgsci5WQVJCWVRFSU5UX01BWD0yNjg0MzU0NTUsci5TRVNTSU9OUFJFU0VOVF9NQVNLPTEsci5TRVNTSU9OUFJFU0VOVF9IRUFERVI9ZS5mcm9tKFtyLlNFU1NJT05QUkVTRU5UX01BU0tdKSxyLkNPTk5BQ0tfSEVBREVSPWUuZnJvbShbci5jb2Rlcy5jb25uYWNrPDxyLkNNRF9TSElGVF0pLHIuVVNFUk5BTUVfTUFTSz0xMjgsci5QQVNTV09SRF9NQVNLPTY0LHIuV0lMTF9SRVRBSU5fTUFTSz0zMixyLldJTExfUU9TX01BU0s9MjQsci5XSUxMX1FPU19TSElGVD0zLHIuV0lMTF9GTEFHX01BU0s9NCxyLkNMRUFOX1NFU1NJT05fTUFTSz0yLHIuQ09OTkVDVF9IRUFERVI9ZS5mcm9tKFtyLmNvZGVzLmNvbm5lY3Q8PHIuQ01EX1NISUZUXSksci5wcm9wZXJ0aWVzPXtzZXNzaW9uRXhwaXJ5SW50ZXJ2YWw6MTcsd2lsbERlbGF5SW50ZXJ2YWw6MjQscmVjZWl2ZU1heGltdW06MzMsbWF4aW11bVBhY2tldFNpemU6MzksdG9waWNBbGlhc01heGltdW06MzQscmVxdWVzdFJlc3BvbnNlSW5mb3JtYXRpb246MjUscmVxdWVzdFByb2JsZW1JbmZvcm1hdGlvbjoyMyx1c2VyUHJvcGVydGllczozOCxhdXRoZW50aWNhdGlvbk1ldGhvZDoyMSxhdXRoZW50aWNhdGlvbkRhdGE6MjIscGF5bG9hZEZvcm1hdEluZGljYXRvcjoxLG1lc3NhZ2VFeHBpcnlJbnRlcnZhbDoyLGNvbnRlbnRUeXBlOjMscmVzcG9uc2VUb3BpYzo4LGNvcnJlbGF0aW9uRGF0YTo5LG1heGltdW1Rb1M6MzYscmV0YWluQXZhaWxhYmxlOjM3LGFzc2lnbmVkQ2xpZW50SWRlbnRpZmllcjoxOCxyZWFzb25TdHJpbmc6MzEsd2lsZGNhcmRTdWJzY3JpcHRpb25BdmFpbGFibGU6NDAsc3Vic2NyaXB0aW9uSWRlbnRpZmllcnNBdmFpbGFibGU6NDEsc2hhcmVkU3Vic2NyaXB0aW9uQXZhaWxhYmxlOjQyLHNlcnZlcktlZXBBbGl2ZToxOSxyZXNwb25zZUluZm9ybWF0aW9uOjI2LHNlcnZlclJlZmVyZW5jZToyOCx0b3BpY0FsaWFzOjM1LHN1YnNjcmlwdGlvbklkZW50aWZpZXI6MTF9LHIucHJvcGVydGllc0NvZGVzPXt9O2Zvcihjb25zdCBlIGluIHIucHJvcGVydGllcyl7Y29uc3QgdD1yLnByb3BlcnRpZXNbZV07ci5wcm9wZXJ0aWVzQ29kZXNbdF09ZX1mdW5jdGlvbiBuKHQpe3JldHVyblswLDEsMl0ubWFwKG49PlswLDFdLm1hcChpPT5bMCwxXS5tYXAobz0+e2NvbnN0IHM9ZS5hbGxvYygxKTtyZXR1cm4gcy53cml0ZVVJbnQ4KHIuY29kZXNbdF08PHIuQ01EX1NISUZUfChpP3IuRFVQX01BU0s6MCl8bjw8ci5RT1NfU0hJRlR8bywwLCEwKSxzfSkpKX1yLnByb3BlcnRpZXNUeXBlcz17c2Vzc2lvbkV4cGlyeUludGVydmFsOlwiaW50MzJcIix3aWxsRGVsYXlJbnRlcnZhbDpcImludDMyXCIscmVjZWl2ZU1heGltdW06XCJpbnQxNlwiLG1heGltdW1QYWNrZXRTaXplOlwiaW50MzJcIix0b3BpY0FsaWFzTWF4aW11bTpcImludDE2XCIscmVxdWVzdFJlc3BvbnNlSW5mb3JtYXRpb246XCJieXRlXCIscmVxdWVzdFByb2JsZW1JbmZvcm1hdGlvbjpcImJ5dGVcIix1c2VyUHJvcGVydGllczpcInBhaXJcIixhdXRoZW50aWNhdGlvbk1ldGhvZDpcInN0cmluZ1wiLGF1dGhlbnRpY2F0aW9uRGF0YTpcImJpbmFyeVwiLHBheWxvYWRGb3JtYXRJbmRpY2F0b3I6XCJieXRlXCIsbWVzc2FnZUV4cGlyeUludGVydmFsOlwiaW50MzJcIixjb250ZW50VHlwZTpcInN0cmluZ1wiLHJlc3BvbnNlVG9waWM6XCJzdHJpbmdcIixjb3JyZWxhdGlvbkRhdGE6XCJiaW5hcnlcIixtYXhpbXVtUW9TOlwiaW50OFwiLHJldGFpbkF2YWlsYWJsZTpcImJ5dGVcIixhc3NpZ25lZENsaWVudElkZW50aWZpZXI6XCJzdHJpbmdcIixyZWFzb25TdHJpbmc6XCJzdHJpbmdcIix3aWxkY2FyZFN1YnNjcmlwdGlvbkF2YWlsYWJsZTpcImJ5dGVcIixzdWJzY3JpcHRpb25JZGVudGlmaWVyc0F2YWlsYWJsZTpcImJ5dGVcIixzaGFyZWRTdWJzY3JpcHRpb25BdmFpbGFibGU6XCJieXRlXCIsc2VydmVyS2VlcEFsaXZlOlwiaW50MTZcIixyZXNwb25zZUluZm9ybWF0aW9uOlwic3RyaW5nXCIsc2VydmVyUmVmZXJlbmNlOlwic3RyaW5nXCIsdG9waWNBbGlhczpcImludDE2XCIsc3Vic2NyaXB0aW9uSWRlbnRpZmllcjpcInZhclwifSxyLlBVQkxJU0hfSEVBREVSPW4oXCJwdWJsaXNoXCIpLHIuU1VCU0NSSUJFX0hFQURFUj1uKFwic3Vic2NyaWJlXCIpLHIuU1VCU0NSSUJFX09QVElPTlNfUU9TX01BU0s9MyxyLlNVQlNDUklCRV9PUFRJT05TX05MX01BU0s9MSxyLlNVQlNDUklCRV9PUFRJT05TX05MX1NISUZUPTIsci5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfTUFTSz0xLHIuU1VCU0NSSUJFX09QVElPTlNfUkFQX1NISUZUPTMsci5TVUJTQ1JJQkVfT1BUSU9OU19SSF9NQVNLPTMsci5TVUJTQ1JJQkVfT1BUSU9OU19SSF9TSElGVD00LHIuU1VCU0NSSUJFX09QVElPTlNfUkg9WzAsMTYsMzJdLHIuU1VCU0NSSUJFX09QVElPTlNfTkw9NCxyLlNVQlNDUklCRV9PUFRJT05TX1JBUD04LHIuU1VCU0NSSUJFX09QVElPTlNfUU9TPVswLDEsMl0sci5VTlNVQlNDUklCRV9IRUFERVI9bihcInVuc3Vic2NyaWJlXCIpLHIuQUNLUz17dW5zdWJhY2s6bihcInVuc3ViYWNrXCIpLHB1YmFjazpuKFwicHViYWNrXCIpLHB1YmNvbXA6bihcInB1YmNvbXBcIikscHVicmVsOm4oXCJwdWJyZWxcIikscHVicmVjOm4oXCJwdWJyZWNcIil9LHIuU1VCQUNLX0hFQURFUj1lLmZyb20oW3IuY29kZXMuc3ViYWNrPDxyLkNNRF9TSElGVF0pLHIuVkVSU0lPTjM9ZS5mcm9tKFszXSksci5WRVJTSU9OND1lLmZyb20oWzRdKSxyLlZFUlNJT041PWUuZnJvbShbNV0pLHIuVkVSU0lPTjEzMT1lLmZyb20oWzEzMV0pLHIuVkVSU0lPTjEzMj1lLmZyb20oWzEzMl0pLHIuUU9TPVswLDEsMl0ubWFwKHQ9PmUuZnJvbShbdF0pKSxyLkVNUFRZPXtwaW5ncmVxOmUuZnJvbShbci5jb2Rlcy5waW5ncmVxPDw0LDBdKSxwaW5ncmVzcDplLmZyb20oW3IuY29kZXMucGluZ3Jlc3A8PDQsMF0pLGRpc2Nvbm5lY3Q6ZS5mcm9tKFtyLmNvZGVzLmRpc2Nvbm5lY3Q8PDQsMF0pfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZShcImJ1ZmZlclwiKS5CdWZmZXIpfSx7YnVmZmVyOjE3fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24ocil7KGZ1bmN0aW9uKCl7Y29uc3Qgbj1lKFwiLi93cml0ZVRvU3RyZWFtXCIpLGk9ZShcImV2ZW50c1wiKTtjbGFzcyBvIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5fYXJyYXk9bmV3IEFycmF5KDIwKSx0aGlzLl9pPTB9d3JpdGUoZSl7cmV0dXJuIHRoaXMuX2FycmF5W3RoaXMuX2krK109ZSwhMH1jb25jYXQoKXtsZXQgZT0wO2NvbnN0IHQ9bmV3IEFycmF5KHRoaXMuX2FycmF5Lmxlbmd0aCksbj10aGlzLl9hcnJheTtsZXQgaSxvPTA7Zm9yKGk9MDtpPG4ubGVuZ3RoJiZ2b2lkIDAhPT1uW2ldO2krKylcInN0cmluZ1wiIT10eXBlb2YgbltpXT90W2ldPW5baV0ubGVuZ3RoOnRbaV09ci5ieXRlTGVuZ3RoKG5baV0pLGUrPXRbaV07Y29uc3Qgcz1yLmFsbG9jVW5zYWZlKGUpO2ZvcihpPTA7aTxuLmxlbmd0aCYmdm9pZCAwIT09bltpXTtpKyspXCJzdHJpbmdcIiE9dHlwZW9mIG5baV0/KG5baV0uY29weShzLG8pLG8rPXRbaV0pOihzLndyaXRlKG5baV0sbyksbys9dFtpXSk7cmV0dXJuIHN9fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2NvbnN0IHI9bmV3IG87cmV0dXJuIG4oZSxyLHQpLHIuY29uY2F0KCl9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKFwiYnVmZmVyXCIpLkJ1ZmZlcil9LHtcIi4vd3JpdGVUb1N0cmVhbVwiOjQ0LGJ1ZmZlcjoxNyxldmVudHM6MjJ9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3IucGFyc2VyPWUoXCIuL3BhcnNlclwiKS5wYXJzZXIsci5nZW5lcmF0ZT1lKFwiLi9nZW5lcmF0ZVwiKSxyLndyaXRlVG9TdHJlYW09ZShcIi4vd3JpdGVUb1N0cmVhbVwiKX0se1wiLi9nZW5lcmF0ZVwiOjM5LFwiLi9wYXJzZXJcIjo0MyxcIi4vd3JpdGVUb1N0cmVhbVwiOjQ0fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7Y29uc3Qgcj02NTUzNixuPXt9LGk9ZS5pc0J1ZmZlcihlLmZyb20oWzEsMl0pLnN1YmFycmF5KDAsMSkpO2Z1bmN0aW9uIG8odCl7Y29uc3Qgcj1lLmFsbG9jVW5zYWZlKDIpO3JldHVybiByLndyaXRlVUludDgodD4+OCwwKSxyLndyaXRlVUludDgoMjU1JnQsMSkscn10LmV4cG9ydHM9e2NhY2hlOm4sZ2VuZXJhdGVDYWNoZTpmdW5jdGlvbigpe2ZvcihsZXQgZT0wO2U8cjtlKyspbltlXT1vKGUpfSxnZW5lcmF0ZU51bWJlcjpvLGdlbkJ1ZlZhcmlhYmxlQnl0ZUludDpmdW5jdGlvbih0KXtsZXQgcj0wLG49MDtjb25zdCBvPWUuYWxsb2NVbnNhZmUoNCk7ZG97cj10JTEyOHwwLCh0PXQvMTI4fDApPjAmJihyfD0xMjgpLG8ud3JpdGVVSW50OChyLG4rKyl9d2hpbGUodD4wJiZuPDQpO3JldHVybiB0PjAmJihuPTApLGk/by5zdWJhcnJheSgwLG4pOm8uc2xpY2UoMCxuKX0sZ2VuZXJhdGU0Qnl0ZUJ1ZmZlcjpmdW5jdGlvbih0KXtjb25zdCByPWUuYWxsb2NVbnNhZmUoNCk7cmV0dXJuIHIud3JpdGVVSW50MzJCRSh0LDApLHJ9fX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZShcImJ1ZmZlclwiKS5CdWZmZXIpfSx7YnVmZmVyOjE3fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmNtZD1udWxsLHRoaXMucmV0YWluPSExLHRoaXMucW9zPTAsdGhpcy5kdXA9ITEsdGhpcy5sZW5ndGg9LTEsdGhpcy50b3BpYz1udWxsLHRoaXMucGF5bG9hZD1udWxsfX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe2NvbnN0IG49ZShcImJsXCIpLGk9ZShcImV2ZW50c1wiKSxvPWUoXCIuL3BhY2tldFwiKSxzPWUoXCIuL2NvbnN0YW50c1wiKSxhPWUoXCJkZWJ1Z1wiKShcIm1xdHQtcGFja2V0OnBhcnNlclwiKTtjbGFzcyBsIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5wYXJzZXI9dGhpcy5jb25zdHJ1Y3Rvci5wYXJzZXJ9c3RhdGljIHBhcnNlcihlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGw/KHRoaXMuc2V0dGluZ3M9ZXx8e30sdGhpcy5fc3RhdGVzPVtcIl9wYXJzZUhlYWRlclwiLFwiX3BhcnNlTGVuZ3RoXCIsXCJfcGFyc2VQYXlsb2FkXCIsXCJfbmV3UGFja2V0XCJdLHRoaXMuX3Jlc2V0U3RhdGUoKSx0aGlzKToobmV3IGwpLnBhcnNlcihlKX1fcmVzZXRTdGF0ZSgpe2EoXCJfcmVzZXRTdGF0ZTogcmVzZXR0aW5nIHBhY2tldCwgZXJyb3IsIF9saXN0LCBhbmQgX3N0YXRlQ291bnRlclwiKSx0aGlzLnBhY2tldD1uZXcgbyx0aGlzLmVycm9yPW51bGwsdGhpcy5fbGlzdD1uKCksdGhpcy5fc3RhdGVDb3VudGVyPTB9cGFyc2UoZSl7Zm9yKHRoaXMuZXJyb3ImJnRoaXMuX3Jlc2V0U3RhdGUoKSx0aGlzLl9saXN0LmFwcGVuZChlKSxhKFwicGFyc2U6IGN1cnJlbnQgc3RhdGU6ICVzXCIsdGhpcy5fc3RhdGVzW3RoaXMuX3N0YXRlQ291bnRlcl0pOygtMSE9PXRoaXMucGFja2V0Lmxlbmd0aHx8dGhpcy5fbGlzdC5sZW5ndGg+MCkmJnRoaXNbdGhpcy5fc3RhdGVzW3RoaXMuX3N0YXRlQ291bnRlcl1dKCkmJiF0aGlzLmVycm9yOyl0aGlzLl9zdGF0ZUNvdW50ZXIrKyxhKFwicGFyc2U6IHN0YXRlIGNvbXBsZXRlLiBfc3RhdGVDb3VudGVyIGlzIG5vdzogJWRcIix0aGlzLl9zdGF0ZUNvdW50ZXIpLGEoXCJwYXJzZTogcGFja2V0Lmxlbmd0aDogJWQsIGJ1ZmZlciBsaXN0IGxlbmd0aDogJWRcIix0aGlzLnBhY2tldC5sZW5ndGgsdGhpcy5fbGlzdC5sZW5ndGgpLHRoaXMuX3N0YXRlQ291bnRlcj49dGhpcy5fc3RhdGVzLmxlbmd0aCYmKHRoaXMuX3N0YXRlQ291bnRlcj0wKTtyZXR1cm4gYShcInBhcnNlOiBleGl0ZWQgd2hpbGUgbG9vcC4gcGFja2V0OiAlZCwgYnVmZmVyIGxpc3QgbGVuZ3RoOiAlZFwiLHRoaXMucGFja2V0Lmxlbmd0aCx0aGlzLl9saXN0Lmxlbmd0aCksdGhpcy5fbGlzdC5sZW5ndGh9X3BhcnNlSGVhZGVyKCl7Y29uc3QgZT10aGlzLl9saXN0LnJlYWRVSW50OCgwKTtyZXR1cm4gdGhpcy5wYWNrZXQuY21kPXMudHlwZXNbZT4+cy5DTURfU0hJRlRdLHRoaXMucGFja2V0LnJldGFpbj0wIT0oZSZzLlJFVEFJTl9NQVNLKSx0aGlzLnBhY2tldC5xb3M9ZT4+cy5RT1NfU0hJRlQmcy5RT1NfTUFTSyx0aGlzLnBhY2tldC5kdXA9MCE9KGUmcy5EVVBfTUFTSyksYShcIl9wYXJzZUhlYWRlcjogcGFja2V0OiAlb1wiLHRoaXMucGFja2V0KSx0aGlzLl9saXN0LmNvbnN1bWUoMSksITB9X3BhcnNlTGVuZ3RoKCl7Y29uc3QgZT10aGlzLl9wYXJzZVZhckJ5dGVOdW0oITApO3JldHVybiBlJiYodGhpcy5wYWNrZXQubGVuZ3RoPWUudmFsdWUsdGhpcy5fbGlzdC5jb25zdW1lKGUuYnl0ZXMpKSxhKFwiX3BhcnNlTGVuZ3RoICVkXCIsZS52YWx1ZSksISFlfV9wYXJzZVBheWxvYWQoKXthKFwiX3BhcnNlUGF5bG9hZDogcGF5bG9hZCAlT1wiLHRoaXMuX2xpc3QpO2xldCBlPSExO2lmKDA9PT10aGlzLnBhY2tldC5sZW5ndGh8fHRoaXMuX2xpc3QubGVuZ3RoPj10aGlzLnBhY2tldC5sZW5ndGgpe3N3aXRjaCh0aGlzLl9wb3M9MCx0aGlzLnBhY2tldC5jbWQpe2Nhc2VcImNvbm5lY3RcIjp0aGlzLl9wYXJzZUNvbm5lY3QoKTticmVhaztjYXNlXCJjb25uYWNrXCI6dGhpcy5fcGFyc2VDb25uYWNrKCk7YnJlYWs7Y2FzZVwicHVibGlzaFwiOnRoaXMuX3BhcnNlUHVibGlzaCgpO2JyZWFrO2Nhc2VcInB1YmFja1wiOmNhc2VcInB1YnJlY1wiOmNhc2VcInB1YnJlbFwiOmNhc2VcInB1YmNvbXBcIjp0aGlzLl9wYXJzZUNvbmZpcm1hdGlvbigpO2JyZWFrO2Nhc2VcInN1YnNjcmliZVwiOnRoaXMuX3BhcnNlU3Vic2NyaWJlKCk7YnJlYWs7Y2FzZVwic3ViYWNrXCI6dGhpcy5fcGFyc2VTdWJhY2soKTticmVhaztjYXNlXCJ1bnN1YnNjcmliZVwiOnRoaXMuX3BhcnNlVW5zdWJzY3JpYmUoKTticmVhaztjYXNlXCJ1bnN1YmFja1wiOnRoaXMuX3BhcnNlVW5zdWJhY2soKTticmVhaztjYXNlXCJwaW5ncmVxXCI6Y2FzZVwicGluZ3Jlc3BcIjpicmVhaztjYXNlXCJkaXNjb25uZWN0XCI6dGhpcy5fcGFyc2VEaXNjb25uZWN0KCk7YnJlYWs7Y2FzZVwiYXV0aFwiOnRoaXMuX3BhcnNlQXV0aCgpO2JyZWFrO2RlZmF1bHQ6dGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWRcIikpfWU9ITB9cmV0dXJuIGEoXCJfcGFyc2VQYXlsb2FkIGNvbXBsZXRlIHJlc3VsdDogJXNcIixlKSxlfV9wYXJzZUNvbm5lY3QoKXtsZXQgZSx0LHIsbjthKFwiX3BhcnNlQ29ubmVjdFwiKTtjb25zdCBpPXt9LG89dGhpcy5wYWNrZXQsbD10aGlzLl9wYXJzZVN0cmluZygpO2lmKG51bGw9PT1sKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHByb3RvY29sSWRcIikpO2lmKFwiTVFUVFwiIT09bCYmXCJNUUlzZHBcIiE9PWwpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3RvY29sSWRcIikpO2lmKG8ucHJvdG9jb2xJZD1sLHRoaXMuX3Bvcz49dGhpcy5fbGlzdC5sZW5ndGgpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJQYWNrZXQgdG9vIHNob3J0XCIpKTtpZihvLnByb3RvY29sVmVyc2lvbj10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpLG8ucHJvdG9jb2xWZXJzaW9uPj0xMjgmJihvLmJyaWRnZU1vZGU9ITAsby5wcm90b2NvbFZlcnNpb249by5wcm90b2NvbFZlcnNpb24tMTI4KSwzIT09by5wcm90b2NvbFZlcnNpb24mJjQhPT1vLnByb3RvY29sVmVyc2lvbiYmNSE9PW8ucHJvdG9jb2xWZXJzaW9uKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBwcm90b2NvbCB2ZXJzaW9uXCIpKTtpZih0aGlzLl9wb3MrKyx0aGlzLl9wb3M+PXRoaXMuX2xpc3QubGVuZ3RoKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiUGFja2V0IHRvbyBzaG9ydFwiKSk7aWYoaS51c2VybmFtZT10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpJnMuVVNFUk5BTUVfTUFTSyxpLnBhc3N3b3JkPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3Bvcykmcy5QQVNTV09SRF9NQVNLLGkud2lsbD10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpJnMuV0lMTF9GTEFHX01BU0ssaS53aWxsJiYoby53aWxsPXt9LG8ud2lsbC5yZXRhaW49MCE9KHRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3Bvcykmcy5XSUxMX1JFVEFJTl9NQVNLKSxvLndpbGwucW9zPSh0aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpJnMuV0lMTF9RT1NfTUFTSyk+PnMuV0lMTF9RT1NfU0hJRlQpLG8uY2xlYW49MCE9KHRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3Bvcykmcy5DTEVBTl9TRVNTSU9OX01BU0spLHRoaXMuX3BvcysrLG8ua2VlcGFsaXZlPXRoaXMuX3BhcnNlTnVtKCksLTE9PT1vLmtlZXBhbGl2ZSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIlBhY2tldCB0b28gc2hvcnRcIikpO2lmKDU9PT1vLnByb3RvY29sVmVyc2lvbil7Y29uc3QgZT10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5sZW5ndGgmJihvLnByb3BlcnRpZXM9ZSl9Y29uc3QgdT10aGlzLl9wYXJzZVN0cmluZygpO2lmKG51bGw9PT11KXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiUGFja2V0IHRvbyBzaG9ydFwiKSk7aWYoby5jbGllbnRJZD11LGEoXCJfcGFyc2VDb25uZWN0OiBwYWNrZXQuY2xpZW50SWQ6ICVzXCIsby5jbGllbnRJZCksaS53aWxsKXtpZig1PT09by5wcm90b2NvbFZlcnNpb24pe2NvbnN0IGU9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkubGVuZ3RoJiYoby53aWxsLnByb3BlcnRpZXM9ZSl9aWYobnVsbD09PShlPXRoaXMuX3BhcnNlU3RyaW5nKCkpKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHdpbGwgdG9waWNcIikpO2lmKG8ud2lsbC50b3BpYz1lLGEoXCJfcGFyc2VDb25uZWN0OiBwYWNrZXQud2lsbC50b3BpYzogJXNcIixvLndpbGwudG9waWMpLG51bGw9PT0odD10aGlzLl9wYXJzZUJ1ZmZlcigpKSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB3aWxsIHBheWxvYWRcIikpO28ud2lsbC5wYXlsb2FkPXQsYShcIl9wYXJzZUNvbm5lY3Q6IHBhY2tldC53aWxsLnBheWxhb2Q6ICVzXCIsby53aWxsLnBheWxvYWQpfWlmKGkudXNlcm5hbWUpe2lmKG51bGw9PT0obj10aGlzLl9wYXJzZVN0cmluZygpKSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB1c2VybmFtZVwiKSk7by51c2VybmFtZT1uLGEoXCJfcGFyc2VDb25uZWN0OiBwYWNrZXQudXNlcm5hbWU6ICVzXCIsby51c2VybmFtZSl9aWYoaS5wYXNzd29yZCl7aWYobnVsbD09PShyPXRoaXMuX3BhcnNlQnVmZmVyKCkpKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHBhc3N3b3JkXCIpKTtvLnBhc3N3b3JkPXJ9cmV0dXJuIHRoaXMuc2V0dGluZ3M9byxhKFwiX3BhcnNlQ29ubmVjdDogY29tcGxldGVcIiksb31fcGFyc2VDb25uYWNrKCl7YShcIl9wYXJzZUNvbm5hY2tcIik7Y29uc3QgZT10aGlzLnBhY2tldDtpZih0aGlzLl9saXN0Lmxlbmd0aDwxKXJldHVybiBudWxsO2lmKGUuc2Vzc2lvblByZXNlbnQ9ISEodGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKyspJnMuU0VTU0lPTlBSRVNFTlRfTUFTSyksNT09PXRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uKXRoaXMuX2xpc3QubGVuZ3RoPj0yP2UucmVhc29uQ29kZT10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MrKyk6ZS5yZWFzb25Db2RlPTA7ZWxzZXtpZih0aGlzLl9saXN0Lmxlbmd0aDwyKXJldHVybiBudWxsO2UucmV0dXJuQ29kZT10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MrKyl9aWYoLTE9PT1lLnJldHVybkNvZGV8fC0xPT09ZS5yZWFzb25Db2RlKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHJldHVybiBjb2RlXCIpKTtpZig1PT09dGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb24pe2NvbnN0IHQ9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXQpfWEoXCJfcGFyc2VDb25uYWNrOiBjb21wbGV0ZVwiKX1fcGFyc2VQdWJsaXNoKCl7YShcIl9wYXJzZVB1Ymxpc2hcIik7Y29uc3QgZT10aGlzLnBhY2tldDtpZihlLnRvcGljPXRoaXMuX3BhcnNlU3RyaW5nKCksbnVsbD09PWUudG9waWMpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2UgdG9waWNcIikpO2lmKCEoZS5xb3M+MCl8fHRoaXMuX3BhcnNlTWVzc2FnZUlkKCkpe2lmKDU9PT10aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbil7Y29uc3QgdD10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5sZW5ndGgmJihlLnByb3BlcnRpZXM9dCl9ZS5wYXlsb2FkPXRoaXMuX2xpc3Quc2xpY2UodGhpcy5fcG9zLGUubGVuZ3RoKSxhKFwiX3BhcnNlUHVibGlzaDogcGF5bG9hZCBmcm9tIGJ1ZmZlciBsaXN0OiAlb1wiLGUucGF5bG9hZCl9fV9wYXJzZVN1YnNjcmliZSgpe2EoXCJfcGFyc2VTdWJzY3JpYmVcIik7Y29uc3QgZT10aGlzLnBhY2tldDtsZXQgdCxyLG4saSxvLGwsdTtpZigxIT09ZS5xb3MpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJXcm9uZyBzdWJzY3JpYmUgaGVhZGVyXCIpKTtpZihlLnN1YnNjcmlwdGlvbnM9W10sdGhpcy5fcGFyc2VNZXNzYWdlSWQoKSl7aWYoNT09PXRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uKXtjb25zdCB0PXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmxlbmd0aCYmKGUucHJvcGVydGllcz10KX1mb3IoO3RoaXMuX3BvczxlLmxlbmd0aDspe2lmKG51bGw9PT0odD10aGlzLl9wYXJzZVN0cmluZygpKSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB0b3BpY1wiKSk7aWYodGhpcy5fcG9zPj1lLmxlbmd0aClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCBTdWJzY3JpYmUgUGF5bG9hZFwiKSk7bj0ocj10aGlzLl9wYXJzZUJ5dGUoKSkmcy5TVUJTQ1JJQkVfT1BUSU9OU19RT1NfTUFTSyxsPTAhPShyPj5zLlNVQlNDUklCRV9PUFRJT05TX05MX1NISUZUJnMuU1VCU0NSSUJFX09QVElPTlNfTkxfTUFTSyksbz0wIT0ocj4+cy5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfU0hJRlQmcy5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfTUFTSyksaT1yPj5zLlNVQlNDUklCRV9PUFRJT05TX1JIX1NISUZUJnMuU1VCU0NSSUJFX09QVElPTlNfUkhfTUFTSyx1PXt0b3BpYzp0LHFvczpufSw1PT09dGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb24/KHUubmw9bCx1LnJhcD1vLHUucmg9aSk6dGhpcy5zZXR0aW5ncy5icmlkZ2VNb2RlJiYodS5yaD0wLHUucmFwPSEwLHUubmw9ITApLGEoXCJfcGFyc2VTdWJzY3JpYmU6IHB1c2ggc3Vic2NyaXB0aW9uIGAlc2AgdG8gc3Vic2NyaXB0aW9uXCIsdSksZS5zdWJzY3JpcHRpb25zLnB1c2godSl9fX1fcGFyc2VTdWJhY2soKXthKFwiX3BhcnNlU3ViYWNrXCIpO2NvbnN0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5wYWNrZXQuZ3JhbnRlZD1bXSx0aGlzLl9wYXJzZU1lc3NhZ2VJZCgpKXtpZig1PT09dGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb24pe2NvbnN0IHQ9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXQpfWZvcig7dGhpcy5fcG9zPHRoaXMucGFja2V0Lmxlbmd0aDspdGhpcy5wYWNrZXQuZ3JhbnRlZC5wdXNoKHRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcysrKSl9fV9wYXJzZVVuc3Vic2NyaWJlKCl7YShcIl9wYXJzZVVuc3Vic2NyaWJlXCIpO2NvbnN0IGU9dGhpcy5wYWNrZXQ7aWYoZS51bnN1YnNjcmlwdGlvbnM9W10sdGhpcy5fcGFyc2VNZXNzYWdlSWQoKSl7aWYoNT09PXRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uKXtjb25zdCB0PXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmxlbmd0aCYmKGUucHJvcGVydGllcz10KX1mb3IoO3RoaXMuX3BvczxlLmxlbmd0aDspe2NvbnN0IHQ9dGhpcy5fcGFyc2VTdHJpbmcoKTtpZihudWxsPT09dClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB0b3BpY1wiKSk7YShcIl9wYXJzZVVuc3Vic2NyaWJlOiBwdXNoIHRvcGljIGAlc2AgdG8gdW5zdWJzY3JpcHRpb25zXCIsdCksZS51bnN1YnNjcmlwdGlvbnMucHVzaCh0KX19fV9wYXJzZVVuc3ViYWNrKCl7YShcIl9wYXJzZVVuc3ViYWNrXCIpO2NvbnN0IGU9dGhpcy5wYWNrZXQ7aWYoIXRoaXMuX3BhcnNlTWVzc2FnZUlkKCkpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2UgbWVzc2FnZUlkXCIpKTtpZig1PT09dGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb24pe2NvbnN0IHQ9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7Zm9yKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmxlbmd0aCYmKGUucHJvcGVydGllcz10KSxlLmdyYW50ZWQ9W107dGhpcy5fcG9zPHRoaXMucGFja2V0Lmxlbmd0aDspdGhpcy5wYWNrZXQuZ3JhbnRlZC5wdXNoKHRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcysrKSl9fV9wYXJzZUNvbmZpcm1hdGlvbigpe2EoXCJfcGFyc2VDb25maXJtYXRpb246IHBhY2tldC5jbWQ6IGAlc2BcIix0aGlzLnBhY2tldC5jbWQpO2NvbnN0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5fcGFyc2VNZXNzYWdlSWQoKSw1PT09dGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb24mJihlLmxlbmd0aD4yPyhlLnJlYXNvbkNvZGU9dGhpcy5fcGFyc2VCeXRlKCksYShcIl9wYXJzZUNvbmZpcm1hdGlvbjogcGFja2V0LnJlYXNvbkNvZGUgYCVkYFwiLGUucmVhc29uQ29kZSkpOmUucmVhc29uQ29kZT0wLGUubGVuZ3RoPjMpKXtjb25zdCB0PXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmxlbmd0aCYmKGUucHJvcGVydGllcz10KX1yZXR1cm4hMH1fcGFyc2VEaXNjb25uZWN0KCl7Y29uc3QgZT10aGlzLnBhY2tldDtpZihhKFwiX3BhcnNlRGlzY29ubmVjdFwiKSw1PT09dGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb24pe3RoaXMuX2xpc3QubGVuZ3RoPjA/ZS5yZWFzb25Db2RlPXRoaXMuX3BhcnNlQnl0ZSgpOmUucmVhc29uQ29kZT0wO2NvbnN0IHQ9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXQpfXJldHVybiBhKFwiX3BhcnNlRGlzY29ubmVjdCByZXN1bHQ6IHRydWVcIiksITB9X3BhcnNlQXV0aCgpe2EoXCJfcGFyc2VBdXRoXCIpO2NvbnN0IGU9dGhpcy5wYWNrZXQ7aWYoNSE9PXRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZCBhdXRoIHBhY2tldCBmb3IgdGhpcyB2ZXJzaW9uIE1RVFRcIikpO2UucmVhc29uQ29kZT10aGlzLl9wYXJzZUJ5dGUoKTtjb25zdCB0PXRoaXMuX3BhcnNlUHJvcGVydGllcygpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5sZW5ndGgmJihlLnByb3BlcnRpZXM9dCksYShcIl9wYXJzZUF1dGg6IHJlc3VsdDogdHJ1ZVwiKSwhMH1fcGFyc2VNZXNzYWdlSWQoKXtjb25zdCBlPXRoaXMucGFja2V0O3JldHVybiBlLm1lc3NhZ2VJZD10aGlzLl9wYXJzZU51bSgpLG51bGw9PT1lLm1lc3NhZ2VJZD8odGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBtZXNzYWdlSWRcIikpLCExKTooYShcIl9wYXJzZU1lc3NhZ2VJZDogcGFja2V0Lm1lc3NhZ2VJZCAlZFwiLGUubWVzc2FnZUlkKSwhMCl9X3BhcnNlU3RyaW5nKGUpe2NvbnN0IHQ9dGhpcy5fcGFyc2VOdW0oKSxyPXQrdGhpcy5fcG9zO2lmKC0xPT09dHx8cj50aGlzLl9saXN0Lmxlbmd0aHx8cj50aGlzLnBhY2tldC5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3Qgbj10aGlzLl9saXN0LnRvU3RyaW5nKFwidXRmOFwiLHRoaXMuX3BvcyxyKTtyZXR1cm4gdGhpcy5fcG9zKz10LGEoXCJfcGFyc2VTdHJpbmc6IHJlc3VsdDogJXNcIixuKSxufV9wYXJzZVN0cmluZ1BhaXIoKXtyZXR1cm4gYShcIl9wYXJzZVN0cmluZ1BhaXJcIikse25hbWU6dGhpcy5fcGFyc2VTdHJpbmcoKSx2YWx1ZTp0aGlzLl9wYXJzZVN0cmluZygpfX1fcGFyc2VCdWZmZXIoKXtjb25zdCBlPXRoaXMuX3BhcnNlTnVtKCksdD1lK3RoaXMuX3BvcztpZigtMT09PWV8fHQ+dGhpcy5fbGlzdC5sZW5ndGh8fHQ+dGhpcy5wYWNrZXQubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHI9dGhpcy5fbGlzdC5zbGljZSh0aGlzLl9wb3MsdCk7cmV0dXJuIHRoaXMuX3Bvcys9ZSxhKFwiX3BhcnNlQnVmZmVyOiByZXN1bHQ6ICVvXCIscikscn1fcGFyc2VOdW0oKXtpZih0aGlzLl9saXN0Lmxlbmd0aC10aGlzLl9wb3M8MilyZXR1cm4tMTtjb25zdCBlPXRoaXMuX2xpc3QucmVhZFVJbnQxNkJFKHRoaXMuX3Bvcyk7cmV0dXJuIHRoaXMuX3Bvcys9MixhKFwiX3BhcnNlTnVtOiByZXN1bHQ6ICVzXCIsZSksZX1fcGFyc2U0Qnl0ZU51bSgpe2lmKHRoaXMuX2xpc3QubGVuZ3RoLXRoaXMuX3Bvczw0KXJldHVybi0xO2NvbnN0IGU9dGhpcy5fbGlzdC5yZWFkVUludDMyQkUodGhpcy5fcG9zKTtyZXR1cm4gdGhpcy5fcG9zKz00LGEoXCJfcGFyc2U0Qnl0ZU51bTogcmVzdWx0OiAlc1wiLGUpLGV9X3BhcnNlVmFyQnl0ZU51bShlKXthKFwiX3BhcnNlVmFyQnl0ZU51bVwiKTtsZXQgdCxyPTAsbj0xLGk9MCxvPSExO2NvbnN0IGw9dGhpcy5fcG9zP3RoaXMuX3BvczowO2Zvcig7cjw0JiZsK3I8dGhpcy5fbGlzdC5sZW5ndGg7KXtpZihpKz1uKigodD10aGlzLl9saXN0LnJlYWRVSW50OChsK3IrKykpJnMuVkFSQllURUlOVF9NQVNLKSxuKj0xMjgsMD09KHQmcy5WQVJCWVRFSU5UX0ZJTl9NQVNLKSl7bz0hMDticmVha31pZih0aGlzLl9saXN0Lmxlbmd0aDw9cilicmVha31yZXR1cm4hbyYmND09PXImJnRoaXMuX2xpc3QubGVuZ3RoPj1yJiZ0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCB2YXJpYWJsZSBieXRlIGludGVnZXJcIikpLGwmJih0aGlzLl9wb3MrPXIpLGEoXCJfcGFyc2VWYXJCeXRlTnVtOiByZXN1bHQ6ICVvXCIsbz0hIW8mJihlP3tieXRlczpyLHZhbHVlOml9OmkpKSxvfV9wYXJzZUJ5dGUoKXtsZXQgZTtyZXR1cm4gdGhpcy5fcG9zPHRoaXMuX2xpc3QubGVuZ3RoJiYoZT10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpLHRoaXMuX3BvcysrKSxhKFwiX3BhcnNlQnl0ZTogcmVzdWx0OiAlb1wiLGUpLGV9X3BhcnNlQnlUeXBlKGUpe3N3aXRjaChhKFwiX3BhcnNlQnlUeXBlOiB0eXBlOiAlc1wiLGUpLGUpe2Nhc2VcImJ5dGVcIjpyZXR1cm4gMCE9PXRoaXMuX3BhcnNlQnl0ZSgpO2Nhc2VcImludDhcIjpyZXR1cm4gdGhpcy5fcGFyc2VCeXRlKCk7Y2FzZVwiaW50MTZcIjpyZXR1cm4gdGhpcy5fcGFyc2VOdW0oKTtjYXNlXCJpbnQzMlwiOnJldHVybiB0aGlzLl9wYXJzZTRCeXRlTnVtKCk7Y2FzZVwidmFyXCI6cmV0dXJuIHRoaXMuX3BhcnNlVmFyQnl0ZU51bSgpO2Nhc2VcInN0cmluZ1wiOnJldHVybiB0aGlzLl9wYXJzZVN0cmluZygpO2Nhc2VcInBhaXJcIjpyZXR1cm4gdGhpcy5fcGFyc2VTdHJpbmdQYWlyKCk7Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHRoaXMuX3BhcnNlQnVmZmVyKCl9fV9wYXJzZVByb3BlcnRpZXMoKXthKFwiX3BhcnNlUHJvcGVydGllc1wiKTtjb25zdCBlPXRoaXMuX3BhcnNlVmFyQnl0ZU51bSgpLHQ9dGhpcy5fcG9zK2Uscj17fTtmb3IoO3RoaXMuX3Bvczx0Oyl7Y29uc3QgZT10aGlzLl9wYXJzZUJ5dGUoKTtpZighZSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBwcm9wZXJ0eSBjb2RlIHR5cGVcIikpLCExO2NvbnN0IHQ9cy5wcm9wZXJ0aWVzQ29kZXNbZV07aWYoIXQpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJVbmtub3duIHByb3BlcnR5XCIpKSwhMTtpZihcInVzZXJQcm9wZXJ0aWVzXCIhPT10KXJbdF0/QXJyYXkuaXNBcnJheShyW3RdKT9yW3RdLnB1c2godGhpcy5fcGFyc2VCeVR5cGUocy5wcm9wZXJ0aWVzVHlwZXNbdF0pKTooclt0XT1bclt0XV0sclt0XS5wdXNoKHRoaXMuX3BhcnNlQnlUeXBlKHMucHJvcGVydGllc1R5cGVzW3RdKSkpOnJbdF09dGhpcy5fcGFyc2VCeVR5cGUocy5wcm9wZXJ0aWVzVHlwZXNbdF0pO2Vsc2V7clt0XXx8KHJbdF09T2JqZWN0LmNyZWF0ZShudWxsKSk7Y29uc3QgZT10aGlzLl9wYXJzZUJ5VHlwZShzLnByb3BlcnRpZXNUeXBlc1t0XSk7aWYoclt0XVtlLm5hbWVdKWlmKEFycmF5LmlzQXJyYXkoclt0XVtlLm5hbWVdKSlyW3RdW2UubmFtZV0ucHVzaChlLnZhbHVlKTtlbHNle2NvbnN0IG49clt0XVtlLm5hbWVdO3JbdF1bZS5uYW1lXT1bbl0sclt0XVtlLm5hbWVdLnB1c2goZS52YWx1ZSl9ZWxzZSByW3RdW2UubmFtZV09ZS52YWx1ZX19cmV0dXJuIHJ9X25ld1BhY2tldCgpe3JldHVybiBhKFwiX25ld1BhY2tldFwiKSx0aGlzLnBhY2tldCYmKHRoaXMuX2xpc3QuY29uc3VtZSh0aGlzLnBhY2tldC5sZW5ndGgpLGEoXCJfbmV3UGFja2V0OiBwYXJzZXIgZW1pdCBwYWNrZXQ6IHBhY2tldC5jbWQ6ICVzLCBwYWNrZXQucGF5bG9hZDogJXMsIHBhY2tldC5sZW5ndGg6ICVkXCIsdGhpcy5wYWNrZXQuY21kLHRoaXMucGFja2V0LnBheWxvYWQsdGhpcy5wYWNrZXQubGVuZ3RoKSx0aGlzLmVtaXQoXCJwYWNrZXRcIix0aGlzLnBhY2tldCkpLGEoXCJfbmV3UGFja2V0OiBuZXcgcGFja2V0XCIpLHRoaXMucGFja2V0PW5ldyBvLHRoaXMuX3Bvcz0wLCEwfV9lbWl0RXJyb3IoZSl7YShcIl9lbWl0RXJyb3JcIiksdGhpcy5lcnJvcj1lLHRoaXMuZW1pdChcImVycm9yXCIsZSl9fXQuZXhwb3J0cz1sfSx7XCIuL2NvbnN0YW50c1wiOjM4LFwiLi9wYWNrZXRcIjo0MixibDoxNSxkZWJ1ZzoxOCxldmVudHM6MjJ9XSw0NDpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihyKXsoZnVuY3Rpb24oKXtjb25zdCBuPWUoXCIuL2NvbnN0YW50c1wiKSxpPXIuYWxsb2NVbnNhZmUoMCksbz1yLmZyb20oWzBdKSxzPWUoXCIuL251bWJlcnNcIiksYT1lKFwicHJvY2Vzcy1uZXh0aWNrLWFyZ3NcIikubmV4dFRpY2ssbD1lKFwiZGVidWdcIikoXCJtcXR0LXBhY2tldDp3cml0ZVRvU3RyZWFtXCIpLHU9cy5jYWNoZSxjPXMuZ2VuZXJhdGVOdW1iZXIsaD1zLmdlbmVyYXRlQ2FjaGUsZj1zLmdlbkJ1ZlZhcmlhYmxlQnl0ZUludCxwPXMuZ2VuZXJhdGU0Qnl0ZUJ1ZmZlcjtsZXQgZD1rLGc9ITA7ZnVuY3Rpb24geShlLHQscyl7c3dpdGNoKGwoXCJnZW5lcmF0ZSBjYWxsZWRcIiksdC5jb3JrJiYodC5jb3JrKCksYShiLHQpKSxnJiYoZz0hMSxoKCkpLGwoXCJnZW5lcmF0ZTogcGFja2V0LmNtZDogJXNcIixlLmNtZCksZS5jbWQpe2Nhc2VcImNvbm5lY3RcIjpyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG89ZXx8e30scz1vLnByb3RvY29sSWR8fFwiTVFUVFwiO2xldCBhPW8ucHJvdG9jb2xWZXJzaW9ufHw0O2NvbnN0IGw9by53aWxsO2xldCB1PW8uY2xlYW47Y29uc3QgYz1vLmtlZXBhbGl2ZXx8MCxoPW8uY2xpZW50SWR8fFwiXCIsZj1vLnVzZXJuYW1lLHA9by5wYXNzd29yZCxnPW8ucHJvcGVydGllczt2b2lkIDA9PT11JiYodT0hMCk7bGV0IHk9MDtpZighc3x8XCJzdHJpbmdcIiE9dHlwZW9mIHMmJiFyLmlzQnVmZmVyKHMpKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgcHJvdG9jb2xJZFwiKSksITE7eSs9cy5sZW5ndGgrMjtpZigzIT09YSYmNCE9PWEmJjUhPT1hKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgcHJvdG9jb2wgdmVyc2lvblwiKSksITE7eSs9MTtpZigoXCJzdHJpbmdcIj09dHlwZW9mIGh8fHIuaXNCdWZmZXIoaCkpJiYoaHx8YT49NCkmJihofHx1KSl5Kz1yLmJ5dGVMZW5ndGgoaCkrMjtlbHNle2lmKGE8NClyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJjbGllbnRJZCBtdXN0IGJlIHN1cHBsaWVkIGJlZm9yZSAzLjEuMVwiKSksITE7aWYoMSp1PT0wKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcImNsaWVudElkIG11c3QgYmUgZ2l2ZW4gaWYgY2xlYW5TZXNzaW9uIHNldCB0byAwXCIpKSwhMX1pZihcIm51bWJlclwiIT10eXBlb2YgY3x8YzwwfHxjPjY1NTM1fHxjJTEhPTApcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCBrZWVwYWxpdmVcIikpLCExO3krPTI7aWYoeSs9MSw1PT09YSl7dmFyIGI9Qyh0LGcpO2lmKCFiKXJldHVybiExO3krPWIubGVuZ3RofWlmKGwpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBsKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgd2lsbFwiKSksITE7aWYoIWwudG9waWN8fFwic3RyaW5nXCIhPXR5cGVvZiBsLnRvcGljKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgd2lsbCB0b3BpY1wiKSksITE7aWYoeSs9ci5ieXRlTGVuZ3RoKGwudG9waWMpKzIseSs9MixsLnBheWxvYWQpe2lmKCEobC5wYXlsb2FkLmxlbmd0aD49MCkpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCB3aWxsIHBheWxvYWRcIikpLCExO1wic3RyaW5nXCI9PXR5cGVvZiBsLnBheWxvYWQ/eSs9ci5ieXRlTGVuZ3RoKGwucGF5bG9hZCk6eSs9bC5wYXlsb2FkLmxlbmd0aH12YXIgbT17fTtpZig1PT09YSl7aWYoIShtPUModCxsLnByb3BlcnRpZXMpKSlyZXR1cm4hMTt5Kz1tLmxlbmd0aH19bGV0IF89ITE7aWYobnVsbCE9Zil7aWYoIVAoZikpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCB1c2VybmFtZVwiKSksITE7Xz0hMCx5Kz1yLmJ5dGVMZW5ndGgoZikrMn1pZihudWxsIT1wKXtpZighXylyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJVc2VybmFtZSBpcyByZXF1aXJlZCB0byB1c2UgcGFzc3dvcmRcIikpLCExO2lmKCFQKHApKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgcGFzc3dvcmRcIikpLCExO3krPUkocCkrMn10LndyaXRlKG4uQ09OTkVDVF9IRUFERVIpLHYodCx5KSxFKHQscyksby5icmlkZ2VNb2RlJiYoYSs9MTI4KTt0LndyaXRlKDEzMT09PWE/bi5WRVJTSU9OMTMxOjEzMj09PWE/bi5WRVJTSU9OMTMyOjQ9PT1hP24uVkVSU0lPTjQ6NT09PWE/bi5WRVJTSU9ONTpuLlZFUlNJT04zKTtsZXQgaz0wO2t8PW51bGwhPWY/bi5VU0VSTkFNRV9NQVNLOjAsa3w9bnVsbCE9cD9uLlBBU1NXT1JEX01BU0s6MCxrfD1sJiZsLnJldGFpbj9uLldJTExfUkVUQUlOX01BU0s6MCxrfD1sJiZsLnFvcz9sLnFvczw8bi5XSUxMX1FPU19TSElGVDowLGt8PWw/bi5XSUxMX0ZMQUdfTUFTSzowLGt8PXU/bi5DTEVBTl9TRVNTSU9OX01BU0s6MCx0LndyaXRlKHIuZnJvbShba10pKSxkKHQsYyksNT09PWEmJmIud3JpdGUoKTtFKHQsaCksbCYmKDU9PT1hJiZtLndyaXRlKCksdyh0LGwudG9waWMpLEUodCxsLnBheWxvYWQpKTtudWxsIT1mJiZFKHQsZik7bnVsbCE9cCYmRSh0LHApO3JldHVybiEwfShlLHQpO2Nhc2VcImNvbm5hY2tcIjpyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHM9aT9pLnByb3RvY29sVmVyc2lvbjo0LGE9ZXx8e30sbD01PT09cz9hLnJlYXNvbkNvZGU6YS5yZXR1cm5Db2RlLHU9YS5wcm9wZXJ0aWVzO2xldCBjPTI7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGwpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCByZXR1cm4gY29kZVwiKSksITE7bGV0IGg9bnVsbDtpZig1PT09cyl7aWYoIShoPUModCx1KSkpcmV0dXJuITE7Yys9aC5sZW5ndGh9dC53cml0ZShuLkNPTk5BQ0tfSEVBREVSKSx2KHQsYyksdC53cml0ZShhLnNlc3Npb25QcmVzZW50P24uU0VTU0lPTlBSRVNFTlRfSEVBREVSOm8pLHQud3JpdGUoci5mcm9tKFtsXSkpLG51bGwhPWgmJmgud3JpdGUoKTtyZXR1cm4hMH0oZSx0LHMpO2Nhc2VcInB1Ymxpc2hcIjpyZXR1cm4gZnVuY3Rpb24oZSx0LG8pe2woXCJwdWJsaXNoOiBwYWNrZXQ6ICVvXCIsZSk7Y29uc3Qgcz1vP28ucHJvdG9jb2xWZXJzaW9uOjQsYT1lfHx7fSx1PWEucW9zfHwwLGM9YS5yZXRhaW4/bi5SRVRBSU5fTUFTSzowLGg9YS50b3BpYyxmPWEucGF5bG9hZHx8aSxwPWEubWVzc2FnZUlkLGc9YS5wcm9wZXJ0aWVzO2xldCB5PTA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGgpeSs9ci5ieXRlTGVuZ3RoKGgpKzI7ZWxzZXtpZighci5pc0J1ZmZlcihoKSlyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJJbnZhbGlkIHRvcGljXCIpKSwhMTt5Kz1oLmxlbmd0aCsyfXIuaXNCdWZmZXIoZik/eSs9Zi5sZW5ndGg6eSs9ci5ieXRlTGVuZ3RoKGYpO2lmKHUmJlwibnVtYmVyXCIhPXR5cGVvZiBwKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTt1JiYoeSs9Mik7bGV0IGI9bnVsbDtpZig1PT09cyl7aWYoIShiPUModCxnKSkpcmV0dXJuITE7eSs9Yi5sZW5ndGh9dC53cml0ZShuLlBVQkxJU0hfSEVBREVSW3VdW2EuZHVwPzE6MF1bYz8xOjBdKSx2KHQseSksZCh0LEkoaCkpLHQud3JpdGUoaCksdT4wJiZkKHQscCk7bnVsbCE9YiYmYi53cml0ZSgpO3JldHVybiBsKFwicHVibGlzaDogcGF5bG9hZDogJW9cIixmKSx0LndyaXRlKGYpfShlLHQscyk7Y2FzZVwicHViYWNrXCI6Y2FzZVwicHVicmVjXCI6Y2FzZVwicHVicmVsXCI6Y2FzZVwicHViY29tcFwiOnJldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbz1pP2kucHJvdG9jb2xWZXJzaW9uOjQscz1lfHx7fSxhPXMuY21kfHxcInB1YmFja1wiLGw9cy5tZXNzYWdlSWQsdT1zLmR1cCYmXCJwdWJyZWxcIj09PWE/bi5EVVBfTUFTSzowO2xldCBjPTA7Y29uc3QgaD1zLnJlYXNvbkNvZGUsZj1zLnByb3BlcnRpZXM7bGV0IHA9NT09PW8/MzoyO1wicHVicmVsXCI9PT1hJiYoYz0xKTtpZihcIm51bWJlclwiIT10eXBlb2YgbClyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2VJZFwiKSksITE7bGV0IGc9bnVsbDtpZig1PT09byYmXCJvYmplY3RcIj09dHlwZW9mIGYpe2lmKCEoZz1UKHQsZixpLHApKSlyZXR1cm4hMTtwKz1nLmxlbmd0aH10LndyaXRlKG4uQUNLU1thXVtjXVt1XVswXSksdih0LHApLGQodCxsKSw1PT09byYmdC53cml0ZShyLmZyb20oW2hdKSk7bnVsbCE9PWcmJmcud3JpdGUoKTtyZXR1cm4hMH0oZSx0LHMpO2Nhc2VcInN1YnNjcmliZVwiOnJldHVybiBmdW5jdGlvbihlLHQsaSl7bChcInN1YnNjcmliZTogcGFja2V0OiBcIik7Y29uc3Qgbz1pP2kucHJvdG9jb2xWZXJzaW9uOjQscz1lfHx7fSxhPXMuZHVwP24uRFVQX01BU0s6MCx1PXMubWVzc2FnZUlkLGM9cy5zdWJzY3JpcHRpb25zLGg9cy5wcm9wZXJ0aWVzO2xldCBmPTA7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHUpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlSWRcIikpLCExO2YrPTI7bGV0IHA9bnVsbDtpZig1PT09byl7aWYoIShwPUModCxoKSkpcmV0dXJuITE7Zis9cC5sZW5ndGh9aWYoXCJvYmplY3RcIiE9dHlwZW9mIGN8fCFjLmxlbmd0aClyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbnNcIikpLCExO2ZvcihsZXQgZT0wO2U8Yy5sZW5ndGg7ZSs9MSl7Y29uc3Qgbj1jW2VdLnRvcGljLGk9Y1tlXS5xb3M7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG4pcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpcHRpb25zIC0gaW52YWxpZCB0b3BpY1wiKSksITE7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpcHRpb25zIC0gaW52YWxpZCBxb3NcIikpLCExO2lmKDU9PT1vKXtjb25zdCByPWNbZV0ubmx8fCExO2lmKFwiYm9vbGVhblwiIT10eXBlb2YgcilyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbnMgLSBpbnZhbGlkIE5vIExvY2FsXCIpKSwhMTtjb25zdCBuPWNbZV0ucmFwfHwhMTtpZihcImJvb2xlYW5cIiE9dHlwZW9mIG4pcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpcHRpb25zIC0gaW52YWxpZCBSZXRhaW4gYXMgUHVibGlzaGVkXCIpKSwhMTtjb25zdCBpPWNbZV0ucmh8fDA7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGl8fGk+MilyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbnMgLSBpbnZhbGlkIFJldGFpbiBIYW5kbGluZ1wiKSksITF9Zis9ci5ieXRlTGVuZ3RoKG4pKzIrMX1sKFwic3Vic2NyaWJlOiB3cml0aW5nIHRvIHN0cmVhbTogJW9cIixuLlNVQlNDUklCRV9IRUFERVIpLHQud3JpdGUobi5TVUJTQ1JJQkVfSEVBREVSWzFdW2E/MTowXVswXSksdih0LGYpLGQodCx1KSxudWxsIT09cCYmcC53cml0ZSgpO2xldCBnPSEwO2Zvcihjb25zdCBlIG9mIGMpe2NvbnN0IGk9ZS50b3BpYyxzPWUucW9zLGE9K2UubmwsbD0rZS5yYXAsdT1lLnJoO2xldCBjO3codCxpKSxjPW4uU1VCU0NSSUJFX09QVElPTlNfUU9TW3NdLDU9PT1vJiYoY3w9YT9uLlNVQlNDUklCRV9PUFRJT05TX05MOjAsY3w9bD9uLlNVQlNDUklCRV9PUFRJT05TX1JBUDowLGN8PXU/bi5TVUJTQ1JJQkVfT1BUSU9OU19SSFt1XTowKSxnPXQud3JpdGUoci5mcm9tKFtjXSkpfXJldHVybiBnfShlLHQscyk7Y2FzZVwic3ViYWNrXCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtjb25zdCBvPWk/aS5wcm90b2NvbFZlcnNpb246NCxzPWV8fHt9LGE9cy5tZXNzYWdlSWQsbD1zLmdyYW50ZWQsdT1zLnByb3BlcnRpZXM7bGV0IGM9MDtpZihcIm51bWJlclwiIT10eXBlb2YgYSlyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2VJZFwiKSksITE7Yys9MjtpZihcIm9iamVjdFwiIT10eXBlb2YgbHx8IWwubGVuZ3RoKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgcW9zIHZlY3RvclwiKSksITE7Zm9yKGxldCBlPTA7ZTxsLmxlbmd0aDtlKz0xKXtpZihcIm51bWJlclwiIT10eXBlb2YgbFtlXSlyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJJbnZhbGlkIHFvcyB2ZWN0b3JcIikpLCExO2MrPTF9bGV0IGg9bnVsbDtpZig1PT09byl7aWYoIShoPVQodCx1LGksYykpKXJldHVybiExO2MrPWgubGVuZ3RofXQud3JpdGUobi5TVUJBQ0tfSEVBREVSKSx2KHQsYyksZCh0LGEpLG51bGwhPT1oJiZoLndyaXRlKCk7cmV0dXJuIHQud3JpdGUoci5mcm9tKGwpKX0oZSx0LHMpO2Nhc2VcInVuc3Vic2NyaWJlXCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtjb25zdCBvPWk/aS5wcm90b2NvbFZlcnNpb246NCxzPWV8fHt9LGE9cy5tZXNzYWdlSWQsbD1zLmR1cD9uLkRVUF9NQVNLOjAsdT1zLnVuc3Vic2NyaXB0aW9ucyxjPXMucHJvcGVydGllcztsZXQgaD0wO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBhKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTtoKz0yO2lmKFwib2JqZWN0XCIhPXR5cGVvZiB1fHwhdS5sZW5ndGgpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCB1bnN1YnNjcmlwdGlvbnNcIikpLCExO2ZvcihsZXQgZT0wO2U8dS5sZW5ndGg7ZSs9MSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHVbZV0pcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCB1bnN1YnNjcmlwdGlvbnNcIikpLCExO2grPXIuYnl0ZUxlbmd0aCh1W2VdKSsyfWxldCBmPW51bGw7aWYoNT09PW8pe2lmKCEoZj1DKHQsYykpKXJldHVybiExO2grPWYubGVuZ3RofXQud3JpdGUobi5VTlNVQlNDUklCRV9IRUFERVJbMV1bbD8xOjBdWzBdKSx2KHQsaCksZCh0LGEpLG51bGwhPT1mJiZmLndyaXRlKCk7bGV0IHA9ITA7Zm9yKGxldCBlPTA7ZTx1Lmxlbmd0aDtlKyspcD13KHQsdVtlXSk7cmV0dXJuIHB9KGUsdCxzKTtjYXNlXCJ1bnN1YmFja1wiOnJldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbz1pP2kucHJvdG9jb2xWZXJzaW9uOjQscz1lfHx7fSxhPXMubWVzc2FnZUlkLGw9cy5kdXA/bi5EVVBfTUFTSzowLHU9cy5ncmFudGVkLGM9cy5wcm9wZXJ0aWVzLGg9cy5jbWQ7bGV0IGY9MjtpZihcIm51bWJlclwiIT10eXBlb2YgYSlyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2VJZFwiKSksITE7aWYoNT09PW8pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB1fHwhdS5sZW5ndGgpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCBxb3MgdmVjdG9yXCIpKSwhMTtmb3IobGV0IGU9MDtlPHUubGVuZ3RoO2UrPTEpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB1W2VdKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkludmFsaWQgcW9zIHZlY3RvclwiKSksITE7Zis9MX19bGV0IHA9bnVsbDtpZig1PT09byl7aWYoIShwPVQodCxjLGksZikpKXJldHVybiExO2YrPXAubGVuZ3RofXQud3JpdGUobi5BQ0tTW2hdWzBdW2xdWzBdKSx2KHQsZiksZCh0LGEpLG51bGwhPT1wJiZwLndyaXRlKCk7NT09PW8mJnQud3JpdGUoci5mcm9tKHUpKTtyZXR1cm4hMH0oZSx0LHMpO2Nhc2VcInBpbmdyZXFcIjpjYXNlXCJwaW5ncmVzcFwiOnJldHVybiBmdW5jdGlvbihlLHQscil7cmV0dXJuIHQud3JpdGUobi5FTVBUWVtlLmNtZF0pfShlLHQpO2Nhc2VcImRpc2Nvbm5lY3RcIjpyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG89aT9pLnByb3RvY29sVmVyc2lvbjo0LHM9ZXx8e30sYT1zLnJlYXNvbkNvZGUsbD1zLnByb3BlcnRpZXM7bGV0IHU9NT09PW8/MTowLGM9bnVsbDtpZig1PT09byl7aWYoIShjPVQodCxsLGksdSkpKXJldHVybiExO3UrPWMubGVuZ3RofXQud3JpdGUoci5mcm9tKFtuLmNvZGVzLmRpc2Nvbm5lY3Q8PDRdKSksdih0LHUpLDU9PT1vJiZ0LndyaXRlKHIuZnJvbShbYV0pKTtudWxsIT09YyYmYy53cml0ZSgpO3JldHVybiEwfShlLHQscyk7Y2FzZVwiYXV0aFwiOnJldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbz1pP2kucHJvdG9jb2xWZXJzaW9uOjQscz1lfHx7fSxhPXMucmVhc29uQ29kZSxsPXMucHJvcGVydGllcztsZXQgdT01PT09bz8xOjA7NSE9PW8mJnQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiSW52YWxpZCBtcXR0IHZlcnNpb24gZm9yIGF1dGggcGFja2V0XCIpKTtjb25zdCBjPVQodCxsLGksdSk7aWYoIWMpcmV0dXJuITE7dSs9Yy5sZW5ndGgsdC53cml0ZShyLmZyb20oW24uY29kZXMuYXV0aDw8NF0pKSx2KHQsdSksdC53cml0ZShyLmZyb20oW2FdKSksbnVsbCE9PWMmJmMud3JpdGUoKTtyZXR1cm4hMH0oZSx0LHMpO2RlZmF1bHQ6cmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiVW5rbm93biBjb21tYW5kXCIpKSwhMX19ZnVuY3Rpb24gYihlKXtlLnVuY29yaygpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh5LFwiY2FjaGVOdW1iZXJzXCIse2dldDooKT0+ZD09PWssc2V0KGUpe2U/KHUmJjAhPT1PYmplY3Qua2V5cyh1KS5sZW5ndGh8fChnPSEwKSxkPWspOihnPSExLGQ9Uyl9fSk7Y29uc3QgbT17fTtmdW5jdGlvbiB2KGUsdCl7aWYodD5uLlZBUkJZVEVJTlRfTUFYKXJldHVybiBlLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgSW52YWxpZCB2YXJpYWJsZSBieXRlIGludGVnZXI6ICR7dH1gKSksITE7bGV0IHI9bVt0XTtyZXR1cm4gcnx8KHI9Zih0KSx0PDE2Mzg0JiYobVt0XT1yKSksbChcIndyaXRlVmFyQnl0ZUludDogd3JpdGluZyB0byBzdHJlYW06ICVvXCIsciksZS53cml0ZShyKX1mdW5jdGlvbiB3KGUsdCl7Y29uc3Qgbj1yLmJ5dGVMZW5ndGgodCk7cmV0dXJuIGQoZSxuKSxsKFwid3JpdGVTdHJpbmc6ICVzXCIsdCksZS53cml0ZSh0LFwidXRmOFwiKX1mdW5jdGlvbiBfKGUsdCxyKXt3KGUsdCksdyhlLHIpfWZ1bmN0aW9uIGsoZSx0KXtyZXR1cm4gbChcIndyaXRlTnVtYmVyQ2FjaGVkOiBudW1iZXI6ICVkXCIsdCksbChcIndyaXRlTnVtYmVyQ2FjaGVkOiAlb1wiLHVbdF0pLGUud3JpdGUodVt0XSl9ZnVuY3Rpb24gUyhlLHQpe2NvbnN0IHI9Yyh0KTtyZXR1cm4gbChcIndyaXRlTnVtYmVyR2VuZXJhdGVkOiAlb1wiLHIpLGUud3JpdGUocil9ZnVuY3Rpb24gRShlLHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3coZSx0KTp0PyhkKGUsdC5sZW5ndGgpLGUud3JpdGUodCkpOmQoZSwwKX1mdW5jdGlvbiBDKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fG51bGwhPXQubGVuZ3RoKXJldHVybntsZW5ndGg6MSx3cml0ZSgpe0EoZSx7fSwwKX19O2xldCBpPTA7ZnVuY3Rpb24gbyh0LGkpe2xldCBvPTA7c3dpdGNoKG4ucHJvcGVydGllc1R5cGVzW3RdKXtjYXNlXCJieXRlXCI6aWYoXCJib29sZWFuXCIhPXR5cGVvZiBpKXJldHVybiBlLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgSW52YWxpZCAke3R9OiAke2l9YCkpLCExO28rPTI7YnJlYWs7Y2FzZVwiaW50OFwiOmlmKFwibnVtYmVyXCIhPXR5cGVvZiBpfHxpPDB8fGk+MjU1KXJldHVybiBlLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgSW52YWxpZCAke3R9OiAke2l9YCkpLCExO28rPTI7YnJlYWs7Y2FzZVwiYmluYXJ5XCI6aWYoaSYmbnVsbD09PWkpcmV0dXJuIGUuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKGBJbnZhbGlkICR7dH06ICR7aX1gKSksITE7bys9MStyLmJ5dGVMZW5ndGgoaSkrMjticmVhaztjYXNlXCJpbnQxNlwiOmlmKFwibnVtYmVyXCIhPXR5cGVvZiBpfHxpPDB8fGk+NjU1MzUpcmV0dXJuIGUuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKGBJbnZhbGlkICR7dH06ICR7aX1gKSksITE7bys9MzticmVhaztjYXNlXCJpbnQzMlwiOmlmKFwibnVtYmVyXCIhPXR5cGVvZiBpfHxpPDB8fGk+NDI5NDk2NzI5NSlyZXR1cm4gZS5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoYEludmFsaWQgJHt0fTogJHtpfWApKSwhMTtvKz01O2JyZWFrO2Nhc2VcInZhclwiOmlmKFwibnVtYmVyXCIhPXR5cGVvZiBpfHxpPDB8fGk+MjY4NDM1NDU1KXJldHVybiBlLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgSW52YWxpZCAke3R9OiAke2l9YCkpLCExO28rPTErci5ieXRlTGVuZ3RoKGYoaSkpO2JyZWFrO2Nhc2VcInN0cmluZ1wiOmlmKFwic3RyaW5nXCIhPXR5cGVvZiBpKXJldHVybiBlLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgSW52YWxpZCAke3R9OiAke2l9YCkpLCExO28rPTMrci5ieXRlTGVuZ3RoKGkudG9TdHJpbmcoKSk7YnJlYWs7Y2FzZVwicGFpclwiOmlmKFwib2JqZWN0XCIhPXR5cGVvZiBpKXJldHVybiBlLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgSW52YWxpZCAke3R9OiAke2l9YCkpLCExO28rPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpLnJlZHVjZSgoZSx0KT0+e2NvbnN0IG49aVt0XTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9lKz1uLnJlZHVjZSgoZSxuKT0+ZSs9MytyLmJ5dGVMZW5ndGgodC50b1N0cmluZygpKSsyK3IuYnl0ZUxlbmd0aChuLnRvU3RyaW5nKCkpLDApOmUrPTMrci5ieXRlTGVuZ3RoKHQudG9TdHJpbmcoKSkrMityLmJ5dGVMZW5ndGgoaVt0XS50b1N0cmluZygpKSxlfSwwKTticmVhaztkZWZhdWx0OnJldHVybiBlLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgSW52YWxpZCBwcm9wZXJ0eSAke3R9OiAke2l9YCkpLCExfXJldHVybiBvfWlmKHQpZm9yKGNvbnN0IGUgaW4gdCl7bGV0IHI9MCxuPTA7Y29uc3Qgcz10W2VdO2lmKEFycmF5LmlzQXJyYXkocykpZm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kyspe2lmKCEobj1vKGUsc1t0XSkpKXJldHVybiExO3IrPW59ZWxzZXtpZighKG49byhlLHMpKSlyZXR1cm4hMTtyPW59aWYoIXIpcmV0dXJuITE7aSs9cn1yZXR1cm57bGVuZ3RoOnIuYnl0ZUxlbmd0aChmKGkpKStpLHdyaXRlKCl7QShlLHQsaSl9fX1mdW5jdGlvbiBUKGUsdCxyLG4pe2NvbnN0IGk9W1wicmVhc29uU3RyaW5nXCIsXCJ1c2VyUHJvcGVydGllc1wiXSxvPXImJnIucHJvcGVydGllcyYmci5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplP3IucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZTowO2xldCBzPUMoZSx0KTtpZihvKWZvcig7bitzLmxlbmd0aD5vOyl7Y29uc3Qgcj1pLnNoaWZ0KCk7aWYoIXJ8fCF0W3JdKXJldHVybiExO2RlbGV0ZSB0W3JdLHM9QyhlLHQpfXJldHVybiBzfWZ1bmN0aW9uIHgoZSx0LGkpe3N3aXRjaChuLnByb3BlcnRpZXNUeXBlc1t0XSl7Y2FzZVwiYnl0ZVwiOmUud3JpdGUoci5mcm9tKFtuLnByb3BlcnRpZXNbdF1dKSksZS53cml0ZShyLmZyb20oWytpXSkpO2JyZWFrO2Nhc2VcImludDhcIjplLndyaXRlKHIuZnJvbShbbi5wcm9wZXJ0aWVzW3RdXSkpLGUud3JpdGUoci5mcm9tKFtpXSkpO2JyZWFrO2Nhc2VcImJpbmFyeVwiOmUud3JpdGUoci5mcm9tKFtuLnByb3BlcnRpZXNbdF1dKSksRShlLGkpO2JyZWFrO2Nhc2VcImludDE2XCI6ZS53cml0ZShyLmZyb20oW24ucHJvcGVydGllc1t0XV0pKSxkKGUsaSk7YnJlYWs7Y2FzZVwiaW50MzJcIjplLndyaXRlKHIuZnJvbShbbi5wcm9wZXJ0aWVzW3RdXSkpLGZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1wKHQpO2woXCJ3cml0ZTRCeXRlTnVtYmVyOiAlb1wiLHIpLGUud3JpdGUocil9KGUsaSk7YnJlYWs7Y2FzZVwidmFyXCI6ZS53cml0ZShyLmZyb20oW24ucHJvcGVydGllc1t0XV0pKSx2KGUsaSk7YnJlYWs7Y2FzZVwic3RyaW5nXCI6ZS53cml0ZShyLmZyb20oW24ucHJvcGVydGllc1t0XV0pKSx3KGUsaSk7YnJlYWs7Y2FzZVwicGFpclwiOk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpLmZvckVhY2gobz0+e2NvbnN0IHM9aVtvXTtBcnJheS5pc0FycmF5KHMpP3MuZm9yRWFjaChpPT57ZS53cml0ZShyLmZyb20oW24ucHJvcGVydGllc1t0XV0pKSxfKGUsby50b1N0cmluZygpLGkudG9TdHJpbmcoKSl9KTooZS53cml0ZShyLmZyb20oW24ucHJvcGVydGllc1t0XV0pKSxfKGUsby50b1N0cmluZygpLHMudG9TdHJpbmcoKSkpfSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gZS5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoYEludmFsaWQgcHJvcGVydHkgJHt0fSB2YWx1ZTogJHtpfWApKSwhMX19ZnVuY3Rpb24gQShlLHQscil7dihlLHIpO2Zvcihjb25zdCByIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJm51bGwhPT10W3JdKXtjb25zdCBuPXRbcl07aWYoQXJyYXkuaXNBcnJheShuKSlmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl4KGUscixuW3RdKTtlbHNlIHgoZSxyLG4pfX1mdW5jdGlvbiBJKGUpe3JldHVybiBlP2UgaW5zdGFuY2VvZiByP2UubGVuZ3RoOnIuYnl0ZUxlbmd0aChlKTowfWZ1bmN0aW9uIFAoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiByfXQuZXhwb3J0cz15fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKFwiYnVmZmVyXCIpLkJ1ZmZlcil9LHtcIi4vY29uc3RhbnRzXCI6MzgsXCIuL251bWJlcnNcIjo0MSxidWZmZXI6MTcsZGVidWc6MTgsXCJwcm9jZXNzLW5leHRpY2stYXJnc1wiOjQ5fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj0xZTMsaT02MCpuLG89NjAqaSxzPTI0Km8sYT03KnMsbD0zNjUuMjUqcztmdW5jdGlvbiB1KGUsdCxyLG4pe3ZhciBpPXQ+PTEuNSpyO3JldHVybiBNYXRoLnJvdW5kKGUvcikrXCIgXCIrbisoaT9cInNcIjpcIlwiKX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciByPXR5cGVvZiBlO2lmKFwic3RyaW5nXCI9PT1yJiZlLmxlbmd0aD4wKXJldHVybiBmdW5jdGlvbihlKXtpZigoZT1TdHJpbmcoZSkpLmxlbmd0aD4xMDApcmV0dXJuO3ZhciB0PS9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhlKTtpZighdClyZXR1cm47dmFyIHI9cGFyc2VGbG9hdCh0WzFdKTtzd2l0Y2goKHRbMl18fFwibXNcIikudG9Mb3dlckNhc2UoKSl7Y2FzZVwieWVhcnNcIjpjYXNlXCJ5ZWFyXCI6Y2FzZVwieXJzXCI6Y2FzZVwieXJcIjpjYXNlXCJ5XCI6cmV0dXJuIHIqbDtjYXNlXCJ3ZWVrc1wiOmNhc2VcIndlZWtcIjpjYXNlXCJ3XCI6cmV0dXJuIHIqYTtjYXNlXCJkYXlzXCI6Y2FzZVwiZGF5XCI6Y2FzZVwiZFwiOnJldHVybiByKnM7Y2FzZVwiaG91cnNcIjpjYXNlXCJob3VyXCI6Y2FzZVwiaHJzXCI6Y2FzZVwiaHJcIjpjYXNlXCJoXCI6cmV0dXJuIHIqbztjYXNlXCJtaW51dGVzXCI6Y2FzZVwibWludXRlXCI6Y2FzZVwibWluc1wiOmNhc2VcIm1pblwiOmNhc2VcIm1cIjpyZXR1cm4gcippO2Nhc2VcInNlY29uZHNcIjpjYXNlXCJzZWNvbmRcIjpjYXNlXCJzZWNzXCI6Y2FzZVwic2VjXCI6Y2FzZVwic1wiOnJldHVybiByKm47Y2FzZVwibWlsbGlzZWNvbmRzXCI6Y2FzZVwibWlsbGlzZWNvbmRcIjpjYXNlXCJtc2Vjc1wiOmNhc2VcIm1zZWNcIjpjYXNlXCJtc1wiOnJldHVybiByO2RlZmF1bHQ6cmV0dXJufX0oZSk7aWYoXCJudW1iZXJcIj09PXImJmlzRmluaXRlKGUpKXJldHVybiB0Lmxvbmc/ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5hYnMoZSk7aWYodD49cylyZXR1cm4gdShlLHQscyxcImRheVwiKTtpZih0Pj1vKXJldHVybiB1KGUsdCxvLFwiaG91clwiKTtpZih0Pj1pKXJldHVybiB1KGUsdCxpLFwibWludXRlXCIpO2lmKHQ+PW4pcmV0dXJuIHUoZSx0LG4sXCJzZWNvbmRcIik7cmV0dXJuIGUrXCIgbXNcIn0oZSk6ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5hYnMoZSk7aWYodD49cylyZXR1cm4gTWF0aC5yb3VuZChlL3MpK1wiZFwiO2lmKHQ+PW8pcmV0dXJuIE1hdGgucm91bmQoZS9vKStcImhcIjtpZih0Pj1pKXJldHVybiBNYXRoLnJvdW5kKGUvaSkrXCJtXCI7aWYodD49bilyZXR1cm4gTWF0aC5yb3VuZChlL24pK1wic1wiO3JldHVybiBlK1wibXNcIn0oZSk7dGhyb3cgbmV3IEVycm9yKFwidmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD1cIitKU09OLnN0cmluZ2lmeShlKSl9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXtjb25zdCBuPWUoXCIuL2xpYi9udW1iZXItYWxsb2NhdG9yLmpzXCIpO3QuZXhwb3J0cy5OdW1iZXJBbGxvY2F0b3I9bn0se1wiLi9saWIvbnVtYmVyLWFsbG9jYXRvci5qc1wiOjQ3fV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPWUoXCJqcy1zZHNsXCIpLlNldCxpPWUoXCJkZWJ1Z1wiKShcIm51bWJlci1hbGxvY2F0b3I6dHJhY2VcIiksbz1lKFwiZGVidWdcIikoXCJudW1iZXItYWxsb2NhdG9yOmVycm9yXCIpO2Z1bmN0aW9uIHMoZSx0KXt0aGlzLmxvdz1lLHRoaXMuaGlnaD10fWZ1bmN0aW9uIGEoZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBhKSlyZXR1cm4gbmV3IGEoZSx0KTt0aGlzLm1pbj1lLHRoaXMubWF4PXQsdGhpcy5zcz1uZXcgbihbXSwoZSx0KT0+ZS5jb21wYXJlKHQpKSxpKFwiQ3JlYXRlXCIpLHRoaXMuY2xlYXIoKX1zLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG93PT09ZS5sb3cmJnRoaXMuaGlnaD09PWUuaGlnaH0scy5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sb3c8ZS5sb3cmJnRoaXMuaGlnaDxlLmxvdz8tMTplLmxvdzx0aGlzLmxvdyYmZS5oaWdoPHRoaXMubG93PzE6MH0sYS5wcm90b3R5cGUuZmlyc3RWYWNhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc3Muc2l6ZSgpP251bGw6dGhpcy5zcy5mcm9udCgpLmxvd30sYS5wcm90b3R5cGUuYWxsb2M9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5zcy5zaXplKCkpcmV0dXJuIGkoXCJhbGxvYygpOmVtcHR5XCIpLG51bGw7Y29uc3QgZT10aGlzLnNzLmZyb250KCksdD1lLmxvdztyZXR1cm4gdCsxPD1lLmhpZ2g/KytlLmxvdzp0aGlzLnNzLmVyYXNlRWxlbWVudEJ5UG9zKDApLGkoXCJhbGxvYygpOlwiK3QpLHR9LGEucHJvdG90eXBlLnVzZT1mdW5jdGlvbihlKXtjb25zdCB0PW5ldyBzKGUsZSkscj10aGlzLnNzLmxvd2VyQm91bmQodCk7aWYocil7aWYoci5lcXVhbHModCkpcmV0dXJuIHRoaXMuc3MuZXJhc2VFbGVtZW50QnlWYWx1ZShyKSxpKFwidXNlKCk6XCIrZSksITA7aWYoci5sb3c+ZSlyZXR1cm4hMTtpZihyLmxvdz09PWUpcmV0dXJuKytyLmxvdyxpKFwidXNlKCk6XCIrZSksITA7aWYoci5oaWdoPT09ZSlyZXR1cm4tLXIuaGlnaCxpKFwidXNlKCk6XCIrZSksITA7Y29uc3Qgbj1yLmxvdztyZXR1cm4gci5sb3c9ZSsxLHRoaXMuc3MuaW5zZXJ0KG5ldyBzKG4sZS0xKSksaShcInVzZSgpOlwiK2UpLCEwfXJldHVybiBpKFwidXNlKCk6ZmFpbGVkXCIpLCExfSxhLnByb3RvdHlwZS5mcmVlPWZ1bmN0aW9uKGUpe2lmKGU8dGhpcy5taW58fGU+dGhpcy5tYXgpcmV0dXJuIHZvaWQgbyhcImZyZWUoKTpcIitlK1wiIGlzIG91dCBvZiByYW5nZVwiKTtjb25zdCB0PW5ldyBzKGUsZSkscj10aGlzLnNzLmxvd2VyQm91bmQodCk7aWYocil7aWYoci5sb3c8PWUmJmU8PXIuaGlnaClyZXR1cm4gdm9pZCBvKFwiZnJlZSgpOlwiK2UrXCIgaGFzIGFscmVhZHkgYmVlbiB2YWNhbnRcIik7aWYocj09PXRoaXMuc3MuZnJvbnQoKSllKzE9PT1yLmxvdz8tLXIubG93OnRoaXMuc3MuaW5zZXJ0KHQpO2Vsc2V7Y29uc3Qgbj10aGlzLnNzLnJldmVyc2VMb3dlckJvdW5kKHQpO24uaGlnaCsxPT09ZT9lKzE9PT1yLmxvdz8odGhpcy5zcy5lcmFzZUVsZW1lbnRCeVZhbHVlKG4pLHIubG93PW4ubG93KTpuLmhpZ2g9ZTplKzE9PT1yLmxvdz9yLmxvdz1lOnRoaXMuc3MuaW5zZXJ0KHQpfX1lbHNle2lmKHI9PT10aGlzLnNzLmZyb250KCkpcmV0dXJuIHZvaWQgdGhpcy5zcy5pbnNlcnQodCk7Y29uc3Qgbj10aGlzLnNzLnJldmVyc2VMb3dlckJvdW5kKHQpO24uaGlnaCsxPT09ZT9uLmhpZ2g9ZTp0aGlzLnNzLmluc2VydCh0KX1pKFwiZnJlZSgpOlwiK2UpfSxhLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2koXCJjbGVhcigpXCIpLHRoaXMuc3MuY2xlYXIoKSx0aGlzLnNzLmluc2VydChuZXcgcyh0aGlzLm1pbix0aGlzLm1heCkpfSxhLnByb3RvdHlwZS5pbnRlcnZhbENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3Muc2l6ZSgpfSxhLnByb3RvdHlwZS5kdW1wPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJsZW5ndGg6XCIrdGhpcy5zcy5zaXplKCkpO2Zvcihjb25zdCBlIG9mIHRoaXMuc3MpY29uc29sZS5sb2coZSl9LHQuZXhwb3J0cz1hfSx7ZGVidWc6MTgsXCJqcy1zZHNsXCI6MzZ9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoXCJ3cmFwcHlcIik7ZnVuY3Rpb24gaShlKXt2YXIgdD1mdW5jdGlvbigpe3JldHVybiB0LmNhbGxlZD90LnZhbHVlOih0LmNhbGxlZD0hMCx0LnZhbHVlPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX07cmV0dXJuIHQuY2FsbGVkPSExLHR9ZnVuY3Rpb24gbyhlKXt2YXIgdD1mdW5jdGlvbigpe2lmKHQuY2FsbGVkKXRocm93IG5ldyBFcnJvcih0Lm9uY2VFcnJvcik7cmV0dXJuIHQuY2FsbGVkPSEwLHQudmFsdWU9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHI9ZS5uYW1lfHxcIkZ1bmN0aW9uIHdyYXBwZWQgd2l0aCBgb25jZWBcIjtyZXR1cm4gdC5vbmNlRXJyb3I9citcIiBzaG91bGRuJ3QgYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlXCIsdC5jYWxsZWQ9ITEsdH10LmV4cG9ydHM9bihpKSx0LmV4cG9ydHMuc3RyaWN0PW4obyksaS5wcm90bz1pKGZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VTdHJpY3RcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSl9KX0se3dyYXBweTo3OX1dLDQ5OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpeyhmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZvaWQgMD09PWV8fCFlLnZlcnNpb258fDA9PT1lLnZlcnNpb24uaW5kZXhPZihcInYwLlwiKXx8MD09PWUudmVyc2lvbi5pbmRleE9mKFwidjEuXCIpJiYwIT09ZS52ZXJzaW9uLmluZGV4T2YoXCJ2MS44LlwiKT90LmV4cG9ydHM9e25leHRUaWNrOmZ1bmN0aW9uKHQscixuLGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3ZhciBvLHMsYT1hcmd1bWVudHMubGVuZ3RoO3N3aXRjaChhKXtjYXNlIDA6Y2FzZSAxOnJldHVybiBlLm5leHRUaWNrKHQpO2Nhc2UgMjpyZXR1cm4gZS5uZXh0VGljayhmdW5jdGlvbigpe3QuY2FsbChudWxsLHIpfSk7Y2FzZSAzOnJldHVybiBlLm5leHRUaWNrKGZ1bmN0aW9uKCl7dC5jYWxsKG51bGwscixuKX0pO2Nhc2UgNDpyZXR1cm4gZS5uZXh0VGljayhmdW5jdGlvbigpe3QuY2FsbChudWxsLHIsbixpKX0pO2RlZmF1bHQ6Zm9yKG89bmV3IEFycmF5KGEtMSkscz0wO3M8by5sZW5ndGg7KW9bcysrXT1hcmd1bWVudHNbc107cmV0dXJuIGUubmV4dFRpY2soZnVuY3Rpb24oKXt0LmFwcGx5KG51bGwsbyl9KX19fTp0LmV4cG9ydHM9ZX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZShcIl9wcm9jZXNzXCIpKX0se19wcm9jZXNzOjUwfV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixpLG89dC5leHBvcnRzPXt9O2Z1bmN0aW9uIHMoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbChlKXtpZihuPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChuPT09c3x8IW4pJiZzZXRUaW1lb3V0KXJldHVybiBuPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gbihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gbi5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpzfWNhdGNoKGUpe249c310cnl7aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmF9Y2F0Y2goZSl7aT1hfX0oKTt2YXIgdSxjPVtdLGg9ITEsZj0tMTtmdW5jdGlvbiBwKCl7aCYmdSYmKGg9ITEsdS5sZW5ndGg/Yz11LmNvbmNhdChjKTpmPS0xLGMubGVuZ3RoJiZkKCkpfWZ1bmN0aW9uIGQoKXtpZighaCl7dmFyIGU9bChwKTtoPSEwO2Zvcih2YXIgdD1jLmxlbmd0aDt0Oyl7Zm9yKHU9YyxjPVtdOysrZjx0Oyl1JiZ1W2ZdLnJ1bigpO2Y9LTEsdD1jLmxlbmd0aH11PW51bGwsaD0hMSxmdW5jdGlvbihlKXtpZihpPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKGk9PT1hfHwhaSkmJmNsZWFyVGltZW91dClyZXR1cm4gaT1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtpKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gaS5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIGkuY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBnKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24geSgpe31vLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07Yy5wdXNoKG5ldyBnKGUsdCkpLDEhPT1jLmxlbmd0aHx8aHx8bChkKX0sZy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sby50aXRsZT1cImJyb3dzZXJcIixvLmJyb3dzZXI9ITAsby5lbnY9e30sby5hcmd2PVtdLG8udmVyc2lvbj1cIlwiLG8udmVyc2lvbnM9e30sby5vbj15LG8uYWRkTGlzdGVuZXI9eSxvLm9uY2U9eSxvLm9mZj15LG8ucmVtb3ZlTGlzdGVuZXI9eSxvLnJlbW92ZUFsbExpc3RlbmVycz15LG8uZW1pdD15LG8ucHJlcGVuZExpc3RlbmVyPXksby5wcmVwZW5kT25jZUxpc3RlbmVyPXksby5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LG8uYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sby5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sby5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LG8udW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHt9XSw1MTpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXshZnVuY3Rpb24obil7dmFyIGk9XCJvYmplY3RcIj09dHlwZW9mIHImJnImJiFyLm5vZGVUeXBlJiZyLG89XCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJiF0Lm5vZGVUeXBlJiZ0LHM9XCJvYmplY3RcIj09dHlwZW9mIGUmJmU7cy5nbG9iYWwhPT1zJiZzLndpbmRvdyE9PXMmJnMuc2VsZiE9PXN8fChuPXMpO3ZhciBhLGwsdT0yMTQ3NDgzNjQ3LGM9MzYsaD0xLGY9MjYscD0zOCxkPTcwMCxnPTcyLHk9MTI4LGI9XCItXCIsbT0vXnhuLS0vLHY9L1teXFx4MjAtXFx4N0VdLyx3PS9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csXz17b3ZlcmZsb3c6XCJPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2Vzc1wiLFwibm90LWJhc2ljXCI6XCJJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpXCIsXCJpbnZhbGlkLWlucHV0XCI6XCJJbnZhbGlkIGlucHV0XCJ9LGs9Yy1oLFM9TWF0aC5mbG9vcixFPVN0cmluZy5mcm9tQ2hhckNvZGU7ZnVuY3Rpb24gQyhlKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihfW2VdKX1mdW5jdGlvbiBUKGUsdCl7Zm9yKHZhciByPWUubGVuZ3RoLG49W107ci0tOyluW3JdPXQoZVtyXSk7cmV0dXJuIG59ZnVuY3Rpb24geChlLHQpe3ZhciByPWUuc3BsaXQoXCJAXCIpLG49XCJcIjtyZXR1cm4gci5sZW5ndGg+MSYmKG49clswXStcIkBcIixlPXJbMV0pLG4rVCgoZT1lLnJlcGxhY2UodyxcIi5cIikpLnNwbGl0KFwiLlwiKSx0KS5qb2luKFwiLlwiKX1mdW5jdGlvbiBBKGUpe2Zvcih2YXIgdCxyLG49W10saT0wLG89ZS5sZW5ndGg7aTxvOykodD1lLmNoYXJDb2RlQXQoaSsrKSk+PTU1Mjk2JiZ0PD01NjMxOSYmaTxvPzU2MzIwPT0oNjQ1MTImKHI9ZS5jaGFyQ29kZUF0KGkrKykpKT9uLnB1c2goKCgxMDIzJnQpPDwxMCkrKDEwMjMmcikrNjU1MzYpOihuLnB1c2godCksaS0tKTpuLnB1c2godCk7cmV0dXJuIG59ZnVuY3Rpb24gSShlKXtyZXR1cm4gVChlLGZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGU+NjU1MzUmJih0Kz1FKChlLT02NTUzNik+Pj4xMCYxMDIzfDU1Mjk2KSxlPTU2MzIwfDEwMjMmZSksdCs9RShlKX0pLmpvaW4oXCJcIil9ZnVuY3Rpb24gUChlLHQpe3JldHVybiBlKzIyKzc1KihlPDI2KS0oKDAhPXQpPDw1KX1mdW5jdGlvbiBPKGUsdCxyKXt2YXIgbj0wO2ZvcihlPXI/UyhlL2QpOmU+PjEsZSs9UyhlL3QpO2U+aypmPj4xO24rPWMpZT1TKGUvayk7cmV0dXJuIFMobisoaysxKSplLyhlK3ApKX1mdW5jdGlvbiBCKGUpe3ZhciB0LHIsbixpLG8scyxhLGwscCxkLG0sdj1bXSx3PWUubGVuZ3RoLF89MCxrPXksRT1nO2Zvcigocj1lLmxhc3RJbmRleE9mKGIpKTwwJiYocj0wKSxuPTA7bjxyOysrbillLmNoYXJDb2RlQXQobik+PTEyOCYmQyhcIm5vdC1iYXNpY1wiKSx2LnB1c2goZS5jaGFyQ29kZUF0KG4pKTtmb3IoaT1yPjA/cisxOjA7aTx3Oyl7Zm9yKG89XyxzPTEsYT1jO2k+PXcmJkMoXCJpbnZhbGlkLWlucHV0XCIpLCgobD0obT1lLmNoYXJDb2RlQXQoaSsrKSktNDg8MTA/bS0yMjptLTY1PDI2P20tNjU6bS05NzwyNj9tLTk3OmMpPj1jfHxsPlMoKHUtXykvcykpJiZDKFwib3ZlcmZsb3dcIiksXys9bCpzLCEobDwocD1hPD1FP2g6YT49RStmP2Y6YS1FKSk7YSs9YylzPlModS8oZD1jLXApKSYmQyhcIm92ZXJmbG93XCIpLHMqPWQ7RT1PKF8tbyx0PXYubGVuZ3RoKzEsMD09byksUyhfL3QpPnUtayYmQyhcIm92ZXJmbG93XCIpLGsrPVMoXy90KSxfJT10LHYuc3BsaWNlKF8rKywwLGspfXJldHVybiBJKHYpfWZ1bmN0aW9uIFIoZSl7dmFyIHQscixuLGksbyxzLGEsbCxwLGQsbSx2LHcsXyxrLFQ9W107Zm9yKHY9KGU9QShlKSkubGVuZ3RoLHQ9eSxyPTAsbz1nLHM9MDtzPHY7KytzKShtPWVbc10pPDEyOCYmVC5wdXNoKEUobSkpO2ZvcihuPWk9VC5sZW5ndGgsaSYmVC5wdXNoKGIpO248djspe2ZvcihhPXUscz0wO3M8djsrK3MpKG09ZVtzXSk+PXQmJm08YSYmKGE9bSk7Zm9yKGEtdD5TKCh1LXIpLyh3PW4rMSkpJiZDKFwib3ZlcmZsb3dcIikscis9KGEtdCkqdyx0PWEscz0wO3M8djsrK3MpaWYoKG09ZVtzXSk8dCYmKytyPnUmJkMoXCJvdmVyZmxvd1wiKSxtPT10KXtmb3IobD1yLHA9YzshKGw8KGQ9cDw9bz9oOnA+PW8rZj9mOnAtbykpO3ArPWMpaz1sLWQsXz1jLWQsVC5wdXNoKEUoUChkK2slXywwKSkpLGw9UyhrL18pO1QucHVzaChFKFAobCwwKSkpLG89TyhyLHcsbj09aSkscj0wLCsrbn0rK3IsKyt0fXJldHVybiBULmpvaW4oXCJcIil9aWYoYT17dmVyc2lvbjpcIjEuNC4xXCIsdWNzMjp7ZGVjb2RlOkEsZW5jb2RlOkl9LGRlY29kZTpCLGVuY29kZTpSLHRvQVNDSUk6ZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSxmdW5jdGlvbihlKXtyZXR1cm4gdi50ZXN0KGUpP1wieG4tLVwiK1IoZSk6ZX0pfSx0b1VuaWNvZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSxmdW5jdGlvbihlKXtyZXR1cm4gbS50ZXN0KGUpP0IoZS5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKTplfSl9fSxpJiZvKWlmKHQuZXhwb3J0cz09aSlvLmV4cG9ydHM9YTtlbHNlIGZvcihsIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShsKSYmKGlbbF09YVtsXSk7ZWxzZSBuLnB1bnljb2RlPWF9KHRoaXMpfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDUyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dD10fHxcIiZcIixyPXJ8fFwiPVwiO3ZhciBzPXt9O2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIHM7dmFyIGE9L1xcKy9nO2U9ZS5zcGxpdCh0KTt2YXIgbD0xZTM7byYmXCJudW1iZXJcIj09dHlwZW9mIG8ubWF4S2V5cyYmKGw9by5tYXhLZXlzKTt2YXIgdT1lLmxlbmd0aDtsPjAmJnU+bCYmKHU9bCk7Zm9yKHZhciBjPTA7Yzx1OysrYyl7dmFyIGgsZixwLGQsZz1lW2NdLnJlcGxhY2UoYSxcIiUyMFwiKSx5PWcuaW5kZXhPZihyKTt5Pj0wPyhoPWcuc3Vic3RyKDAseSksZj1nLnN1YnN0cih5KzEpKTooaD1nLGY9XCJcIikscD1kZWNvZGVVUklDb21wb25lbnQoaCksZD1kZWNvZGVVUklDb21wb25lbnQoZiksbihzLHApP2koc1twXSk/c1twXS5wdXNoKGQpOnNbcF09W3NbcF0sZF06c1twXT1kfXJldHVybiBzfTt2YXIgaT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9fSx7fV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1mdW5jdGlvbihlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBlO2Nhc2VcImJvb2xlYW5cIjpyZXR1cm4gZT9cInRydWVcIjpcImZhbHNlXCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGlzRmluaXRlKGUpP2U6XCJcIjtkZWZhdWx0OnJldHVyblwiXCJ9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYSl7cmV0dXJuIHQ9dHx8XCImXCIscj1yfHxcIj1cIixudWxsPT09ZSYmKGU9dm9pZCAwKSxcIm9iamVjdFwiPT10eXBlb2YgZT9vKHMoZSksZnVuY3Rpb24ocyl7dmFyIGE9ZW5jb2RlVVJJQ29tcG9uZW50KG4ocykpK3I7cmV0dXJuIGkoZVtzXSk/byhlW3NdLGZ1bmN0aW9uKGUpe3JldHVybiBhK2VuY29kZVVSSUNvbXBvbmVudChuKGUpKX0pLmpvaW4odCk6YStlbmNvZGVVUklDb21wb25lbnQobihlW3NdKSl9KS5qb2luKHQpOmE/ZW5jb2RlVVJJQ29tcG9uZW50KG4oYSkpK3IrZW5jb2RlVVJJQ29tcG9uZW50KG4oZSkpOlwiXCJ9O3ZhciBpPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX07ZnVuY3Rpb24gbyhlLHQpe2lmKGUubWFwKXJldHVybiBlLm1hcCh0KTtmb3IodmFyIHI9W10sbj0wO248ZS5sZW5ndGg7bisrKXIucHVzaCh0KGVbbl0sbikpO3JldHVybiByfXZhciBzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5wdXNoKHIpO3JldHVybiB0fX0se31dLDU0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kZWNvZGU9ci5wYXJzZT1lKFwiLi9kZWNvZGVcIiksci5lbmNvZGU9ci5zdHJpbmdpZnk9ZShcIi4vZW5jb2RlXCIpfSx7XCIuL2RlY29kZVwiOjUyLFwiLi9lbmNvZGVcIjo1M31dLDU1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49e307ZnVuY3Rpb24gaShlLHQscil7cnx8KHI9RXJyb3IpO3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciByLG47ZnVuY3Rpb24gaShyLG4saSl7cmV0dXJuIGUuY2FsbCh0aGlzLGZ1bmN0aW9uKGUscixuKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OnQoZSxyLG4pfShyLG4saSkpfHx0aGlzfXJldHVybiBuPWUsKHI9aSkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXIsci5fX3Byb3RvX189bixpfShyKTtpLnByb3RvdHlwZS5uYW1lPXIubmFtZSxpLnByb3RvdHlwZS5jb2RlPWUsbltlXT1pfWZ1bmN0aW9uIG8oZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXt2YXIgcj1lLmxlbmd0aDtyZXR1cm4gZT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpfSkscj4yP1wib25lIG9mIFwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQoZS5zbGljZSgwLHItMSkuam9pbihcIiwgXCIpLFwiLCBvciBcIikrZVtyLTFdOjI9PT1yP1wib25lIG9mIFwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQoZVswXSxcIiBvciBcIikuY29uY2F0KGVbMV0pOlwib2YgXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdChlWzBdKX1yZXR1cm5cIm9mIFwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQoU3RyaW5nKGUpKX1pKFwiRVJSX0lOVkFMSURfT1BUX1ZBTFVFXCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4nVGhlIHZhbHVlIFwiJyt0KydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCInK2UrJ1wiJ30sVHlwZUVycm9yKSxpKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIixmdW5jdGlvbihlLHQscil7dmFyIG4saSxzLGE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJihpPVwibm90IFwiLHQuc3Vic3RyKCFzfHxzPDA/MDorcyxpLmxlbmd0aCk9PT1pKT8obj1cIm11c3Qgbm90IGJlXCIsdD10LnJlcGxhY2UoL15ub3QgLyxcIlwiKSk6bj1cIm11c3QgYmVcIixmdW5jdGlvbihlLHQscil7cmV0dXJuKHZvaWQgMD09PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCksZS5zdWJzdHJpbmcoci10Lmxlbmd0aCxyKT09PXR9KGUsXCIgYXJndW1lbnRcIikpYT1cIlRoZSBcIi5jb25jYXQoZSxcIiBcIikuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChvKHQsXCJ0eXBlXCIpKTtlbHNle3ZhciBsPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgciYmKHI9MCksIShyK3QubGVuZ3RoPmUubGVuZ3RoKSYmLTEhPT1lLmluZGV4T2YodCxyKX0oZSxcIi5cIik/XCJwcm9wZXJ0eVwiOlwiYXJndW1lbnRcIjthPSdUaGUgXCInLmNvbmNhdChlLCdcIiAnKS5jb25jYXQobCxcIiBcIikuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChvKHQsXCJ0eXBlXCIpKX1yZXR1cm4gYSs9XCIuIFJlY2VpdmVkIHR5cGUgXCIuY29uY2F0KHR5cGVvZiByKX0sVHlwZUVycm9yKSxpKFwiRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRlwiLFwic3RyZWFtLnB1c2goKSBhZnRlciBFT0ZcIiksaShcIkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEXCIsZnVuY3Rpb24oZSl7cmV0dXJuXCJUaGUgXCIrZStcIiBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkXCJ9KSxpKFwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIixcIlByZW1hdHVyZSBjbG9zZVwiKSxpKFwiRVJSX1NUUkVBTV9ERVNUUk9ZRURcIixmdW5jdGlvbihlKXtyZXR1cm5cIkNhbm5vdCBjYWxsIFwiK2UrXCIgYWZ0ZXIgYSBzdHJlYW0gd2FzIGRlc3Ryb3llZFwifSksaShcIkVSUl9NVUxUSVBMRV9DQUxMQkFDS1wiLFwiQ2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzXCIpLGkoXCJFUlJfU1RSRUFNX0NBTk5PVF9QSVBFXCIsXCJDYW5ub3QgcGlwZSwgbm90IHJlYWRhYmxlXCIpLGkoXCJFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORFwiLFwid3JpdGUgYWZ0ZXIgZW5kXCIpLGkoXCJFUlJfU1RSRUFNX05VTExfVkFMVUVTXCIsXCJNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbVwiLFR5cGVFcnJvciksaShcIkVSUl9VTktOT1dOX0VOQ09ESU5HXCIsZnVuY3Rpb24oZSl7cmV0dXJuXCJVbmtub3duIGVuY29kaW5nOiBcIitlfSxUeXBlRXJyb3IpLGkoXCJFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UXCIsXCJzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudFwiKSx0LmV4cG9ydHMuY29kZXM9bn0se31dLDU2OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHIpeyhmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBuPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSl0LnB1c2gocik7cmV0dXJuIHR9O3QuZXhwb3J0cz11O3ZhciBpPWUoXCIuL19zdHJlYW1fcmVhZGFibGVcIiksbz1lKFwiLi9fc3RyZWFtX3dyaXRhYmxlXCIpO2UoXCJpbmhlcml0c1wiKSh1LGkpO2Zvcih2YXIgcz1uKG8ucHJvdG90eXBlKSxhPTA7YTxzLmxlbmd0aDthKyspe3ZhciBsPXNbYV07dS5wcm90b3R5cGVbbF18fCh1LnByb3RvdHlwZVtsXT1vLnByb3RvdHlwZVtsXSl9ZnVuY3Rpb24gdShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiB1KSlyZXR1cm4gbmV3IHUoZSk7aS5jYWxsKHRoaXMsZSksby5jYWxsKHRoaXMsZSksdGhpcy5hbGxvd0hhbGZPcGVuPSEwLGUmJighMT09PWUucmVhZGFibGUmJih0aGlzLnJlYWRhYmxlPSExKSwhMT09PWUud3JpdGFibGUmJih0aGlzLndyaXRhYmxlPSExKSwhMT09PWUuYWxsb3dIYWxmT3BlbiYmKHRoaXMuYWxsb3dIYWxmT3Blbj0hMSx0aGlzLm9uY2UoXCJlbmRcIixjKSkpfWZ1bmN0aW9uIGMoKXt0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkfHxyLm5leHRUaWNrKGgsdGhpcyl9ZnVuY3Rpb24gaChlKXtlLmVuZCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLFwid3JpdGFibGVCdWZmZXJcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsXCJ3cml0YWJsZUxlbmd0aFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCl9LHNldDpmdW5jdGlvbihlKXt2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ2b2lkIDAhPT10aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9ZSx0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD1lKX19KX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZShcIl9wcm9jZXNzXCIpKX0se1wiLi9fc3RyZWFtX3JlYWRhYmxlXCI6NTgsXCIuL19zdHJlYW1fd3JpdGFibGVcIjo2MCxfcHJvY2Vzczo1MCxpbmhlcml0czoyNH1dLDU3OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWk7dmFyIG49ZShcIi4vX3N0cmVhbV90cmFuc2Zvcm1cIik7ZnVuY3Rpb24gaShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSk7bi5jYWxsKHRoaXMsZSl9ZShcImluaGVyaXRzXCIpKGksbiksaS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihlLHQscil7cihudWxsLGUpfX0se1wiLi9fc3RyZWFtX3RyYW5zZm9ybVwiOjU5LGluaGVyaXRzOjI0fV0sNTg6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24ocixuKXsoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgaTt0LmV4cG9ydHM9QyxDLlJlYWRhYmxlU3RhdGU9RTtlKFwiZXZlbnRzXCIpLkV2ZW50RW1pdHRlcjt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxpc3RlbmVycyh0KS5sZW5ndGh9LHM9ZShcIi4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW1cIiksYT1lKFwiYnVmZmVyXCIpLkJ1ZmZlcixsPW4uVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O3ZhciB1LGM9ZShcInV0aWxcIik7dT1jJiZjLmRlYnVnbG9nP2MuZGVidWdsb2coXCJzdHJlYW1cIik6ZnVuY3Rpb24oKXt9O3ZhciBoLGYscCxkPWUoXCIuL2ludGVybmFsL3N0cmVhbXMvYnVmZmVyX2xpc3RcIiksZz1lKFwiLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3lcIikseT1lKFwiLi9pbnRlcm5hbC9zdHJlYW1zL3N0YXRlXCIpLmdldEhpZ2hXYXRlck1hcmssYj1lKFwiLi4vZXJyb3JzXCIpLmNvZGVzLG09Yi5FUlJfSU5WQUxJRF9BUkdfVFlQRSx2PWIuRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRix3PWIuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXz1iLkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQ7ZShcImluaGVyaXRzXCIpKEMscyk7dmFyIGs9Zy5lcnJvck9yRGVzdHJveSxTPVtcImVycm9yXCIsXCJjbG9zZVwiLFwiZGVzdHJveVwiLFwicGF1c2VcIixcInJlc3VtZVwiXTtmdW5jdGlvbiBFKHQscixuKXtpPWl8fGUoXCIuL19zdHJlYW1fZHVwbGV4XCIpLHQ9dHx8e30sXCJib29sZWFuXCIhPXR5cGVvZiBuJiYobj1yIGluc3RhbmNlb2YgaSksdGhpcy5vYmplY3RNb2RlPSEhdC5vYmplY3RNb2RlLG4mJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIXQucmVhZGFibGVPYmplY3RNb2RlKSx0aGlzLmhpZ2hXYXRlck1hcms9eSh0aGlzLHQsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIixuKSx0aGlzLmJ1ZmZlcj1uZXcgZCx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9bnVsbCx0aGlzLnBpcGVzQ291bnQ9MCx0aGlzLmZsb3dpbmc9bnVsbCx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5zeW5jPSEwLHRoaXMubmVlZFJlYWRhYmxlPSExLHRoaXMuZW1pdHRlZFJlYWRhYmxlPSExLHRoaXMucmVhZGFibGVMaXN0ZW5pbmc9ITEsdGhpcy5yZXN1bWVTY2hlZHVsZWQ9ITEsdGhpcy5wYXVzZWQ9ITAsdGhpcy5lbWl0Q2xvc2U9ITEhPT10LmVtaXRDbG9zZSx0aGlzLmF1dG9EZXN0cm95PSEhdC5hdXRvRGVzdHJveSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz10LmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5hd2FpdERyYWluPTAsdGhpcy5yZWFkaW5nTW9yZT0hMSx0aGlzLmRlY29kZXI9bnVsbCx0aGlzLmVuY29kaW5nPW51bGwsdC5lbmNvZGluZyYmKGh8fChoPWUoXCJzdHJpbmdfZGVjb2Rlci9cIikuU3RyaW5nRGVjb2RlciksdGhpcy5kZWNvZGVyPW5ldyBoKHQuZW5jb2RpbmcpLHRoaXMuZW5jb2Rpbmc9dC5lbmNvZGluZyl9ZnVuY3Rpb24gQyh0KXtpZihpPWl8fGUoXCIuL19zdHJlYW1fZHVwbGV4XCIpLCEodGhpcyBpbnN0YW5jZW9mIEMpKXJldHVybiBuZXcgQyh0KTt2YXIgcj10aGlzIGluc3RhbmNlb2YgaTt0aGlzLl9yZWFkYWJsZVN0YXRlPW5ldyBFKHQsdGhpcyxyKSx0aGlzLnJlYWRhYmxlPSEwLHQmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlYWQmJih0aGlzLl9yZWFkPXQucmVhZCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5kZXN0cm95JiYodGhpcy5fZGVzdHJveT10LmRlc3Ryb3kpKSxzLmNhbGwodGhpcyl9ZnVuY3Rpb24gVChlLHQscixuLGkpe3UoXCJyZWFkYWJsZUFkZENodW5rXCIsdCk7dmFyIG8scz1lLl9yZWFkYWJsZVN0YXRlO2lmKG51bGw9PT10KXMucmVhZGluZz0hMSxmdW5jdGlvbihlLHQpe2lmKHUoXCJvbkVvZkNodW5rXCIpLHQuZW5kZWQpcmV0dXJuO2lmKHQuZGVjb2Rlcil7dmFyIHI9dC5kZWNvZGVyLmVuZCgpO3ImJnIubGVuZ3RoJiYodC5idWZmZXIucHVzaChyKSx0Lmxlbmd0aCs9dC5vYmplY3RNb2RlPzE6ci5sZW5ndGgpfXQuZW5kZWQ9ITAsdC5zeW5jP1AoZSk6KHQubmVlZFJlYWRhYmxlPSExLHQuZW1pdHRlZFJlYWRhYmxlfHwodC5lbWl0dGVkUmVhZGFibGU9ITAsTyhlKSkpfShlLHMpO2Vsc2UgaWYoaXx8KG89ZnVuY3Rpb24oZSx0KXt2YXIgcjtuPXQsYS5pc0J1ZmZlcihuKXx8biBpbnN0YW5jZW9mIGx8fFwic3RyaW5nXCI9PXR5cGVvZiB0fHx2b2lkIDA9PT10fHxlLm9iamVjdE1vZGV8fChyPW5ldyBtKFwiY2h1bmtcIixbXCJzdHJpbmdcIixcIkJ1ZmZlclwiLFwiVWludDhBcnJheVwiXSx0KSk7dmFyIG47cmV0dXJuIHJ9KHMsdCkpLG8payhlLG8pO2Vsc2UgaWYocy5vYmplY3RNb2RlfHx0JiZ0Lmxlbmd0aD4wKWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxzLm9iamVjdE1vZGV8fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PWEucHJvdG90eXBlfHwodD1mdW5jdGlvbihlKXtyZXR1cm4gYS5mcm9tKGUpfSh0KSksbilzLmVuZEVtaXR0ZWQ/ayhlLG5ldyBfKTp4KGUscyx0LCEwKTtlbHNlIGlmKHMuZW5kZWQpayhlLG5ldyB2KTtlbHNle2lmKHMuZGVzdHJveWVkKXJldHVybiExO3MucmVhZGluZz0hMSxzLmRlY29kZXImJiFyPyh0PXMuZGVjb2Rlci53cml0ZSh0KSxzLm9iamVjdE1vZGV8fDAhPT10Lmxlbmd0aD94KGUscyx0LCExKTpCKGUscykpOngoZSxzLHQsITEpfWVsc2Ugbnx8KHMucmVhZGluZz0hMSxCKGUscykpO3JldHVybiFzLmVuZGVkJiYocy5sZW5ndGg8cy5oaWdoV2F0ZXJNYXJrfHwwPT09cy5sZW5ndGgpfWZ1bmN0aW9uIHgoZSx0LHIsbil7dC5mbG93aW5nJiYwPT09dC5sZW5ndGgmJiF0LnN5bmM/KHQuYXdhaXREcmFpbj0wLGUuZW1pdChcImRhdGFcIixyKSk6KHQubGVuZ3RoKz10Lm9iamVjdE1vZGU/MTpyLmxlbmd0aCxuP3QuYnVmZmVyLnVuc2hpZnQocik6dC5idWZmZXIucHVzaChyKSx0Lm5lZWRSZWFkYWJsZSYmUChlKSksQihlLHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD1lKX19KSxDLnByb3RvdHlwZS5kZXN0cm95PWcuZGVzdHJveSxDLnByb3RvdHlwZS5fdW5kZXN0cm95PWcudW5kZXN0cm95LEMucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7dChlKX0sQy5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gbi5vYmplY3RNb2RlP3I9ITA6XCJzdHJpbmdcIj09dHlwZW9mIGUmJigodD10fHxuLmRlZmF1bHRFbmNvZGluZykhPT1uLmVuY29kaW5nJiYoZT1hLmZyb20oZSx0KSx0PVwiXCIpLHI9ITApLFQodGhpcyxlLHQsITEscil9LEMucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFQodGhpcyxlLG51bGwsITAsITEpfSxDLnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiExPT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfSxDLnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbih0KXtofHwoaD1lKFwic3RyaW5nX2RlY29kZXIvXCIpLlN0cmluZ0RlY29kZXIpO3ZhciByPW5ldyBoKHQpO3RoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj1yLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyLmVuY29kaW5nO2Zvcih2YXIgbj10aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5oZWFkLGk9XCJcIjtudWxsIT09bjspaSs9ci53cml0ZShuLmRhdGEpLG49bi5uZXh0O3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5jbGVhcigpLFwiXCIhPT1pJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5wdXNoKGkpLHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RoPWkubGVuZ3RoLHRoaXN9O3ZhciBBPTEwNzM3NDE4MjQ7ZnVuY3Rpb24gSShlLHQpe3JldHVybiBlPD0wfHwwPT09dC5sZW5ndGgmJnQuZW5kZWQ/MDp0Lm9iamVjdE1vZGU/MTplIT1lP3QuZmxvd2luZyYmdC5sZW5ndGg/dC5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDp0Lmxlbmd0aDooZT50LmhpZ2hXYXRlck1hcmsmJih0LmhpZ2hXYXRlck1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PUE/ZT1BOihlLS0sZXw9ZT4+PjEsZXw9ZT4+PjIsZXw9ZT4+PjQsZXw9ZT4+PjgsZXw9ZT4+PjE2LGUrKyksZX0oZSkpLGU8PXQubGVuZ3RoP2U6dC5lbmRlZD90Lmxlbmd0aDoodC5uZWVkUmVhZGFibGU9ITAsMCkpfWZ1bmN0aW9uIFAoZSl7dmFyIHQ9ZS5fcmVhZGFibGVTdGF0ZTt1KFwiZW1pdFJlYWRhYmxlXCIsdC5uZWVkUmVhZGFibGUsdC5lbWl0dGVkUmVhZGFibGUpLHQubmVlZFJlYWRhYmxlPSExLHQuZW1pdHRlZFJlYWRhYmxlfHwodShcImVtaXRSZWFkYWJsZVwiLHQuZmxvd2luZyksdC5lbWl0dGVkUmVhZGFibGU9ITAsci5uZXh0VGljayhPLGUpKX1mdW5jdGlvbiBPKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7dShcImVtaXRSZWFkYWJsZV9cIix0LmRlc3Ryb3llZCx0Lmxlbmd0aCx0LmVuZGVkKSx0LmRlc3Ryb3llZHx8IXQubGVuZ3RoJiYhdC5lbmRlZHx8KGUuZW1pdChcInJlYWRhYmxlXCIpLHQuZW1pdHRlZFJlYWRhYmxlPSExKSx0Lm5lZWRSZWFkYWJsZT0hdC5mbG93aW5nJiYhdC5lbmRlZCYmdC5sZW5ndGg8PXQuaGlnaFdhdGVyTWFyayxqKGUpfWZ1bmN0aW9uIEIoZSx0KXt0LnJlYWRpbmdNb3JlfHwodC5yZWFkaW5nTW9yZT0hMCxyLm5leHRUaWNrKFIsZSx0KSl9ZnVuY3Rpb24gUihlLHQpe2Zvcig7IXQucmVhZGluZyYmIXQuZW5kZWQmJih0Lmxlbmd0aDx0LmhpZ2hXYXRlck1hcmt8fHQuZmxvd2luZyYmMD09PXQubGVuZ3RoKTspe3ZhciByPXQubGVuZ3RoO2lmKHUoXCJtYXliZVJlYWRNb3JlIHJlYWQgMFwiKSxlLnJlYWQoMCkscj09PXQubGVuZ3RoKWJyZWFrfXQucmVhZGluZ01vcmU9ITF9ZnVuY3Rpb24gTShlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO3QucmVhZGFibGVMaXN0ZW5pbmc9ZS5saXN0ZW5lckNvdW50KFwicmVhZGFibGVcIik+MCx0LnJlc3VtZVNjaGVkdWxlZCYmIXQucGF1c2VkP3QuZmxvd2luZz0hMDplLmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpPjAmJmUucmVzdW1lKCl9ZnVuY3Rpb24gTihlKXt1KFwicmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwXCIpLGUucmVhZCgwKX1mdW5jdGlvbiBMKGUsdCl7dShcInJlc3VtZVwiLHQucmVhZGluZyksdC5yZWFkaW5nfHxlLnJlYWQoMCksdC5yZXN1bWVTY2hlZHVsZWQ9ITEsZS5lbWl0KFwicmVzdW1lXCIpLGooZSksdC5mbG93aW5nJiYhdC5yZWFkaW5nJiZlLnJlYWQoMCl9ZnVuY3Rpb24gaihlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO2Zvcih1KFwiZmxvd1wiLHQuZmxvd2luZyk7dC5mbG93aW5nJiZudWxsIT09ZS5yZWFkKCk7KTt9ZnVuY3Rpb24gVShlLHQpe3JldHVybiAwPT09dC5sZW5ndGg/bnVsbDoodC5vYmplY3RNb2RlP3I9dC5idWZmZXIuc2hpZnQoKTohZXx8ZT49dC5sZW5ndGg/KHI9dC5kZWNvZGVyP3QuYnVmZmVyLmpvaW4oXCJcIik6MT09PXQuYnVmZmVyLmxlbmd0aD90LmJ1ZmZlci5maXJzdCgpOnQuYnVmZmVyLmNvbmNhdCh0Lmxlbmd0aCksdC5idWZmZXIuY2xlYXIoKSk6cj10LmJ1ZmZlci5jb25zdW1lKGUsdC5kZWNvZGVyKSxyKTt2YXIgcn1mdW5jdGlvbiBxKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7dShcImVuZFJlYWRhYmxlXCIsdC5lbmRFbWl0dGVkKSx0LmVuZEVtaXR0ZWR8fCh0LmVuZGVkPSEwLHIubmV4dFRpY2soRCx0LGUpKX1mdW5jdGlvbiBEKGUsdCl7aWYodShcImVuZFJlYWRhYmxlTlRcIixlLmVuZEVtaXR0ZWQsZS5sZW5ndGgpLCFlLmVuZEVtaXR0ZWQmJjA9PT1lLmxlbmd0aCYmKGUuZW5kRW1pdHRlZD0hMCx0LnJlYWRhYmxlPSExLHQuZW1pdChcImVuZFwiKSxlLmF1dG9EZXN0cm95KSl7dmFyIHI9dC5fd3JpdGFibGVTdGF0ZTsoIXJ8fHIuYXV0b0Rlc3Ryb3kmJnIuZmluaXNoZWQpJiZ0LmRlc3Ryb3koKX19ZnVuY3Rpb24geihlLHQpe2Zvcih2YXIgcj0wLG49ZS5sZW5ndGg7cjxuO3IrKylpZihlW3JdPT09dClyZXR1cm4gcjtyZXR1cm4tMX1DLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3UoXCJyZWFkXCIsZSksZT1wYXJzZUludChlLDEwKTt2YXIgdD10aGlzLl9yZWFkYWJsZVN0YXRlLHI9ZTtpZigwIT09ZSYmKHQuZW1pdHRlZFJlYWRhYmxlPSExKSwwPT09ZSYmdC5uZWVkUmVhZGFibGUmJigoMCE9PXQuaGlnaFdhdGVyTWFyaz90Lmxlbmd0aD49dC5oaWdoV2F0ZXJNYXJrOnQubGVuZ3RoPjApfHx0LmVuZGVkKSlyZXR1cm4gdShcInJlYWQ6IGVtaXRSZWFkYWJsZVwiLHQubGVuZ3RoLHQuZW5kZWQpLDA9PT10Lmxlbmd0aCYmdC5lbmRlZD9xKHRoaXMpOlAodGhpcyksbnVsbDtpZigwPT09KGU9SShlLHQpKSYmdC5lbmRlZClyZXR1cm4gMD09PXQubGVuZ3RoJiZxKHRoaXMpLG51bGw7dmFyIG4saT10Lm5lZWRSZWFkYWJsZTtyZXR1cm4gdShcIm5lZWQgcmVhZGFibGVcIixpKSwoMD09PXQubGVuZ3RofHx0Lmxlbmd0aC1lPHQuaGlnaFdhdGVyTWFyaykmJnUoXCJsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFya1wiLGk9ITApLHQuZW5kZWR8fHQucmVhZGluZz91KFwicmVhZGluZyBvciBlbmRlZFwiLGk9ITEpOmkmJih1KFwiZG8gcmVhZFwiKSx0LnJlYWRpbmc9ITAsdC5zeW5jPSEwLDA9PT10Lmxlbmd0aCYmKHQubmVlZFJlYWRhYmxlPSEwKSx0aGlzLl9yZWFkKHQuaGlnaFdhdGVyTWFyayksdC5zeW5jPSExLHQucmVhZGluZ3x8KGU9SShyLHQpKSksbnVsbD09PShuPWU+MD9VKGUsdCk6bnVsbCk/KHQubmVlZFJlYWRhYmxlPXQubGVuZ3RoPD10LmhpZ2hXYXRlck1hcmssZT0wKToodC5sZW5ndGgtPWUsdC5hd2FpdERyYWluPTApLDA9PT10Lmxlbmd0aCYmKHQuZW5kZWR8fCh0Lm5lZWRSZWFkYWJsZT0hMCksciE9PWUmJnQuZW5kZWQmJnEodGhpcykpLG51bGwhPT1uJiZ0aGlzLmVtaXQoXCJkYXRhXCIsbiksbn0sQy5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oZSl7ayh0aGlzLG5ldyB3KFwiX3JlYWQoKVwiKSl9LEMucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dGhpcy5fcmVhZGFibGVTdGF0ZTtzd2l0Y2goaS5waXBlc0NvdW50KXtjYXNlIDA6aS5waXBlcz1lO2JyZWFrO2Nhc2UgMTppLnBpcGVzPVtpLnBpcGVzLGVdO2JyZWFrO2RlZmF1bHQ6aS5waXBlcy5wdXNoKGUpfWkucGlwZXNDb3VudCs9MSx1KFwicGlwZSBjb3VudD0lZCBvcHRzPSVqXCIsaS5waXBlc0NvdW50LHQpO3ZhciBzPSghdHx8ITEhPT10LmVuZCkmJmUhPT1yLnN0ZG91dCYmZSE9PXIuc3RkZXJyP2w6eTtmdW5jdGlvbiBhKHQscil7dShcIm9udW5waXBlXCIpLHQ9PT1uJiZyJiYhMT09PXIuaGFzVW5waXBlZCYmKHIuaGFzVW5waXBlZD0hMCx1KFwiY2xlYW51cFwiKSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixkKSxlLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZyksZS5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsYyksZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIscCksZS5yZW1vdmVMaXN0ZW5lcihcInVucGlwZVwiLGEpLG4ucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixsKSxuLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIseSksbi5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixmKSxoPSEwLCFpLmF3YWl0RHJhaW58fGUuX3dyaXRhYmxlU3RhdGUmJiFlLl93cml0YWJsZVN0YXRlLm5lZWREcmFpbnx8YygpKX1mdW5jdGlvbiBsKCl7dShcIm9uZW5kXCIpLGUuZW5kKCl9aS5lbmRFbWl0dGVkP3IubmV4dFRpY2socyk6bi5vbmNlKFwiZW5kXCIscyksZS5vbihcInVucGlwZVwiLGEpO3ZhciBjPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7dShcInBpcGVPbkRyYWluXCIsdC5hd2FpdERyYWluKSx0LmF3YWl0RHJhaW4mJnQuYXdhaXREcmFpbi0tLDA9PT10LmF3YWl0RHJhaW4mJm8oZSxcImRhdGFcIikmJih0LmZsb3dpbmc9ITAsaihlKSl9fShuKTtlLm9uKFwiZHJhaW5cIixjKTt2YXIgaD0hMTtmdW5jdGlvbiBmKHQpe3UoXCJvbmRhdGFcIik7dmFyIHI9ZS53cml0ZSh0KTt1KFwiZGVzdC53cml0ZVwiLHIpLCExPT09ciYmKCgxPT09aS5waXBlc0NvdW50JiZpLnBpcGVzPT09ZXx8aS5waXBlc0NvdW50PjEmJi0xIT09eihpLnBpcGVzLGUpKSYmIWgmJih1KFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsaS5hd2FpdERyYWluKSxpLmF3YWl0RHJhaW4rKyksbi5wYXVzZSgpKX1mdW5jdGlvbiBwKHQpe3UoXCJvbmVycm9yXCIsdCkseSgpLGUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLHApLDA9PT1vKGUsXCJlcnJvclwiKSYmayhlLHQpfWZ1bmN0aW9uIGQoKXtlLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZykseSgpfWZ1bmN0aW9uIGcoKXt1KFwib25maW5pc2hcIiksZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsZCkseSgpfWZ1bmN0aW9uIHkoKXt1KFwidW5waXBlXCIpLG4udW5waXBlKGUpfXJldHVybiBuLm9uKFwiZGF0YVwiLGYpLGZ1bmN0aW9uKGUsdCxyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnByZXBlbmRMaXN0ZW5lcilyZXR1cm4gZS5wcmVwZW5kTGlzdGVuZXIodCxyKTtlLl9ldmVudHMmJmUuX2V2ZW50c1t0XT9BcnJheS5pc0FycmF5KGUuX2V2ZW50c1t0XSk/ZS5fZXZlbnRzW3RdLnVuc2hpZnQocik6ZS5fZXZlbnRzW3RdPVtyLGUuX2V2ZW50c1t0XV06ZS5vbih0LHIpfShlLFwiZXJyb3JcIixwKSxlLm9uY2UoXCJjbG9zZVwiLGQpLGUub25jZShcImZpbmlzaFwiLGcpLGUuZW1pdChcInBpcGVcIixuKSxpLmZsb3dpbmd8fCh1KFwicGlwZSByZXN1bWVcIiksbi5yZXN1bWUoKSksZX0sQy5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlYWRhYmxlU3RhdGUscj17aGFzVW5waXBlZDohMX07aWYoMD09PXQucGlwZXNDb3VudClyZXR1cm4gdGhpcztpZigxPT09dC5waXBlc0NvdW50KXJldHVybiBlJiZlIT09dC5waXBlcz90aGlzOihlfHwoZT10LnBpcGVzKSx0LnBpcGVzPW51bGwsdC5waXBlc0NvdW50PTAsdC5mbG93aW5nPSExLGUmJmUuZW1pdChcInVucGlwZVwiLHRoaXMsciksdGhpcyk7aWYoIWUpe3ZhciBuPXQucGlwZXMsaT10LnBpcGVzQ291bnQ7dC5waXBlcz1udWxsLHQucGlwZXNDb3VudD0wLHQuZmxvd2luZz0hMTtmb3IodmFyIG89MDtvPGk7bysrKW5bb10uZW1pdChcInVucGlwZVwiLHRoaXMse2hhc1VucGlwZWQ6ITF9KTtyZXR1cm4gdGhpc312YXIgcz16KHQucGlwZXMsZSk7cmV0dXJuLTE9PT1zP3RoaXM6KHQucGlwZXMuc3BsaWNlKHMsMSksdC5waXBlc0NvdW50LT0xLDE9PT10LnBpcGVzQ291bnQmJih0LnBpcGVzPXQucGlwZXNbMF0pLGUuZW1pdChcInVucGlwZVwiLHRoaXMsciksdGhpcyl9LEMucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49cy5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsdCksaT10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVyblwiZGF0YVwiPT09ZT8oaS5yZWFkYWJsZUxpc3RlbmluZz10aGlzLmxpc3RlbmVyQ291bnQoXCJyZWFkYWJsZVwiKT4wLCExIT09aS5mbG93aW5nJiZ0aGlzLnJlc3VtZSgpKTpcInJlYWRhYmxlXCI9PT1lJiYoaS5lbmRFbWl0dGVkfHxpLnJlYWRhYmxlTGlzdGVuaW5nfHwoaS5yZWFkYWJsZUxpc3RlbmluZz1pLm5lZWRSZWFkYWJsZT0hMCxpLmZsb3dpbmc9ITEsaS5lbWl0dGVkUmVhZGFibGU9ITEsdShcIm9uIHJlYWRhYmxlXCIsaS5sZW5ndGgsaS5yZWFkaW5nKSxpLmxlbmd0aD9QKHRoaXMpOmkucmVhZGluZ3x8ci5uZXh0VGljayhOLHRoaXMpKSksbn0sQy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9Qy5wcm90b3R5cGUub24sQy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1zLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsZSx0KTtyZXR1cm5cInJlYWRhYmxlXCI9PT1lJiZyLm5leHRUaWNrKE0sdGhpcyksbn0sQy5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PXMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuXCJyZWFkYWJsZVwiIT09ZSYmdm9pZCAwIT09ZXx8ci5uZXh0VGljayhNLHRoaXMpLHR9LEMucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIGUuZmxvd2luZ3x8KHUoXCJyZXN1bWVcIiksZS5mbG93aW5nPSFlLnJlYWRhYmxlTGlzdGVuaW5nLGZ1bmN0aW9uKGUsdCl7dC5yZXN1bWVTY2hlZHVsZWR8fCh0LnJlc3VtZVNjaGVkdWxlZD0hMCxyLm5leHRUaWNrKEwsZSx0KSl9KHRoaXMsZSkpLGUucGF1c2VkPSExLHRoaXN9LEMucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJjYWxsIHBhdXNlIGZsb3dpbmc9JWpcIix0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpLCExIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nJiYodShcInBhdXNlXCIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz0hMSx0aGlzLmVtaXQoXCJwYXVzZVwiKSksdGhpcy5fcmVhZGFibGVTdGF0ZS5wYXVzZWQ9ITAsdGhpc30sQy5wcm90b3R5cGUud3JhcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5fcmVhZGFibGVTdGF0ZSxuPSExO2Zvcih2YXIgaSBpbiBlLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtpZih1KFwid3JhcHBlZCBlbmRcIiksci5kZWNvZGVyJiYhci5lbmRlZCl7dmFyIGU9ci5kZWNvZGVyLmVuZCgpO2UmJmUubGVuZ3RoJiZ0LnB1c2goZSl9dC5wdXNoKG51bGwpfSksZS5vbihcImRhdGFcIixmdW5jdGlvbihpKXsodShcIndyYXBwZWQgZGF0YVwiKSxyLmRlY29kZXImJihpPXIuZGVjb2Rlci53cml0ZShpKSksIXIub2JqZWN0TW9kZXx8bnVsbCE9PWkmJnZvaWQgMCE9PWkpJiYoKHIub2JqZWN0TW9kZXx8aSYmaS5sZW5ndGgpJiYodC5wdXNoKGkpfHwobj0hMCxlLnBhdXNlKCkpKSl9KSxlKXZvaWQgMD09PXRoaXNbaV0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGVbaV0mJih0aGlzW2ldPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlW3RdLmFwcGx5KGUsYXJndW1lbnRzKX19KGkpKTtmb3IodmFyIG89MDtvPFMubGVuZ3RoO28rKyllLm9uKFNbb10sdGhpcy5lbWl0LmJpbmQodGhpcyxTW29dKSk7cmV0dXJuIHRoaXMuX3JlYWQ9ZnVuY3Rpb24odCl7dShcIndyYXBwZWQgX3JlYWRcIix0KSxuJiYobj0hMSxlLnJlc3VtZSgpKX0sdGhpc30sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoQy5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWYmJihmPWUoXCIuL2ludGVybmFsL3N0cmVhbXMvYXN5bmNfaXRlcmF0b3JcIikpLGYodGhpcyl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQy5wcm90b3R5cGUsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcInJlYWRhYmxlQnVmZmVyXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcInJlYWRhYmxlRmxvd2luZ1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmd9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPWUpfX0pLEMuX2Zyb21MaXN0PVUsT2JqZWN0LmRlZmluZVByb3BlcnR5KEMucHJvdG90eXBlLFwicmVhZGFibGVMZW5ndGhcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGh9fSksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoQy5mcm9tPWZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXAmJihwPWUoXCIuL2ludGVybmFsL3N0cmVhbXMvZnJvbVwiKSkscChDLHQscil9KX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZShcIl9wcm9jZXNzXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi9lcnJvcnNcIjo1NSxcIi4vX3N0cmVhbV9kdXBsZXhcIjo1NixcIi4vaW50ZXJuYWwvc3RyZWFtcy9hc3luY19pdGVyYXRvclwiOjYxLFwiLi9pbnRlcm5hbC9zdHJlYW1zL2J1ZmZlcl9saXN0XCI6NjIsXCIuL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveVwiOjYzLFwiLi9pbnRlcm5hbC9zdHJlYW1zL2Zyb21cIjo2NSxcIi4vaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZVwiOjY3LFwiLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbVwiOjY4LF9wcm9jZXNzOjUwLGJ1ZmZlcjoxNyxldmVudHM6MjIsaW5oZXJpdHM6MjQsXCJzdHJpbmdfZGVjb2Rlci9cIjo3NSx1dGlsOjE2fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9dTt2YXIgbj1lKFwiLi4vZXJyb3JzXCIpLmNvZGVzLGk9bi5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxvPW4uRVJSX01VTFRJUExFX0NBTExCQUNLLHM9bi5FUlJfVFJBTlNGT1JNX0FMUkVBRFlfVFJBTlNGT1JNSU5HLGE9bi5FUlJfVFJBTlNGT1JNX1dJVEhfTEVOR1RIXzAsbD1lKFwiLi9fc3RyZWFtX2R1cGxleFwiKTtmdW5jdGlvbiB1KGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHUpKXJldHVybiBuZXcgdShlKTtsLmNhbGwodGhpcyxlKSx0aGlzLl90cmFuc2Zvcm1TdGF0ZT17YWZ0ZXJUcmFuc2Zvcm06ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl90cmFuc2Zvcm1TdGF0ZTtyLnRyYW5zZm9ybWluZz0hMTt2YXIgbj1yLndyaXRlY2I7aWYobnVsbD09PW4pcmV0dXJuIHRoaXMuZW1pdChcImVycm9yXCIsbmV3IG8pO3Iud3JpdGVjaHVuaz1udWxsLHIud3JpdGVjYj1udWxsLG51bGwhPXQmJnRoaXMucHVzaCh0KSxuKGUpO3ZhciBpPXRoaXMuX3JlYWRhYmxlU3RhdGU7aS5yZWFkaW5nPSExLChpLm5lZWRSZWFkYWJsZXx8aS5sZW5ndGg8aS5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZChpLmhpZ2hXYXRlck1hcmspfS5iaW5kKHRoaXMpLG5lZWRUcmFuc2Zvcm06ITEsdHJhbnNmb3JtaW5nOiExLHdyaXRlY2I6bnVsbCx3cml0ZWNodW5rOm51bGwsd3JpdGVlbmNvZGluZzpudWxsfSx0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZT0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmM9ITEsZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudHJhbnNmb3JtJiYodGhpcy5fdHJhbnNmb3JtPWUudHJhbnNmb3JtKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZsdXNoJiYodGhpcy5fZmx1c2g9ZS5mbHVzaCkpLHRoaXMub24oXCJwcmVmaW5pc2hcIixjKX1mdW5jdGlvbiBjKCl7dmFyIGU9dGhpcztcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzLl9mbHVzaHx8dGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ/aCh0aGlzLG51bGwsbnVsbCk6dGhpcy5fZmx1c2goZnVuY3Rpb24odCxyKXtoKGUsdCxyKX0pfWZ1bmN0aW9uIGgoZSx0LHIpe2lmKHQpcmV0dXJuIGUuZW1pdChcImVycm9yXCIsdCk7aWYobnVsbCE9ciYmZS5wdXNoKHIpLGUuX3dyaXRhYmxlU3RhdGUubGVuZ3RoKXRocm93IG5ldyBhO2lmKGUuX3RyYW5zZm9ybVN0YXRlLnRyYW5zZm9ybWluZyl0aHJvdyBuZXcgcztyZXR1cm4gZS5wdXNoKG51bGwpfWUoXCJpbmhlcml0c1wiKSh1LGwpLHUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybT0hMSxsLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxlLHQpfSx1LnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxyKXtyKG5ldyBpKFwiX3RyYW5zZm9ybSgpXCIpKX0sdS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl90cmFuc2Zvcm1TdGF0ZTtpZihuLndyaXRlY2I9cixuLndyaXRlY2h1bms9ZSxuLndyaXRlZW5jb2Rpbmc9dCwhbi50cmFuc2Zvcm1pbmcpe3ZhciBpPXRoaXMuX3JlYWRhYmxlU3RhdGU7KG4ubmVlZFRyYW5zZm9ybXx8aS5uZWVkUmVhZGFibGV8fGkubGVuZ3RoPGkuaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQoaS5oaWdoV2F0ZXJNYXJrKX19LHUucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3RyYW5zZm9ybVN0YXRlO251bGw9PT10LndyaXRlY2h1bmt8fHQudHJhbnNmb3JtaW5nP3QubmVlZFRyYW5zZm9ybT0hMDoodC50cmFuc2Zvcm1pbmc9ITAsdGhpcy5fdHJhbnNmb3JtKHQud3JpdGVjaHVuayx0LndyaXRlZW5jb2RpbmcsdC5hZnRlclRyYW5zZm9ybSkpfSx1LnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlLHQpe2wucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcyxlLGZ1bmN0aW9uKGUpe3QoZSl9KX19LHtcIi4uL2Vycm9yc1wiOjU1LFwiLi9fc3RyZWFtX2R1cGxleFwiOjU2LGluaGVyaXRzOjI0fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24ocixuKXsoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXM7dGhpcy5uZXh0PW51bGwsdGhpcy5lbnRyeT1udWxsLHRoaXMuZmluaXNoPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLmVudHJ5O2UuZW50cnk9bnVsbDtmb3IoO247KXt2YXIgaT1uLmNhbGxiYWNrO3QucGVuZGluZ2NiLS0saShyKSxuPW4ubmV4dH10LmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PWV9KHQsZSl9fXZhciBvO3QuZXhwb3J0cz1DLEMuV3JpdGFibGVTdGF0ZT1FO3ZhciBzPXtkZXByZWNhdGU6ZShcInV0aWwtZGVwcmVjYXRlXCIpfSxhPWUoXCIuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtXCIpLGw9ZShcImJ1ZmZlclwiKS5CdWZmZXIsdT1uLlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fTt2YXIgYyxoPWUoXCIuL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveVwiKSxmPWUoXCIuL2ludGVybmFsL3N0cmVhbXMvc3RhdGVcIikuZ2V0SGlnaFdhdGVyTWFyayxwPWUoXCIuLi9lcnJvcnNcIikuY29kZXMsZD1wLkVSUl9JTlZBTElEX0FSR19UWVBFLGc9cC5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCx5PXAuRVJSX01VTFRJUExFX0NBTExCQUNLLGI9cC5FUlJfU1RSRUFNX0NBTk5PVF9QSVBFLG09cC5FUlJfU1RSRUFNX0RFU1RST1lFRCx2PXAuRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUyx3PXAuRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQsXz1wLkVSUl9VTktOT1dOX0VOQ09ESU5HLGs9aC5lcnJvck9yRGVzdHJveTtmdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIEUodCxuLHMpe289b3x8ZShcIi4vX3N0cmVhbV9kdXBsZXhcIiksdD10fHx7fSxcImJvb2xlYW5cIiE9dHlwZW9mIHMmJihzPW4gaW5zdGFuY2VvZiBvKSx0aGlzLm9iamVjdE1vZGU9ISF0Lm9iamVjdE1vZGUscyYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhdC53cml0YWJsZU9iamVjdE1vZGUpLHRoaXMuaGlnaFdhdGVyTWFyaz1mKHRoaXMsdCxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHMpLHRoaXMuZmluYWxDYWxsZWQ9ITEsdGhpcy5uZWVkRHJhaW49ITEsdGhpcy5lbmRpbmc9ITEsdGhpcy5lbmRlZD0hMSx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExO3ZhciBhPSExPT09dC5kZWNvZGVTdHJpbmdzO3RoaXMuZGVjb2RlU3RyaW5ncz0hYSx0aGlzLmRlZmF1bHRFbmNvZGluZz10LmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihlKXshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLl93cml0YWJsZVN0YXRlLGk9bi5zeW5jLG89bi53cml0ZWNiO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG8pdGhyb3cgbmV3IHk7aWYoZnVuY3Rpb24oZSl7ZS53cml0aW5nPSExLGUud3JpdGVjYj1udWxsLGUubGVuZ3RoLT1lLndyaXRlbGVuLGUud3JpdGVsZW49MH0obiksdCkhZnVuY3Rpb24oZSx0LG4saSxvKXstLXQucGVuZGluZ2NiLG4/KHIubmV4dFRpY2sobyxpKSxyLm5leHRUaWNrKE8sZSx0KSxlLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxrKGUsaSkpOihvKGkpLGUuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLGsoZSxpKSxPKGUsdCkpfShlLG4saSx0LG8pO2Vsc2V7dmFyIHM9SShuKXx8ZS5kZXN0cm95ZWQ7c3x8bi5jb3JrZWR8fG4uYnVmZmVyUHJvY2Vzc2luZ3x8IW4uYnVmZmVyZWRSZXF1ZXN0fHxBKGUsbiksaT9yLm5leHRUaWNrKHgsZSxuLHMsbyk6eChlLG4scyxvKX19KG4sZSl9LHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVsZW49MCx0aGlzLmJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMucGVuZGluZ2NiPTAsdGhpcy5wcmVmaW5pc2hlZD0hMSx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmVtaXRDbG9zZT0hMSE9PXQuZW1pdENsb3NlLHRoaXMuYXV0b0Rlc3Ryb3k9ISF0LmF1dG9EZXN0cm95LHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgaSh0aGlzKX1mdW5jdGlvbiBDKHQpe3ZhciByPXRoaXMgaW5zdGFuY2VvZihvPW98fGUoXCIuL19zdHJlYW1fZHVwbGV4XCIpKTtpZighciYmIWMuY2FsbChDLHRoaXMpKXJldHVybiBuZXcgQyh0KTt0aGlzLl93cml0YWJsZVN0YXRlPW5ldyBFKHQsdGhpcyxyKSx0aGlzLndyaXRhYmxlPSEwLHQmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LndyaXRlJiYodGhpcy5fd3JpdGU9dC53cml0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC53cml0ZXYmJih0aGlzLl93cml0ZXY9dC53cml0ZXYpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9dC5kZXN0cm95KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZpbmFsJiYodGhpcy5fZmluYWw9dC5maW5hbCkpLGEuY2FsbCh0aGlzKX1mdW5jdGlvbiBUKGUsdCxyLG4saSxvLHMpe3Qud3JpdGVsZW49bix0LndyaXRlY2I9cyx0LndyaXRpbmc9ITAsdC5zeW5jPSEwLHQuZGVzdHJveWVkP3Qub253cml0ZShuZXcgbShcIndyaXRlXCIpKTpyP2UuX3dyaXRldihpLHQub253cml0ZSk6ZS5fd3JpdGUoaSxvLHQub253cml0ZSksdC5zeW5jPSExfWZ1bmN0aW9uIHgoZSx0LHIsbil7cnx8ZnVuY3Rpb24oZSx0KXswPT09dC5sZW5ndGgmJnQubmVlZERyYWluJiYodC5uZWVkRHJhaW49ITEsZS5lbWl0KFwiZHJhaW5cIikpfShlLHQpLHQucGVuZGluZ2NiLS0sbigpLE8oZSx0KX1mdW5jdGlvbiBBKGUsdCl7dC5idWZmZXJQcm9jZXNzaW5nPSEwO3ZhciByPXQuYnVmZmVyZWRSZXF1ZXN0O2lmKGUuX3dyaXRldiYmciYmci5uZXh0KXt2YXIgbj10LmJ1ZmZlcmVkUmVxdWVzdENvdW50LG89bmV3IEFycmF5KG4pLHM9dC5jb3JrZWRSZXF1ZXN0c0ZyZWU7cy5lbnRyeT1yO2Zvcih2YXIgYT0wLGw9ITA7cjspb1thXT1yLHIuaXNCdWZ8fChsPSExKSxyPXIubmV4dCxhKz0xO28uYWxsQnVmZmVycz1sLFQoZSx0LCEwLHQubGVuZ3RoLG8sXCJcIixzLmZpbmlzaCksdC5wZW5kaW5nY2IrKyx0Lmxhc3RCdWZmZXJlZFJlcXVlc3Q9bnVsbCxzLm5leHQ/KHQuY29ya2VkUmVxdWVzdHNGcmVlPXMubmV4dCxzLm5leHQ9bnVsbCk6dC5jb3JrZWRSZXF1ZXN0c0ZyZWU9bmV3IGkodCksdC5idWZmZXJlZFJlcXVlc3RDb3VudD0wfWVsc2V7Zm9yKDtyOyl7dmFyIHU9ci5jaHVuayxjPXIuZW5jb2RpbmcsaD1yLmNhbGxiYWNrO2lmKFQoZSx0LCExLHQub2JqZWN0TW9kZT8xOnUubGVuZ3RoLHUsYyxoKSxyPXIubmV4dCx0LmJ1ZmZlcmVkUmVxdWVzdENvdW50LS0sdC53cml0aW5nKWJyZWFrfW51bGw9PT1yJiYodC5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfXQuYnVmZmVyZWRSZXF1ZXN0PXIsdC5idWZmZXJQcm9jZXNzaW5nPSExfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGUuZW5kaW5nJiYwPT09ZS5sZW5ndGgmJm51bGw9PT1lLmJ1ZmZlcmVkUmVxdWVzdCYmIWUuZmluaXNoZWQmJiFlLndyaXRpbmd9ZnVuY3Rpb24gUChlLHQpe2UuX2ZpbmFsKGZ1bmN0aW9uKHIpe3QucGVuZGluZ2NiLS0sciYmayhlLHIpLHQucHJlZmluaXNoZWQ9ITAsZS5lbWl0KFwicHJlZmluaXNoXCIpLE8oZSx0KX0pfWZ1bmN0aW9uIE8oZSx0KXt2YXIgbj1JKHQpO2lmKG4mJihmdW5jdGlvbihlLHQpe3QucHJlZmluaXNoZWR8fHQuZmluYWxDYWxsZWR8fChcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLl9maW5hbHx8dC5kZXN0cm95ZWQ/KHQucHJlZmluaXNoZWQ9ITAsZS5lbWl0KFwicHJlZmluaXNoXCIpKToodC5wZW5kaW5nY2IrKyx0LmZpbmFsQ2FsbGVkPSEwLHIubmV4dFRpY2soUCxlLHQpKSl9KGUsdCksMD09PXQucGVuZGluZ2NiJiYodC5maW5pc2hlZD0hMCxlLmVtaXQoXCJmaW5pc2hcIiksdC5hdXRvRGVzdHJveSkpKXt2YXIgaT1lLl9yZWFkYWJsZVN0YXRlOyghaXx8aS5hdXRvRGVzdHJveSYmaS5lbmRFbWl0dGVkKSYmZS5kZXN0cm95KCl9cmV0dXJuIG59ZShcImluaGVyaXRzXCIpKEMsYSksRS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuYnVmZmVyZWRSZXF1ZXN0LHQ9W107ZTspdC5wdXNoKGUpLGU9ZS5uZXh0O3JldHVybiB0fSxmdW5jdGlvbigpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoRS5wcm90b3R5cGUsXCJidWZmZXJcIix7Z2V0OnMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCl9LFwiX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgaW5zdGVhZC5cIixcIkRFUDAwMDNcIil9KX1jYXRjaChlKXt9fSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmhhc0luc3RhbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXT8oYz1GdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQyxTeW1ib2wuaGFzSW5zdGFuY2Use3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEhYy5jYWxsKHRoaXMsZSl8fHRoaXM9PT1DJiYoZSYmZS5fd3JpdGFibGVTdGF0ZSBpbnN0YW5jZW9mIEUpfX0pKTpjPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdGhpc30sQy5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe2sodGhpcyxuZXcgYil9LEMucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxvPXRoaXMuX3dyaXRhYmxlU3RhdGUscz0hMSxhPSFvLm9iamVjdE1vZGUmJihpPWUsbC5pc0J1ZmZlcihpKXx8aSBpbnN0YW5jZW9mIHUpO3JldHVybiBhJiYhbC5pc0J1ZmZlcihlKSYmKGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGwuZnJvbShlKX0oZSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSxhP3Q9XCJidWZmZXJcIjp0fHwodD1vLmRlZmF1bHRFbmNvZGluZyksXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmKG49Uyksby5lbmRpbmc/ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgdztrKGUsbiksci5uZXh0VGljayh0LG4pfSh0aGlzLG4pOihhfHxmdW5jdGlvbihlLHQsbixpKXt2YXIgbztyZXR1cm4gbnVsbD09PW4/bz1uZXcgdjpcInN0cmluZ1wiPT10eXBlb2Ygbnx8dC5vYmplY3RNb2RlfHwobz1uZXcgZChcImNodW5rXCIsW1wic3RyaW5nXCIsXCJCdWZmZXJcIl0sbikpLCFvfHwoayhlLG8pLHIubmV4dFRpY2soaSxvKSwhMSl9KHRoaXMsbyxlLG4pKSYmKG8ucGVuZGluZ2NiKysscz1mdW5jdGlvbihlLHQscixuLGksbyl7aWYoIXIpe3ZhciBzPWZ1bmN0aW9uKGUsdCxyKXtlLm9iamVjdE1vZGV8fCExPT09ZS5kZWNvZGVTdHJpbmdzfHxcInN0cmluZ1wiIT10eXBlb2YgdHx8KHQ9bC5mcm9tKHQscikpO3JldHVybiB0fSh0LG4saSk7biE9PXMmJihyPSEwLGk9XCJidWZmZXJcIixuPXMpfXZhciBhPXQub2JqZWN0TW9kZT8xOm4ubGVuZ3RoO3QubGVuZ3RoKz1hO3ZhciB1PXQubGVuZ3RoPHQuaGlnaFdhdGVyTWFyazt1fHwodC5uZWVkRHJhaW49ITApO2lmKHQud3JpdGluZ3x8dC5jb3JrZWQpe3ZhciBjPXQubGFzdEJ1ZmZlcmVkUmVxdWVzdDt0Lmxhc3RCdWZmZXJlZFJlcXVlc3Q9e2NodW5rOm4sZW5jb2Rpbmc6aSxpc0J1ZjpyLGNhbGxiYWNrOm8sbmV4dDpudWxsfSxjP2MubmV4dD10Lmxhc3RCdWZmZXJlZFJlcXVlc3Q6dC5idWZmZXJlZFJlcXVlc3Q9dC5sYXN0QnVmZmVyZWRSZXF1ZXN0LHQuYnVmZmVyZWRSZXF1ZXN0Q291bnQrPTF9ZWxzZSBUKGUsdCwhMSxhLG4saSxvKTtyZXR1cm4gdX0odGhpcyxvLGEsZSx0LG4pKSxzfSxDLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrK30sQy5wcm90b3R5cGUudW5jb3JrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fd3JpdGFibGVTdGF0ZTtlLmNvcmtlZCYmKGUuY29ya2VkLS0sZS53cml0aW5nfHxlLmNvcmtlZHx8ZS5idWZmZXJQcm9jZXNzaW5nfHwhZS5idWZmZXJlZFJlcXVlc3R8fEEodGhpcyxlKSl9LEMucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZz1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZS50b0xvd2VyQ2FzZSgpKSwhKFtcImhleFwiLFwidXRmOFwiLFwidXRmLThcIixcImFzY2lpXCIsXCJiaW5hcnlcIixcImJhc2U2NFwiLFwidWNzMlwiLFwidWNzLTJcIixcInV0ZjE2bGVcIixcInV0Zi0xNmxlXCIsXCJyYXdcIl0uaW5kZXhPZigoZStcIlwiKS50b0xvd2VyQ2FzZSgpKT4tMSkpdGhyb3cgbmV3IF8oZSk7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nPWUsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KEMucHJvdG90eXBlLFwid3JpdGFibGVCdWZmZXJcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQy5wcm90b3R5cGUsXCJ3cml0YWJsZUhpZ2hXYXRlck1hcmtcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0pLEMucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihlLHQscil7cihuZXcgZyhcIl93cml0ZSgpXCIpKX0sQy5wcm90b3R5cGUuX3dyaXRldj1udWxsLEMucHJvdG90eXBlLmVuZD1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcy5fd3JpdGFibGVTdGF0ZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlPyhuPWUsZT1udWxsLHQ9bnVsbCk6XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG49dCx0PW51bGwpLG51bGwhPT1lJiZ2b2lkIDAhPT1lJiZ0aGlzLndyaXRlKGUsdCksaS5jb3JrZWQmJihpLmNvcmtlZD0xLHRoaXMudW5jb3JrKCkpLGkuZW5kaW5nfHxmdW5jdGlvbihlLHQsbil7dC5lbmRpbmc9ITAsTyhlLHQpLG4mJih0LmZpbmlzaGVkP3IubmV4dFRpY2sobik6ZS5vbmNlKFwiZmluaXNoXCIsbikpO3QuZW5kZWQ9ITAsZS53cml0YWJsZT0hMX0odGhpcyxpLG4pLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcIndyaXRhYmxlTGVuZ3RoXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD1lKX19KSxDLnByb3RvdHlwZS5kZXN0cm95PWguZGVzdHJveSxDLnByb3RvdHlwZS5fdW5kZXN0cm95PWgudW5kZXN0cm95LEMucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7dChlKX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoXCJfcHJvY2Vzc1wiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vZXJyb3JzXCI6NTUsXCIuL19zdHJlYW1fZHVwbGV4XCI6NTYsXCIuL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveVwiOjYzLFwiLi9pbnRlcm5hbC9zdHJlYW1zL3N0YXRlXCI6NjcsXCIuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtXCI6NjgsX3Byb2Nlc3M6NTAsYnVmZmVyOjE3LGluaGVyaXRzOjI0LFwidXRpbC1kZXByZWNhdGVcIjo3OH1dLDYxOltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHIpeyhmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBuO2Z1bmN0aW9uIGkoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBvPWUoXCIuL2VuZC1vZi1zdHJlYW1cIikscz1TeW1ib2woXCJsYXN0UmVzb2x2ZVwiKSxhPVN5bWJvbChcImxhc3RSZWplY3RcIiksbD1TeW1ib2woXCJlcnJvclwiKSx1PVN5bWJvbChcImVuZGVkXCIpLGM9U3ltYm9sKFwibGFzdFByb21pc2VcIiksaD1TeW1ib2woXCJoYW5kbGVQcm9taXNlXCIpLGY9U3ltYm9sKFwic3RyZWFtXCIpO2Z1bmN0aW9uIHAoZSx0KXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fWZ1bmN0aW9uIGQoZSl7dmFyIHQ9ZVtzXTtpZihudWxsIT09dCl7dmFyIHI9ZVtmXS5yZWFkKCk7bnVsbCE9PXImJihlW2NdPW51bGwsZVtzXT1udWxsLGVbYV09bnVsbCx0KHAociwhMSkpKX19dmFyIGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmN0aW9uKCl7fSkseT1PYmplY3Quc2V0UHJvdG90eXBlT2YoKGkobj17Z2V0IHN0cmVhbSgpe3JldHVybiB0aGlzW2ZdfSxuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXNbbF07aWYobnVsbCE9PXQpcmV0dXJuIFByb21pc2UucmVqZWN0KHQpO2lmKHRoaXNbdV0pcmV0dXJuIFByb21pc2UucmVzb2x2ZShwKHZvaWQgMCwhMCkpO2lmKHRoaXNbZl0uZGVzdHJveWVkKXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LG4pe3IubmV4dFRpY2soZnVuY3Rpb24oKXtlW2xdP24oZVtsXSk6dChwKHZvaWQgMCwhMCkpfSl9KTt2YXIgbixpPXRoaXNbY107aWYoaSluPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7ZS50aGVuKGZ1bmN0aW9uKCl7dFt1XT9yKHAodm9pZCAwLCEwKSk6dFtoXShyLG4pfSxuKX19KGksdGhpcykpO2Vsc2V7dmFyIG89dGhpc1tmXS5yZWFkKCk7aWYobnVsbCE9PW8pcmV0dXJuIFByb21pc2UucmVzb2x2ZShwKG8sITEpKTtuPW5ldyBQcm9taXNlKHRoaXNbaF0pfXJldHVybiB0aGlzW2NdPW4sbn19LFN5bWJvbC5hc3luY0l0ZXJhdG9yLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxpKG4sXCJyZXR1cm5cIixmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7ZVtmXS5kZXN0cm95KG51bGwsZnVuY3Rpb24oZSl7ZT9yKGUpOnQocCh2b2lkIDAsITApKX0pfSl9KSxuKSxnKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQsbj1PYmplY3QuY3JlYXRlKHksKGkodD17fSxmLHt2YWx1ZTplLHdyaXRhYmxlOiEwfSksaSh0LHMse3ZhbHVlOm51bGwsd3JpdGFibGU6ITB9KSxpKHQsYSx7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0pLGkodCxsLHt2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSksaSh0LHUse3ZhbHVlOmUuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCx3cml0YWJsZTohMH0pLGkodCxoLHt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPW5bZl0ucmVhZCgpO3I/KG5bY109bnVsbCxuW3NdPW51bGwsblthXT1udWxsLGUocChyLCExKSkpOihuW3NdPWUsblthXT10KX0sd3JpdGFibGU6ITB9KSx0KSk7cmV0dXJuIG5bY109bnVsbCxvKGUsZnVuY3Rpb24oZSl7aWYoZSYmXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiIT09ZS5jb2RlKXt2YXIgdD1uW2FdO3JldHVybiBudWxsIT09dCYmKG5bY109bnVsbCxuW3NdPW51bGwsblthXT1udWxsLHQoZSkpLHZvaWQobltsXT1lKX12YXIgcj1uW3NdO251bGwhPT1yJiYobltjXT1udWxsLG5bc109bnVsbCxuW2FdPW51bGwscihwKHZvaWQgMCwhMCkpKSxuW3VdPSEwfSksZS5vbihcInJlYWRhYmxlXCIsZnVuY3Rpb24oZSl7ci5uZXh0VGljayhkLGUpfS5iaW5kKG51bGwsbikpLG59fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKFwiX3Byb2Nlc3NcIikpfSx7XCIuL2VuZC1vZi1zdHJlYW1cIjo2NCxfcHJvY2Vzczo1MH1dLDYyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGkoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIG8oZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXZhciBzPWUoXCJidWZmZXJcIikuQnVmZmVyLGE9ZShcInV0aWxcIikuaW5zcGVjdCxsPWEmJmEuY3VzdG9tfHxcImluc3BlY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfXZhciB0LHIsdTtyZXR1cm4gdD1lLChyPVt7a2V5OlwicHVzaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXtkYXRhOmUsbmV4dDpudWxsfTt0aGlzLmxlbmd0aD4wP3RoaXMudGFpbC5uZXh0PXQ6dGhpcy5oZWFkPXQsdGhpcy50YWlsPXQsKyt0aGlzLmxlbmd0aH19LHtrZXk6XCJ1bnNoaWZ0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e2RhdGE6ZSxuZXh0OnRoaXMuaGVhZH07MD09PXRoaXMubGVuZ3RoJiYodGhpcy50YWlsPXQpLHRoaXMuaGVhZD10LCsrdGhpcy5sZW5ndGh9fSx7a2V5Olwic2hpZnRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKDAhPT10aGlzLmxlbmd0aCl7dmFyIGU9dGhpcy5oZWFkLmRhdGE7cmV0dXJuIDE9PT10aGlzLmxlbmd0aD90aGlzLmhlYWQ9dGhpcy50YWlsPW51bGw6dGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LC0tdGhpcy5sZW5ndGgsZX19fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfX0se2tleTpcImpvaW5cIix2YWx1ZTpmdW5jdGlvbihlKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtmb3IodmFyIHQ9dGhpcy5oZWFkLHI9XCJcIit0LmRhdGE7dD10Lm5leHQ7KXIrPWUrdC5kYXRhO3JldHVybiByfX0se2tleTpcImNvbmNhdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm4gcy5hbGxvYygwKTtmb3IodmFyIHQscixuLGk9cy5hbGxvY1Vuc2FmZShlPj4+MCksbz10aGlzLmhlYWQsYT0wO287KXQ9by5kYXRhLHI9aSxuPWEscy5wcm90b3R5cGUuY29weS5jYWxsKHQscixuKSxhKz1vLmRhdGEubGVuZ3RoLG89by5uZXh0O3JldHVybiBpfX0se2tleTpcImNvbnN1bWVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBlPHRoaXMuaGVhZC5kYXRhLmxlbmd0aD8ocj10aGlzLmhlYWQuZGF0YS5zbGljZSgwLGUpLHRoaXMuaGVhZC5kYXRhPXRoaXMuaGVhZC5kYXRhLnNsaWNlKGUpKTpyPWU9PT10aGlzLmhlYWQuZGF0YS5sZW5ndGg/dGhpcy5zaGlmdCgpOnQ/dGhpcy5fZ2V0U3RyaW5nKGUpOnRoaXMuX2dldEJ1ZmZlcihlKSxyfX0se2tleTpcImZpcnN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkLmRhdGF9fSx7a2V5OlwiX2dldFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaGVhZCxyPTEsbj10LmRhdGE7Zm9yKGUtPW4ubGVuZ3RoO3Q9dC5uZXh0Oyl7dmFyIGk9dC5kYXRhLG89ZT5pLmxlbmd0aD9pLmxlbmd0aDplO2lmKG89PT1pLmxlbmd0aD9uKz1pOm4rPWkuc2xpY2UoMCxlKSwwPT09KGUtPW8pKXtvPT09aS5sZW5ndGg/KCsrcix0Lm5leHQ/dGhpcy5oZWFkPXQubmV4dDp0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwpOih0aGlzLmhlYWQ9dCx0LmRhdGE9aS5zbGljZShvKSk7YnJlYWt9KytyfXJldHVybiB0aGlzLmxlbmd0aC09cixufX0se2tleTpcIl9nZXRCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1zLmFsbG9jVW5zYWZlKGUpLHI9dGhpcy5oZWFkLG49MTtmb3Ioci5kYXRhLmNvcHkodCksZS09ci5kYXRhLmxlbmd0aDtyPXIubmV4dDspe3ZhciBpPXIuZGF0YSxvPWU+aS5sZW5ndGg/aS5sZW5ndGg6ZTtpZihpLmNvcHkodCx0Lmxlbmd0aC1lLDAsbyksMD09PShlLT1vKSl7bz09PWkubGVuZ3RoPygrK24sci5uZXh0P3RoaXMuaGVhZD1yLm5leHQ6dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsKToodGhpcy5oZWFkPXIsci5kYXRhPWkuc2xpY2UobykpO2JyZWFrfSsrbn1yZXR1cm4gdGhpcy5sZW5ndGgtPW4sdH19LHtrZXk6bCx2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBhKHRoaXMsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/bihPYmplY3QociksITApLmZvckVhY2goZnVuY3Rpb24odCl7aShlLHQsclt0XSl9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpuKE9iamVjdChyKSkuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KX1yZXR1cm4gZX0oe30sdCx7ZGVwdGg6MCxjdXN0b21JbnNwZWN0OiExfSkpfX1dKSYmbyh0LnByb3RvdHlwZSxyKSx1JiZvKHQsdSksZX0oKX0se2J1ZmZlcjoxNyx1dGlsOjE2fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHQpe2koZSx0KSxuKGUpfWZ1bmN0aW9uIG4oZSl7ZS5fd3JpdGFibGVTdGF0ZSYmIWUuX3dyaXRhYmxlU3RhdGUuZW1pdENsb3NlfHxlLl9yZWFkYWJsZVN0YXRlJiYhZS5fcmVhZGFibGVTdGF0ZS5lbWl0Q2xvc2V8fGUuZW1pdChcImNsb3NlXCIpfWZ1bmN0aW9uIGkoZSx0KXtlLmVtaXQoXCJlcnJvclwiLHQpfXQuZXhwb3J0cz17ZGVzdHJveTpmdW5jdGlvbih0LG8pe3ZhciBzPXRoaXMsYT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCxsPXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO3JldHVybiBhfHxsPyhvP28odCk6dCYmKHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWR8fCh0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxlLm5leHRUaWNrKGksdGhpcyx0KSk6ZS5uZXh0VGljayhpLHRoaXMsdCkpLHRoaXMpOih0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITApLHRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fZGVzdHJveSh0fHxudWxsLGZ1bmN0aW9uKHQpeyFvJiZ0P3MuX3dyaXRhYmxlU3RhdGU/cy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ/ZS5uZXh0VGljayhuLHMpOihzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxlLm5leHRUaWNrKHIscyx0KSk6ZS5uZXh0VGljayhyLHMsdCk6bz8oZS5uZXh0VGljayhuLHMpLG8odCkpOmUubmV4dFRpY2sobixzKX0pLHRoaXMpfSx1bmRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkaW5nPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kZWQ9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkPSExKSx0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZz0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmFsQ2FsbGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUucHJlZmluaXNoZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMSl9LGVycm9yT3JEZXN0cm95OmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5fcmVhZGFibGVTdGF0ZSxuPWUuX3dyaXRhYmxlU3RhdGU7ciYmci5hdXRvRGVzdHJveXx8biYmbi5hdXRvRGVzdHJveT9lLmRlc3Ryb3kodCk6ZS5lbWl0KFwiZXJyb3JcIix0KX19fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKFwiX3Byb2Nlc3NcIikpfSx7X3Byb2Nlc3M6NTB9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuLi8uLi8uLi9lcnJvcnNcIikuY29kZXMuRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U7ZnVuY3Rpb24gaSgpe310LmV4cG9ydHM9ZnVuY3Rpb24gZSh0LHIsbyl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgcilyZXR1cm4gZSh0LG51bGwscik7cnx8KHI9e30pLG89ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXQpe3Q9ITA7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkociksaT0wO2k8cjtpKyspbltpXT1hcmd1bWVudHNbaV07ZS5hcHBseSh0aGlzLG4pfX19KG98fGkpO3ZhciBzPXIucmVhZGFibGV8fCExIT09ci5yZWFkYWJsZSYmdC5yZWFkYWJsZSxhPXIud3JpdGFibGV8fCExIT09ci53cml0YWJsZSYmdC53cml0YWJsZSxsPWZ1bmN0aW9uKCl7dC53cml0YWJsZXx8YygpfSx1PXQuX3dyaXRhYmxlU3RhdGUmJnQuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQsYz1mdW5jdGlvbigpe2E9ITEsdT0hMCxzfHxvLmNhbGwodCl9LGg9dC5fcmVhZGFibGVTdGF0ZSYmdC5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkLGY9ZnVuY3Rpb24oKXtzPSExLGg9ITAsYXx8by5jYWxsKHQpfSxwPWZ1bmN0aW9uKGUpe28uY2FsbCh0LGUpfSxkPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHMmJiFoPyh0Ll9yZWFkYWJsZVN0YXRlJiZ0Ll9yZWFkYWJsZVN0YXRlLmVuZGVkfHwoZT1uZXcgbiksby5jYWxsKHQsZSkpOmEmJiF1Pyh0Ll93cml0YWJsZVN0YXRlJiZ0Ll93cml0YWJsZVN0YXRlLmVuZGVkfHwoZT1uZXcgbiksby5jYWxsKHQsZSkpOnZvaWQgMH0sZz1mdW5jdGlvbigpe3QucmVxLm9uKFwiZmluaXNoXCIsYyl9O3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXRIZWFkZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYWJvcnR9KHQpPyh0Lm9uKFwiY29tcGxldGVcIixjKSx0Lm9uKFwiYWJvcnRcIixkKSx0LnJlcT9nKCk6dC5vbihcInJlcXVlc3RcIixnKSk6YSYmIXQuX3dyaXRhYmxlU3RhdGUmJih0Lm9uKFwiZW5kXCIsbCksdC5vbihcImNsb3NlXCIsbCkpLHQub24oXCJlbmRcIixmKSx0Lm9uKFwiZmluaXNoXCIsYyksITEhPT1yLmVycm9yJiZ0Lm9uKFwiZXJyb3JcIixwKSx0Lm9uKFwiY2xvc2VcIixkKSxmdW5jdGlvbigpe3QucmVtb3ZlTGlzdGVuZXIoXCJjb21wbGV0ZVwiLGMpLHQucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydFwiLGQpLHQucmVtb3ZlTGlzdGVuZXIoXCJyZXF1ZXN0XCIsZyksdC5yZXEmJnQucmVxLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsYyksdC5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGwpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGwpLHQucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixjKSx0LnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsZiksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIscCksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsZCl9fX0se1wiLi4vLi4vLi4vZXJyb3JzXCI6NTV9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlJlYWRhYmxlLmZyb20gaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnJvd3NlclwiKX19LHt9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuO3ZhciBpPWUoXCIuLi8uLi8uLi9lcnJvcnNcIikuY29kZXMsbz1pLkVSUl9NSVNTSU5HX0FSR1Mscz1pLkVSUl9TVFJFQU1fREVTVFJPWUVEO2Z1bmN0aW9uIGEoZSl7aWYoZSl0aHJvdyBlfWZ1bmN0aW9uIGwoZSl7ZSgpfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZS5waXBlKHQpfXQuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKXJbaV09YXJndW1lbnRzW2ldO3ZhciBjLGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RoP1wiZnVuY3Rpb25cIiE9dHlwZW9mIGVbZS5sZW5ndGgtMV0/YTplLnBvcCgpOmF9KHIpO2lmKEFycmF5LmlzQXJyYXkoclswXSkmJihyPXJbMF0pLHIubGVuZ3RoPDIpdGhyb3cgbmV3IG8oXCJzdHJlYW1zXCIpO3ZhciBmPXIubWFwKGZ1bmN0aW9uKHQsaSl7dmFyIG89aTxyLmxlbmd0aC0xO3JldHVybiBmdW5jdGlvbih0LHIsaSxvKXtvPWZ1bmN0aW9uKGUpe3ZhciB0PSExO3JldHVybiBmdW5jdGlvbigpe3R8fCh0PSEwLGUuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfX0obyk7dmFyIGE9ITE7dC5vbihcImNsb3NlXCIsZnVuY3Rpb24oKXthPSEwfSksdm9pZCAwPT09biYmKG49ZShcIi4vZW5kLW9mLXN0cmVhbVwiKSksbih0LHtyZWFkYWJsZTpyLHdyaXRhYmxlOml9LGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIG8oZSk7YT0hMCxvKCl9KTt2YXIgbD0hMTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWEmJiFsKXJldHVybiBsPSEwLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEhlYWRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hYm9ydH0odCk/dC5hYm9ydCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveT90LmRlc3Ryb3koKTp2b2lkIG8oZXx8bmV3IHMoXCJwaXBlXCIpKX19KHQsbyxpPjAsZnVuY3Rpb24oZSl7Y3x8KGM9ZSksZSYmZi5mb3JFYWNoKGwpLG98fChmLmZvckVhY2gobCksaChjKSl9KX0pO3JldHVybiByLnJlZHVjZSh1KX19LHtcIi4uLy4uLy4uL2Vycm9yc1wiOjU1LFwiLi9lbmQtb2Ytc3RyZWFtXCI6NjR9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuLi8uLi8uLi9lcnJvcnNcIikuY29kZXMuRVJSX0lOVkFMSURfT1BUX1ZBTFVFO3QuZXhwb3J0cz17Z2V0SGlnaFdhdGVyTWFyazpmdW5jdGlvbihlLHQscixpKXt2YXIgbz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG51bGwhPWUuaGlnaFdhdGVyTWFyaz9lLmhpZ2hXYXRlck1hcms6dD9lW3JdOm51bGx9KHQsaSxyKTtpZihudWxsIT1vKXtpZighaXNGaW5pdGUobyl8fE1hdGguZmxvb3IobykhPT1vfHxvPDApdGhyb3cgbmV3IG4oaT9yOlwiaGlnaFdhdGVyTWFya1wiLG8pO3JldHVybiBNYXRoLmZsb29yKG8pfXJldHVybiBlLm9iamVjdE1vZGU/MTY6MTYzODR9fX0se1wiLi4vLi4vLi4vZXJyb3JzXCI6NTV9XSw2ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKFwiZXZlbnRzXCIpLkV2ZW50RW1pdHRlcn0se2V2ZW50czoyMn1dLDY5OltmdW5jdGlvbihlLHQscil7KHI9dC5leHBvcnRzPWUoXCIuL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzXCIpKS5TdHJlYW09cixyLlJlYWRhYmxlPXIsci5Xcml0YWJsZT1lKFwiLi9saWIvX3N0cmVhbV93cml0YWJsZS5qc1wiKSxyLkR1cGxleD1lKFwiLi9saWIvX3N0cmVhbV9kdXBsZXguanNcIiksci5UcmFuc2Zvcm09ZShcIi4vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzXCIpLHIuUGFzc1Rocm91Z2g9ZShcIi4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanNcIiksci5maW5pc2hlZD1lKFwiLi9saWIvaW50ZXJuYWwvc3RyZWFtcy9lbmQtb2Ytc3RyZWFtLmpzXCIpLHIucGlwZWxpbmU9ZShcIi4vbGliL2ludGVybmFsL3N0cmVhbXMvcGlwZWxpbmUuanNcIil9LHtcIi4vbGliL19zdHJlYW1fZHVwbGV4LmpzXCI6NTYsXCIuL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzXCI6NTcsXCIuL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzXCI6NTgsXCIuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qc1wiOjU5LFwiLi9saWIvX3N0cmVhbV93cml0YWJsZS5qc1wiOjYwLFwiLi9saWIvaW50ZXJuYWwvc3RyZWFtcy9lbmQtb2Ytc3RyZWFtLmpzXCI6NjQsXCIuL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3BpcGVsaW5lLmpzXCI6NjZ9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFyZ3VtZW50c1swXSl0aHJvdyBuZXcgRXJyb3IoXCJjYWxsYmFjayBuZWVkZWRcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGFyZ3VtZW50c1sxXSl0aHJvdyBuZXcgRXJyb3IoXCJpbnRlcnZhbCBuZWVkZWRcIik7dmFyIGU7aWYoYXJndW1lbnRzLmxlbmd0aD4wKXtlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTIpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3QrMl19cmV0dXJuIG5ldyBmdW5jdGlvbihlLHQscil7dmFyIG49dGhpczt0aGlzLl9jYWxsYmFjaz1lLHRoaXMuX2FyZ3M9cix0aGlzLl9pbnRlcnZhbD1zZXRJbnRlcnZhbChlLHQsdGhpcy5fYXJncyksdGhpcy5yZXNjaGVkdWxlPWZ1bmN0aW9uKGUpe2V8fChlPW4uX2ludGVydmFsKSxuLl9pbnRlcnZhbCYmY2xlYXJJbnRlcnZhbChuLl9pbnRlcnZhbCksbi5faW50ZXJ2YWw9c2V0SW50ZXJ2YWwobi5fY2FsbGJhY2ssZSxuLl9hcmdzKX0sdGhpcy5jbGVhcj1mdW5jdGlvbigpe24uX2ludGVydmFsJiYoY2xlYXJJbnRlcnZhbChuLl9pbnRlcnZhbCksbi5faW50ZXJ2YWw9dm9pZCAwKX0sdGhpcy5kZXN0cm95PWZ1bmN0aW9uKCl7bi5faW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwobi5faW50ZXJ2YWwpLG4uX2NhbGxiYWNrPXZvaWQgMCxuLl9pbnRlcnZhbD12b2lkIDAsbi5fYXJncz12b2lkIDB9fShhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLGUpfX0se31dLDcxOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWUoXCIuL2luZGV4LmpzXCIpKCl9LHtcIi4vaW5kZXguanNcIjo3Mn1dLDcyOltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpeyhmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlP2UuZnJvbSh0KTpuZXcgdC5jb25zdHJ1Y3Rvcih0LmJ1ZmZlci5zbGljZSgpLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybihlPWV8fHt9KS5jaXJjbGVzP2Z1bmN0aW9uKGUpe3ZhciB0PVtdLG49W107cmV0dXJuIGUucHJvdG8/ZnVuY3Rpb24gZShvKXtpZihcIm9iamVjdFwiIT10eXBlb2Ygb3x8bnVsbD09PW8pcmV0dXJuIG87aWYobyBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKG8pO2lmKEFycmF5LmlzQXJyYXkobykpcmV0dXJuIGkobyxlKTtpZihvIGluc3RhbmNlb2YgTWFwKXJldHVybiBuZXcgTWFwKGkoQXJyYXkuZnJvbShvKSxlKSk7aWYobyBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IFNldChpKEFycmF5LmZyb20obyksZSkpO3ZhciBzPXt9O2Zvcih2YXIgYSBpbiB0LnB1c2gobyksbi5wdXNoKHMpLG8pe3ZhciBsPW9bYV07aWYoXCJvYmplY3RcIiE9dHlwZW9mIGx8fG51bGw9PT1sKXNbYV09bDtlbHNlIGlmKGwgaW5zdGFuY2VvZiBEYXRlKXNbYV09bmV3IERhdGUobCk7ZWxzZSBpZihsIGluc3RhbmNlb2YgTWFwKXNbYV09bmV3IE1hcChpKEFycmF5LmZyb20obCksZSkpO2Vsc2UgaWYobCBpbnN0YW5jZW9mIFNldClzW2FdPW5ldyBTZXQoaShBcnJheS5mcm9tKGwpLGUpKTtlbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhsKSlzW2FdPXIobCk7ZWxzZXt2YXIgdT10LmluZGV4T2YobCk7c1thXT0tMSE9PXU/blt1XTplKGwpfX1yZXR1cm4gdC5wb3AoKSxuLnBvcCgpLHN9OmZ1bmN0aW9uIGUobyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIG98fG51bGw9PT1vKXJldHVybiBvO2lmKG8gaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZShvKTtpZihBcnJheS5pc0FycmF5KG8pKXJldHVybiBpKG8sZSk7aWYobyBpbnN0YW5jZW9mIE1hcClyZXR1cm4gbmV3IE1hcChpKEFycmF5LmZyb20obyksZSkpO2lmKG8gaW5zdGFuY2VvZiBTZXQpcmV0dXJuIG5ldyBTZXQoaShBcnJheS5mcm9tKG8pLGUpKTt2YXIgcz17fTtmb3IodmFyIGEgaW4gdC5wdXNoKG8pLG4ucHVzaChzKSxvKWlmKCExIT09T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobyxhKSl7dmFyIGw9b1thXTtpZihcIm9iamVjdFwiIT10eXBlb2YgbHx8bnVsbD09PWwpc1thXT1sO2Vsc2UgaWYobCBpbnN0YW5jZW9mIERhdGUpc1thXT1uZXcgRGF0ZShsKTtlbHNlIGlmKGwgaW5zdGFuY2VvZiBNYXApc1thXT1uZXcgTWFwKGkoQXJyYXkuZnJvbShsKSxlKSk7ZWxzZSBpZihsIGluc3RhbmNlb2YgU2V0KXNbYV09bmV3IFNldChpKEFycmF5LmZyb20obCksZSkpO2Vsc2UgaWYoQXJyYXlCdWZmZXIuaXNWaWV3KGwpKXNbYV09cihsKTtlbHNle3ZhciB1PXQuaW5kZXhPZihsKTtzW2FdPS0xIT09dT9uW3VdOmUobCl9fXJldHVybiB0LnBvcCgpLG4ucG9wKCksc307ZnVuY3Rpb24gaShlLGkpe2Zvcih2YXIgbz1PYmplY3Qua2V5cyhlKSxzPW5ldyBBcnJheShvLmxlbmd0aCksYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgbD1vW2FdLHU9ZVtsXTtpZihcIm9iamVjdFwiIT10eXBlb2YgdXx8bnVsbD09PXUpc1tsXT11O2Vsc2UgaWYodSBpbnN0YW5jZW9mIERhdGUpc1tsXT1uZXcgRGF0ZSh1KTtlbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyh1KSlzW2xdPXIodSk7ZWxzZXt2YXIgYz10LmluZGV4T2YodSk7c1tsXT0tMSE9PWM/bltjXTppKHUpfX1yZXR1cm4gc319KGUpOmUucHJvdG8/ZnVuY3Rpb24gZShuKXtpZihcIm9iamVjdFwiIT10eXBlb2Ygbnx8bnVsbD09PW4pcmV0dXJuIG47aWYobiBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKG4pO2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIHQobixlKTtpZihuIGluc3RhbmNlb2YgTWFwKXJldHVybiBuZXcgTWFwKHQoQXJyYXkuZnJvbShuKSxlKSk7aWYobiBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IFNldCh0KEFycmF5LmZyb20obiksZSkpO3ZhciBpPXt9O2Zvcih2YXIgbyBpbiBuKXt2YXIgcz1uW29dO1wib2JqZWN0XCIhPXR5cGVvZiBzfHxudWxsPT09cz9pW29dPXM6cyBpbnN0YW5jZW9mIERhdGU/aVtvXT1uZXcgRGF0ZShzKTpzIGluc3RhbmNlb2YgTWFwP2lbb109bmV3IE1hcCh0KEFycmF5LmZyb20ocyksZSkpOnMgaW5zdGFuY2VvZiBTZXQ/aVtvXT1uZXcgU2V0KHQoQXJyYXkuZnJvbShzKSxlKSk6QXJyYXlCdWZmZXIuaXNWaWV3KHMpP2lbb109cihzKTppW29dPWUocyl9cmV0dXJuIGl9OmZ1bmN0aW9uIGUobil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIG58fG51bGw9PT1uKXJldHVybiBuO2lmKG4gaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZShuKTtpZihBcnJheS5pc0FycmF5KG4pKXJldHVybiB0KG4sZSk7aWYobiBpbnN0YW5jZW9mIE1hcClyZXR1cm4gbmV3IE1hcCh0KEFycmF5LmZyb20obiksZSkpO2lmKG4gaW5zdGFuY2VvZiBTZXQpcmV0dXJuIG5ldyBTZXQodChBcnJheS5mcm9tKG4pLGUpKTt2YXIgaT17fTtmb3IodmFyIG8gaW4gbilpZighMSE9PU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sbykpe3ZhciBzPW5bb107XCJvYmplY3RcIiE9dHlwZW9mIHN8fG51bGw9PT1zP2lbb109czpzIGluc3RhbmNlb2YgRGF0ZT9pW29dPW5ldyBEYXRlKHMpOnMgaW5zdGFuY2VvZiBNYXA/aVtvXT1uZXcgTWFwKHQoQXJyYXkuZnJvbShzKSxlKSk6cyBpbnN0YW5jZW9mIFNldD9pW29dPW5ldyBTZXQodChBcnJheS5mcm9tKHMpLGUpKTpBcnJheUJ1ZmZlci5pc1ZpZXcocyk/aVtvXT1yKHMpOmlbb109ZShzKX1yZXR1cm4gaX07ZnVuY3Rpb24gdChlLHQpe2Zvcih2YXIgbj1PYmplY3Qua2V5cyhlKSxpPW5ldyBBcnJheShuLmxlbmd0aCksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcz1uW29dLGE9ZVtzXTtcIm9iamVjdFwiIT10eXBlb2YgYXx8bnVsbD09PWE/aVtzXT1hOmEgaW5zdGFuY2VvZiBEYXRlP2lbc109bmV3IERhdGUoYSk6QXJyYXlCdWZmZXIuaXNWaWV3KGEpP2lbc109cihhKTppW3NdPXQoYSl9cmV0dXJuIGl9fX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZShcImJ1ZmZlclwiKS5CdWZmZXIpfSx7YnVmZmVyOjE3fV0sNzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKFwiYnVmZmVyXCIpLGk9bi5CdWZmZXI7ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgciBpbiBlKXRbcl09ZVtyXX1mdW5jdGlvbiBzKGUsdCxyKXtyZXR1cm4gaShlLHQscil9aS5mcm9tJiZpLmFsbG9jJiZpLmFsbG9jVW5zYWZlJiZpLmFsbG9jVW5zYWZlU2xvdz90LmV4cG9ydHM9bjoobyhuLHIpLHIuQnVmZmVyPXMpLHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLG8oaSxzKSxzLmZyb209ZnVuY3Rpb24oZSx0LHIpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gaShlLHQscil9LHMuYWxsb2M9ZnVuY3Rpb24oZSx0LHIpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3ZhciBuPWkoZSk7cmV0dXJuIHZvaWQgMCE9PXQ/XCJzdHJpbmdcIj09dHlwZW9mIHI/bi5maWxsKHQscik6bi5maWxsKHQpOm4uZmlsbCgwKSxufSxzLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBpKGUpfSxzLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gbi5TbG93QnVmZmVyKGUpfX0se2J1ZmZlcjoxN31dLDc0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHQ/dC5vYmplY3RNb2RlfHxcIm51bWJlclwiPT10eXBlb2YgZS5fZHVwbGV4U3RhdGU/ZS5yZWFkKCk6ZS5yZWFkKChyPXQsci5idWZmZXIubGVuZ3RoP3IuYnVmZmVyLmhlYWQ/ci5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDpyLmJ1ZmZlclswXS5sZW5ndGg6ci5sZW5ndGgpKTpudWxsO3ZhciByfX0se31dLDc1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcInNhZmUtYnVmZmVyXCIpLkJ1ZmZlcixpPW4uaXNFbmNvZGluZ3x8ZnVuY3Rpb24oZSl7c3dpdGNoKChlPVwiXCIrZSkmJmUudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpjYXNlXCJyYXdcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX07ZnVuY3Rpb24gbyhlKXt2YXIgdDtzd2l0Y2godGhpcy5lbmNvZGluZz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZighZSlyZXR1cm5cInV0ZjhcIjtmb3IodmFyIHQ7Oylzd2l0Y2goZSl7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuXCJ1dGY4XCI7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuXCJ1dGYxNmxlXCI7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuXCJsYXRpbjFcIjtjYXNlXCJiYXNlNjRcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImhleFwiOnJldHVybiBlO2RlZmF1bHQ6aWYodClyZXR1cm47ZT0oXCJcIitlKS50b0xvd2VyQ2FzZSgpLHQ9ITB9fShlKTtpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmKG4uaXNFbmNvZGluZz09PWl8fCFpKGUpKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlKTtyZXR1cm4gdHx8ZX0oZSksdGhpcy5lbmNvZGluZyl7Y2FzZVwidXRmMTZsZVwiOnRoaXMudGV4dD1sLHRoaXMuZW5kPXUsdD00O2JyZWFrO2Nhc2VcInV0ZjhcIjp0aGlzLmZpbGxMYXN0PWEsdD00O2JyZWFrO2Nhc2VcImJhc2U2NFwiOnRoaXMudGV4dD1jLHRoaXMuZW5kPWgsdD0zO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMud3JpdGU9Zix2b2lkKHRoaXMuZW5kPXApfXRoaXMubGFzdE5lZWQ9MCx0aGlzLmxhc3RUb3RhbD0wLHRoaXMubGFzdENoYXI9bi5hbGxvY1Vuc2FmZSh0KX1mdW5jdGlvbiBzKGUpe3JldHVybiBlPD0xMjc/MDplPj41PT02PzI6ZT4+ND09MTQ/MzplPj4zPT0zMD80OmU+PjY9PTI/LTE6LTJ9ZnVuY3Rpb24gYShlKXt2YXIgdD10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLHI9ZnVuY3Rpb24oZSx0LHIpe2lmKDEyOCE9KDE5MiZ0WzBdKSlyZXR1cm4gZS5sYXN0TmVlZD0wLFwi77+9XCI7aWYoZS5sYXN0TmVlZD4xJiZ0Lmxlbmd0aD4xKXtpZigxMjghPSgxOTImdFsxXSkpcmV0dXJuIGUubGFzdE5lZWQ9MSxcIu+/vVwiO2lmKGUubGFzdE5lZWQ+MiYmdC5sZW5ndGg+MiYmMTI4IT0oMTkyJnRbMl0pKXJldHVybiBlLmxhc3ROZWVkPTIsXCLvv71cIn19KHRoaXMsZSk7cmV0dXJuIHZvaWQgMCE9PXI/cjp0aGlzLmxhc3ROZWVkPD1lLmxlbmd0aD8oZS5jb3B5KHRoaXMubGFzdENoYXIsdCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKSk6KGUuY29weSh0aGlzLmxhc3RDaGFyLHQsMCxlLmxlbmd0aCksdm9pZCh0aGlzLmxhc3ROZWVkLT1lLmxlbmd0aCkpfWZ1bmN0aW9uIGwoZSx0KXtpZigoZS5sZW5ndGgtdCklMj09MCl7dmFyIHI9ZS50b1N0cmluZyhcInV0ZjE2bGVcIix0KTtpZihyKXt2YXIgbj1yLmNoYXJDb2RlQXQoci5sZW5ndGgtMSk7aWYobj49NTUyOTYmJm48PTU2MzE5KXJldHVybiB0aGlzLmxhc3ROZWVkPTIsdGhpcy5sYXN0VG90YWw9NCx0aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT1lW2UubGVuZ3RoLTFdLHIuc2xpY2UoMCwtMSl9cmV0dXJuIHJ9cmV0dXJuIHRoaXMubGFzdE5lZWQ9MSx0aGlzLmxhc3RUb3RhbD0yLHRoaXMubGFzdENoYXJbMF09ZVtlLmxlbmd0aC0xXSxlLnRvU3RyaW5nKFwidXRmMTZsZVwiLHQsZS5sZW5ndGgtMSl9ZnVuY3Rpb24gdShlKXt2YXIgdD1lJiZlLmxlbmd0aD90aGlzLndyaXRlKGUpOlwiXCI7aWYodGhpcy5sYXN0TmVlZCl7dmFyIHI9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZDtyZXR1cm4gdCt0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwidXRmMTZsZVwiLDAscil9cmV0dXJuIHR9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPShlLmxlbmd0aC10KSUzO3JldHVybiAwPT09cj9lLnRvU3RyaW5nKFwiYmFzZTY0XCIsdCk6KHRoaXMubGFzdE5lZWQ9My1yLHRoaXMubGFzdFRvdGFsPTMsMT09PXI/dGhpcy5sYXN0Q2hhclswXT1lW2UubGVuZ3RoLTFdOih0aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT1lW2UubGVuZ3RoLTFdKSxlLnRvU3RyaW5nKFwiYmFzZTY0XCIsdCxlLmxlbmd0aC1yKSl9ZnVuY3Rpb24gaChlKXt2YXIgdD1lJiZlLmxlbmd0aD90aGlzLndyaXRlKGUpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/dCt0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwiYmFzZTY0XCIsMCwzLXRoaXMubGFzdE5lZWQpOnR9ZnVuY3Rpb24gZihlKXtyZXR1cm4gZS50b1N0cmluZyh0aGlzLmVuY29kaW5nKX1mdW5jdGlvbiBwKGUpe3JldHVybiBlJiZlLmxlbmd0aD90aGlzLndyaXRlKGUpOlwiXCJ9ci5TdHJpbmdEZWNvZGVyPW8sby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoMD09PWUubGVuZ3RoKXJldHVyblwiXCI7dmFyIHQscjtpZih0aGlzLmxhc3ROZWVkKXtpZih2b2lkIDA9PT0odD10aGlzLmZpbGxMYXN0KGUpKSlyZXR1cm5cIlwiO3I9dGhpcy5sYXN0TmVlZCx0aGlzLmxhc3ROZWVkPTB9ZWxzZSByPTA7cmV0dXJuIHI8ZS5sZW5ndGg/dD90K3RoaXMudGV4dChlLHIpOnRoaXMudGV4dChlLHIpOnR8fFwiXCJ9LG8ucHJvdG90eXBlLmVuZD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLmxlbmd0aD90aGlzLndyaXRlKGUpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/dCtcIu+/vVwiOnR9LG8ucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1mdW5jdGlvbihlLHQscil7dmFyIG49dC5sZW5ndGgtMTtpZihuPHIpcmV0dXJuIDA7dmFyIGk9cyh0W25dKTtpZihpPj0wKXJldHVybiBpPjAmJihlLmxhc3ROZWVkPWktMSksaTtpZigtLW48cnx8LTI9PT1pKXJldHVybiAwO2lmKChpPXModFtuXSkpPj0wKXJldHVybiBpPjAmJihlLmxhc3ROZWVkPWktMiksaTtpZigtLW48cnx8LTI9PT1pKXJldHVybiAwO2lmKChpPXModFtuXSkpPj0wKXJldHVybiBpPjAmJigyPT09aT9pPTA6ZS5sYXN0TmVlZD1pLTMpLGk7cmV0dXJuIDB9KHRoaXMsZSx0KTtpZighdGhpcy5sYXN0TmVlZClyZXR1cm4gZS50b1N0cmluZyhcInV0ZjhcIix0KTt0aGlzLmxhc3RUb3RhbD1yO3ZhciBuPWUubGVuZ3RoLShyLXRoaXMubGFzdE5lZWQpO3JldHVybiBlLmNvcHkodGhpcy5sYXN0Q2hhciwwLG4pLGUudG9TdHJpbmcoXCJ1dGY4XCIsdCxuKX0sby5wcm90b3R5cGUuZmlsbExhc3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5sYXN0TmVlZDw9ZS5sZW5ndGgpcmV0dXJuIGUuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCk7ZS5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLGUubGVuZ3RoKSx0aGlzLmxhc3ROZWVkLT1lLmxlbmd0aH19LHtcInNhZmUtYnVmZmVyXCI6NzN9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCJwdW55Y29kZVwiKSxpPWUoXCIuL3V0aWxcIik7ZnVuY3Rpb24gbygpe3RoaXMucHJvdG9jb2w9bnVsbCx0aGlzLnNsYXNoZXM9bnVsbCx0aGlzLmF1dGg9bnVsbCx0aGlzLmhvc3Q9bnVsbCx0aGlzLnBvcnQ9bnVsbCx0aGlzLmhvc3RuYW1lPW51bGwsdGhpcy5oYXNoPW51bGwsdGhpcy5zZWFyY2g9bnVsbCx0aGlzLnF1ZXJ5PW51bGwsdGhpcy5wYXRobmFtZT1udWxsLHRoaXMucGF0aD1udWxsLHRoaXMuaHJlZj1udWxsfXIucGFyc2U9dixyLnJlc29sdmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdihlLCExLCEwKS5yZXNvbHZlKHQpfSxyLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT92KGUsITEsITApLnJlc29sdmVPYmplY3QodCk6dH0sci5mb3JtYXQ9ZnVuY3Rpb24oZSl7aS5pc1N0cmluZyhlKSYmKGU9dihlKSk7cmV0dXJuIGUgaW5zdGFuY2VvZiBvP2UuZm9ybWF0KCk6by5wcm90b3R5cGUuZm9ybWF0LmNhbGwoZSl9LHIuVXJsPW87dmFyIHM9L14oW2EtejAtOS4rLV0rOikvaSxhPS86WzAtOV0qJC8sbD0vXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLHU9W1wie1wiLFwifVwiLFwifFwiLFwiXFxcXFwiLFwiXlwiLFwiYFwiXS5jb25jYXQoW1wiPFwiLFwiPlwiLCdcIicsXCJgXCIsXCIgXCIsXCJcXHJcIixcIlxcblwiLFwiXFx0XCJdKSxjPVtcIidcIl0uY29uY2F0KHUpLGg9W1wiJVwiLFwiL1wiLFwiP1wiLFwiO1wiLFwiI1wiXS5jb25jYXQoYyksZj1bXCIvXCIsXCI/XCIsXCIjXCJdLHA9L15bK2EtejAtOUEtWl8tXXswLDYzfSQvLGQ9L14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLGc9e2phdmFzY3JpcHQ6ITAsXCJqYXZhc2NyaXB0OlwiOiEwfSx5PXtqYXZhc2NyaXB0OiEwLFwiamF2YXNjcmlwdDpcIjohMH0sYj17aHR0cDohMCxodHRwczohMCxmdHA6ITAsZ29waGVyOiEwLGZpbGU6ITAsXCJodHRwOlwiOiEwLFwiaHR0cHM6XCI6ITAsXCJmdHA6XCI6ITAsXCJnb3BoZXI6XCI6ITAsXCJmaWxlOlwiOiEwfSxtPWUoXCJxdWVyeXN0cmluZ1wiKTtmdW5jdGlvbiB2KGUsdCxyKXtpZihlJiZpLmlzT2JqZWN0KGUpJiZlIGluc3RhbmNlb2YgbylyZXR1cm4gZTt2YXIgbj1uZXcgbztyZXR1cm4gbi5wYXJzZShlLHQsciksbn1vLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQscil7aWYoIWkuaXNTdHJpbmcoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIrdHlwZW9mIGUpO3ZhciBvPWUuaW5kZXhPZihcIj9cIiksYT0tMSE9PW8mJm88ZS5pbmRleE9mKFwiI1wiKT9cIj9cIjpcIiNcIix1PWUuc3BsaXQoYSk7dVswXT11WzBdLnJlcGxhY2UoL1xcXFwvZyxcIi9cIik7dmFyIHY9ZT11LmpvaW4oYSk7aWYodj12LnRyaW0oKSwhciYmMT09PWUuc3BsaXQoXCIjXCIpLmxlbmd0aCl7dmFyIHc9bC5leGVjKHYpO2lmKHcpcmV0dXJuIHRoaXMucGF0aD12LHRoaXMuaHJlZj12LHRoaXMucGF0aG5hbWU9d1sxXSx3WzJdPyh0aGlzLnNlYXJjaD13WzJdLHRoaXMucXVlcnk9dD9tLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk6dGhpcy5zZWFyY2guc3Vic3RyKDEpKTp0JiYodGhpcy5zZWFyY2g9XCJcIix0aGlzLnF1ZXJ5PXt9KSx0aGlzfXZhciBfPXMuZXhlYyh2KTtpZihfKXt2YXIgaz0oXz1fWzBdKS50b0xvd2VyQ2FzZSgpO3RoaXMucHJvdG9jb2w9ayx2PXYuc3Vic3RyKF8ubGVuZ3RoKX1pZihyfHxffHx2Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSl7dmFyIFM9XCIvL1wiPT09di5zdWJzdHIoMCwyKTshU3x8XyYmeVtfXXx8KHY9di5zdWJzdHIoMiksdGhpcy5zbGFzaGVzPSEwKX1pZigheVtfXSYmKFN8fF8mJiFiW19dKSl7Zm9yKHZhciBFLEMsVD0tMSx4PTA7eDxmLmxlbmd0aDt4Kyspey0xIT09KEE9di5pbmRleE9mKGZbeF0pKSYmKC0xPT09VHx8QTxUKSYmKFQ9QSl9LTEhPT0oQz0tMT09PVQ/di5sYXN0SW5kZXhPZihcIkBcIik6di5sYXN0SW5kZXhPZihcIkBcIixUKSkmJihFPXYuc2xpY2UoMCxDKSx2PXYuc2xpY2UoQysxKSx0aGlzLmF1dGg9ZGVjb2RlVVJJQ29tcG9uZW50KEUpKSxUPS0xO2Zvcih4PTA7eDxoLmxlbmd0aDt4Kyspe3ZhciBBOy0xIT09KEE9di5pbmRleE9mKGhbeF0pKSYmKC0xPT09VHx8QTxUKSYmKFQ9QSl9LTE9PT1UJiYoVD12Lmxlbmd0aCksdGhpcy5ob3N0PXYuc2xpY2UoMCxUKSx2PXYuc2xpY2UoVCksdGhpcy5wYXJzZUhvc3QoKSx0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWV8fFwiXCI7dmFyIEk9XCJbXCI9PT10aGlzLmhvc3RuYW1lWzBdJiZcIl1cIj09PXRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGgtMV07aWYoIUkpZm9yKHZhciBQPXRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pLE89KHg9MCxQLmxlbmd0aCk7eDxPO3grKyl7dmFyIEI9UFt4XTtpZihCJiYhQi5tYXRjaChwKSl7Zm9yKHZhciBSPVwiXCIsTT0wLE49Qi5sZW5ndGg7TTxOO00rKylCLmNoYXJDb2RlQXQoTSk+MTI3P1IrPVwieFwiOlIrPUJbTV07aWYoIVIubWF0Y2gocCkpe3ZhciBMPVAuc2xpY2UoMCx4KSxqPVAuc2xpY2UoeCsxKSxVPUIubWF0Y2goZCk7VSYmKEwucHVzaChVWzFdKSxqLnVuc2hpZnQoVVsyXSkpLGoubGVuZ3RoJiYodj1cIi9cIitqLmpvaW4oXCIuXCIpK3YpLHRoaXMuaG9zdG5hbWU9TC5qb2luKFwiLlwiKTticmVha319fXRoaXMuaG9zdG5hbWUubGVuZ3RoPjI1NT90aGlzLmhvc3RuYW1lPVwiXCI6dGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCksSXx8KHRoaXMuaG9zdG5hbWU9bi50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpKTt2YXIgcT10aGlzLnBvcnQ/XCI6XCIrdGhpcy5wb3J0OlwiXCIsRD10aGlzLmhvc3RuYW1lfHxcIlwiO3RoaXMuaG9zdD1EK3EsdGhpcy5ocmVmKz10aGlzLmhvc3QsSSYmKHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS5zdWJzdHIoMSx0aGlzLmhvc3RuYW1lLmxlbmd0aC0yKSxcIi9cIiE9PXZbMF0mJih2PVwiL1wiK3YpKX1pZighZ1trXSlmb3IoeD0wLE89Yy5sZW5ndGg7eDxPO3grKyl7dmFyIHo9Y1t4XTtpZigtMSE9PXYuaW5kZXhPZih6KSl7dmFyIEY9ZW5jb2RlVVJJQ29tcG9uZW50KHopO0Y9PT16JiYoRj1lc2NhcGUoeikpLHY9di5zcGxpdCh6KS5qb2luKEYpfX12YXIgVj12LmluZGV4T2YoXCIjXCIpOy0xIT09ViYmKHRoaXMuaGFzaD12LnN1YnN0cihWKSx2PXYuc2xpY2UoMCxWKSk7dmFyIEg9di5pbmRleE9mKFwiP1wiKTtpZigtMSE9PUg/KHRoaXMuc2VhcmNoPXYuc3Vic3RyKEgpLHRoaXMucXVlcnk9di5zdWJzdHIoSCsxKSx0JiYodGhpcy5xdWVyeT1tLnBhcnNlKHRoaXMucXVlcnkpKSx2PXYuc2xpY2UoMCxIKSk6dCYmKHRoaXMuc2VhcmNoPVwiXCIsdGhpcy5xdWVyeT17fSksdiYmKHRoaXMucGF0aG5hbWU9diksYltrXSYmdGhpcy5ob3N0bmFtZSYmIXRoaXMucGF0aG5hbWUmJih0aGlzLnBhdGhuYW1lPVwiL1wiKSx0aGlzLnBhdGhuYW1lfHx0aGlzLnNlYXJjaCl7cT10aGlzLnBhdGhuYW1lfHxcIlwiO3ZhciBXPXRoaXMuc2VhcmNofHxcIlwiO3RoaXMucGF0aD1xK1d9cmV0dXJuIHRoaXMuaHJlZj10aGlzLmZvcm1hdCgpLHRoaXN9LG8ucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYXV0aHx8XCJcIjtlJiYoZT0oZT1lbmNvZGVVUklDb21wb25lbnQoZSkpLnJlcGxhY2UoLyUzQS9pLFwiOlwiKSxlKz1cIkBcIik7dmFyIHQ9dGhpcy5wcm90b2NvbHx8XCJcIixyPXRoaXMucGF0aG5hbWV8fFwiXCIsbj10aGlzLmhhc2h8fFwiXCIsbz0hMSxzPVwiXCI7dGhpcy5ob3N0P289ZSt0aGlzLmhvc3Q6dGhpcy5ob3N0bmFtZSYmKG89ZSsoLTE9PT10aGlzLmhvc3RuYW1lLmluZGV4T2YoXCI6XCIpP3RoaXMuaG9zdG5hbWU6XCJbXCIrdGhpcy5ob3N0bmFtZStcIl1cIiksdGhpcy5wb3J0JiYobys9XCI6XCIrdGhpcy5wb3J0KSksdGhpcy5xdWVyeSYmaS5pc09iamVjdCh0aGlzLnF1ZXJ5KSYmT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoJiYocz1tLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KSk7dmFyIGE9dGhpcy5zZWFyY2h8fHMmJlwiP1wiK3N8fFwiXCI7cmV0dXJuIHQmJlwiOlwiIT09dC5zdWJzdHIoLTEpJiYodCs9XCI6XCIpLHRoaXMuc2xhc2hlc3x8KCF0fHxiW3RdKSYmITEhPT1vPyhvPVwiLy9cIisob3x8XCJcIiksciYmXCIvXCIhPT1yLmNoYXJBdCgwKSYmKHI9XCIvXCIrcikpOm98fChvPVwiXCIpLG4mJlwiI1wiIT09bi5jaGFyQXQoMCkmJihuPVwiI1wiK24pLGEmJlwiP1wiIT09YS5jaGFyQXQoMCkmJihhPVwiP1wiK2EpLHQrbysocj1yLnJlcGxhY2UoL1s/I10vZyxmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSkpKyhhPWEucmVwbGFjZShcIiNcIixcIiUyM1wiKSkrbn0sby5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHYoZSwhMSwhMCkpLmZvcm1hdCgpfSxvLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGkuaXNTdHJpbmcoZSkpe3ZhciB0PW5ldyBvO3QucGFyc2UoZSwhMSwhMCksZT10fWZvcih2YXIgcj1uZXcgbyxuPU9iamVjdC5rZXlzKHRoaXMpLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGE9bltzXTtyW2FdPXRoaXNbYV19aWYoci5oYXNoPWUuaGFzaCxcIlwiPT09ZS5ocmVmKXJldHVybiByLmhyZWY9ci5mb3JtYXQoKSxyO2lmKGUuc2xhc2hlcyYmIWUucHJvdG9jb2wpe2Zvcih2YXIgbD1PYmplY3Qua2V5cyhlKSx1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBjPWxbdV07XCJwcm90b2NvbFwiIT09YyYmKHJbY109ZVtjXSl9cmV0dXJuIGJbci5wcm90b2NvbF0mJnIuaG9zdG5hbWUmJiFyLnBhdGhuYW1lJiYoci5wYXRoPXIucGF0aG5hbWU9XCIvXCIpLHIuaHJlZj1yLmZvcm1hdCgpLHJ9aWYoZS5wcm90b2NvbCYmZS5wcm90b2NvbCE9PXIucHJvdG9jb2wpe2lmKCFiW2UucHJvdG9jb2xdKXtmb3IodmFyIGg9T2JqZWN0LmtleXMoZSksZj0wO2Y8aC5sZW5ndGg7ZisrKXt2YXIgcD1oW2ZdO3JbcF09ZVtwXX1yZXR1cm4gci5ocmVmPXIuZm9ybWF0KCkscn1pZihyLnByb3RvY29sPWUucHJvdG9jb2wsZS5ob3N0fHx5W2UucHJvdG9jb2xdKXIucGF0aG5hbWU9ZS5wYXRobmFtZTtlbHNle2Zvcih2YXIgZD0oZS5wYXRobmFtZXx8XCJcIikuc3BsaXQoXCIvXCIpO2QubGVuZ3RoJiYhKGUuaG9zdD1kLnNoaWZ0KCkpOyk7ZS5ob3N0fHwoZS5ob3N0PVwiXCIpLGUuaG9zdG5hbWV8fChlLmhvc3RuYW1lPVwiXCIpLFwiXCIhPT1kWzBdJiZkLnVuc2hpZnQoXCJcIiksZC5sZW5ndGg8MiYmZC51bnNoaWZ0KFwiXCIpLHIucGF0aG5hbWU9ZC5qb2luKFwiL1wiKX1pZihyLnNlYXJjaD1lLnNlYXJjaCxyLnF1ZXJ5PWUucXVlcnksci5ob3N0PWUuaG9zdHx8XCJcIixyLmF1dGg9ZS5hdXRoLHIuaG9zdG5hbWU9ZS5ob3N0bmFtZXx8ZS5ob3N0LHIucG9ydD1lLnBvcnQsci5wYXRobmFtZXx8ci5zZWFyY2gpe3ZhciBnPXIucGF0aG5hbWV8fFwiXCIsbT1yLnNlYXJjaHx8XCJcIjtyLnBhdGg9ZyttfXJldHVybiByLnNsYXNoZXM9ci5zbGFzaGVzfHxlLnNsYXNoZXMsci5ocmVmPXIuZm9ybWF0KCkscn12YXIgdj1yLnBhdGhuYW1lJiZcIi9cIj09PXIucGF0aG5hbWUuY2hhckF0KDApLHc9ZS5ob3N0fHxlLnBhdGhuYW1lJiZcIi9cIj09PWUucGF0aG5hbWUuY2hhckF0KDApLF89d3x8dnx8ci5ob3N0JiZlLnBhdGhuYW1lLGs9XyxTPXIucGF0aG5hbWUmJnIucGF0aG5hbWUuc3BsaXQoXCIvXCIpfHxbXSxFPShkPWUucGF0aG5hbWUmJmUucGF0aG5hbWUuc3BsaXQoXCIvXCIpfHxbXSxyLnByb3RvY29sJiYhYltyLnByb3RvY29sXSk7aWYoRSYmKHIuaG9zdG5hbWU9XCJcIixyLnBvcnQ9bnVsbCxyLmhvc3QmJihcIlwiPT09U1swXT9TWzBdPXIuaG9zdDpTLnVuc2hpZnQoci5ob3N0KSksci5ob3N0PVwiXCIsZS5wcm90b2NvbCYmKGUuaG9zdG5hbWU9bnVsbCxlLnBvcnQ9bnVsbCxlLmhvc3QmJihcIlwiPT09ZFswXT9kWzBdPWUuaG9zdDpkLnVuc2hpZnQoZS5ob3N0KSksZS5ob3N0PW51bGwpLF89XyYmKFwiXCI9PT1kWzBdfHxcIlwiPT09U1swXSkpLHcpci5ob3N0PWUuaG9zdHx8XCJcIj09PWUuaG9zdD9lLmhvc3Q6ci5ob3N0LHIuaG9zdG5hbWU9ZS5ob3N0bmFtZXx8XCJcIj09PWUuaG9zdG5hbWU/ZS5ob3N0bmFtZTpyLmhvc3RuYW1lLHIuc2VhcmNoPWUuc2VhcmNoLHIucXVlcnk9ZS5xdWVyeSxTPWQ7ZWxzZSBpZihkLmxlbmd0aClTfHwoUz1bXSksUy5wb3AoKSxTPVMuY29uY2F0KGQpLHIuc2VhcmNoPWUuc2VhcmNoLHIucXVlcnk9ZS5xdWVyeTtlbHNlIGlmKCFpLmlzTnVsbE9yVW5kZWZpbmVkKGUuc2VhcmNoKSl7aWYoRSlyLmhvc3RuYW1lPXIuaG9zdD1TLnNoaWZ0KCksKEk9ISEoci5ob3N0JiZyLmhvc3QuaW5kZXhPZihcIkBcIik+MCkmJnIuaG9zdC5zcGxpdChcIkBcIikpJiYoci5hdXRoPUkuc2hpZnQoKSxyLmhvc3Q9ci5ob3N0bmFtZT1JLnNoaWZ0KCkpO3JldHVybiByLnNlYXJjaD1lLnNlYXJjaCxyLnF1ZXJ5PWUucXVlcnksaS5pc051bGwoci5wYXRobmFtZSkmJmkuaXNOdWxsKHIuc2VhcmNoKXx8KHIucGF0aD0oci5wYXRobmFtZT9yLnBhdGhuYW1lOlwiXCIpKyhyLnNlYXJjaD9yLnNlYXJjaDpcIlwiKSksci5ocmVmPXIuZm9ybWF0KCkscn1pZighUy5sZW5ndGgpcmV0dXJuIHIucGF0aG5hbWU9bnVsbCxyLnNlYXJjaD9yLnBhdGg9XCIvXCIrci5zZWFyY2g6ci5wYXRoPW51bGwsci5ocmVmPXIuZm9ybWF0KCkscjtmb3IodmFyIEM9Uy5zbGljZSgtMSlbMF0sVD0oci5ob3N0fHxlLmhvc3R8fFMubGVuZ3RoPjEpJiYoXCIuXCI9PT1DfHxcIi4uXCI9PT1DKXx8XCJcIj09PUMseD0wLEE9Uy5sZW5ndGg7QT49MDtBLS0pXCIuXCI9PT0oQz1TW0FdKT9TLnNwbGljZShBLDEpOlwiLi5cIj09PUM/KFMuc3BsaWNlKEEsMSkseCsrKTp4JiYoUy5zcGxpY2UoQSwxKSx4LS0pO2lmKCFfJiYhaylmb3IoO3gtLTt4KVMudW5zaGlmdChcIi4uXCIpOyFffHxcIlwiPT09U1swXXx8U1swXSYmXCIvXCI9PT1TWzBdLmNoYXJBdCgwKXx8Uy51bnNoaWZ0KFwiXCIpLFQmJlwiL1wiIT09Uy5qb2luKFwiL1wiKS5zdWJzdHIoLTEpJiZTLnB1c2goXCJcIik7dmFyIEksUD1cIlwiPT09U1swXXx8U1swXSYmXCIvXCI9PT1TWzBdLmNoYXJBdCgwKTtFJiYoci5ob3N0bmFtZT1yLmhvc3Q9UD9cIlwiOlMubGVuZ3RoP1Muc2hpZnQoKTpcIlwiLChJPSEhKHIuaG9zdCYmci5ob3N0LmluZGV4T2YoXCJAXCIpPjApJiZyLmhvc3Quc3BsaXQoXCJAXCIpKSYmKHIuYXV0aD1JLnNoaWZ0KCksci5ob3N0PXIuaG9zdG5hbWU9SS5zaGlmdCgpKSk7cmV0dXJuKF89X3x8ci5ob3N0JiZTLmxlbmd0aCkmJiFQJiZTLnVuc2hpZnQoXCJcIiksUy5sZW5ndGg/ci5wYXRobmFtZT1TLmpvaW4oXCIvXCIpOihyLnBhdGhuYW1lPW51bGwsci5wYXRoPW51bGwpLGkuaXNOdWxsKHIucGF0aG5hbWUpJiZpLmlzTnVsbChyLnNlYXJjaCl8fChyLnBhdGg9KHIucGF0aG5hbWU/ci5wYXRobmFtZTpcIlwiKSsoci5zZWFyY2g/ci5zZWFyY2g6XCJcIikpLHIuYXV0aD1lLmF1dGh8fHIuYXV0aCxyLnNsYXNoZXM9ci5zbGFzaGVzfHxlLnNsYXNoZXMsci5ocmVmPXIuZm9ybWF0KCkscn0sby5wcm90b3R5cGUucGFyc2VIb3N0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3N0LHQ9YS5leGVjKGUpO3QmJihcIjpcIiE9PSh0PXRbMF0pJiYodGhpcy5wb3J0PXQuc3Vic3RyKDEpKSxlPWUuc3Vic3RyKDAsZS5sZW5ndGgtdC5sZW5ndGgpKSxlJiYodGhpcy5ob3N0bmFtZT1lKX19LHtcIi4vdXRpbFwiOjc3LHB1bnljb2RlOjUxLHF1ZXJ5c3RyaW5nOjU0fV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9e2lzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxpc09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWV9LGlzTnVsbDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV9LGlzTnVsbE9yVW5kZWZpbmVkOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXtmdW5jdGlvbiByKHQpe3RyeXtpZighZS5sb2NhbFN0b3JhZ2UpcmV0dXJuITF9Y2F0Y2goZSl7cmV0dXJuITF9dmFyIHI9ZS5sb2NhbFN0b3JhZ2VbdF07cmV0dXJuIG51bGwhPXImJlwidHJ1ZVwiPT09U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCl9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYocihcIm5vRGVwcmVjYXRpb25cIikpcmV0dXJuIGU7dmFyIG49ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIW4pe2lmKHIoXCJ0aHJvd0RlcHJlY2F0aW9uXCIpKXRocm93IG5ldyBFcnJvcih0KTtyKFwidHJhY2VEZXByZWNhdGlvblwiKT9jb25zb2xlLnRyYWNlKHQpOmNvbnNvbGUud2Fybih0KSxuPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDc5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uIGUodCxyKXtpZih0JiZyKXJldHVybiBlKHQpKHIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5lZWQgd3JhcHBlciBmdW5jdGlvblwiKTtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV09dFtlXX0pO3JldHVybiBuO2Z1bmN0aW9uIG4oKXtmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoO3IrKyllW3JdPWFyZ3VtZW50c1tyXTt2YXIgbj10LmFwcGx5KHRoaXMsZSksaT1lW2UubGVuZ3RoLTFdO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4hPT1pJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV09aVtlXX0pLG59fX0se31dLDgwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwid3MgZG9lcyBub3Qgd29yayBpbiB0aGUgYnJvd3Nlci4gQnJvd3NlciBjbGllbnRzIG11c3QgdXNlIHRoZSBuYXRpdmUgV2ViU29ja2V0IG9iamVjdFwiKX19LHt9XSw4MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiByKW4uY2FsbChyLGkpJiYoZVtpXT1yW2ldKX1yZXR1cm4gZX07dmFyIG49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eX0se31dLDgyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2UucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24qKCl7Zm9yKGxldCBlPXRoaXMuaGVhZDtlO2U9ZS5uZXh0KXlpZWxkIGUudmFsdWV9fX0se31dLDgzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXt2YXIgdD10aGlzO2lmKHQgaW5zdGFuY2VvZiBufHwodD1uZXcgbiksdC50YWlsPW51bGwsdC5oZWFkPW51bGwsdC5sZW5ndGg9MCxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZvckVhY2gpZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pO2Vsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD4wKWZvcih2YXIgcj0wLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKXQucHVzaChhcmd1bWVudHNbcl0pO3JldHVybiB0fWZ1bmN0aW9uIGkoZSx0LHIpe3ZhciBuPXQ9PT1lLmhlYWQ/bmV3IGEocixudWxsLHQsZSk6bmV3IGEocix0LHQubmV4dCxlKTtyZXR1cm4gbnVsbD09PW4ubmV4dCYmKGUudGFpbD1uKSxudWxsPT09bi5wcmV2JiYoZS5oZWFkPW4pLGUubGVuZ3RoKyssbn1mdW5jdGlvbiBvKGUsdCl7ZS50YWlsPW5ldyBhKHQsZS50YWlsLG51bGwsZSksZS5oZWFkfHwoZS5oZWFkPWUudGFpbCksZS5sZW5ndGgrK31mdW5jdGlvbiBzKGUsdCl7ZS5oZWFkPW5ldyBhKHQsbnVsbCxlLmhlYWQsZSksZS50YWlsfHwoZS50YWlsPWUuaGVhZCksZS5sZW5ndGgrK31mdW5jdGlvbiBhKGUsdCxyLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIGEpKXJldHVybiBuZXcgYShlLHQscixuKTt0aGlzLmxpc3Q9bix0aGlzLnZhbHVlPWUsdD8odC5uZXh0PXRoaXMsdGhpcy5wcmV2PXQpOnRoaXMucHJldj1udWxsLHI/KHIucHJldj10aGlzLHRoaXMubmV4dD1yKTp0aGlzLm5leHQ9bnVsbH10LmV4cG9ydHM9bixuLk5vZGU9YSxuLmNyZWF0ZT1uLG4ucHJvdG90eXBlLnJlbW92ZU5vZGU9ZnVuY3Rpb24oZSl7aWYoZS5saXN0IT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdmluZyBub2RlIHdoaWNoIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIGxpc3RcIik7dmFyIHQ9ZS5uZXh0LHI9ZS5wcmV2O3JldHVybiB0JiYodC5wcmV2PXIpLHImJihyLm5leHQ9dCksZT09PXRoaXMuaGVhZCYmKHRoaXMuaGVhZD10KSxlPT09dGhpcy50YWlsJiYodGhpcy50YWlsPXIpLGUubGlzdC5sZW5ndGgtLSxlLm5leHQ9bnVsbCxlLnByZXY9bnVsbCxlLmxpc3Q9bnVsbCx0fSxuLnByb3RvdHlwZS51bnNoaWZ0Tm9kZT1mdW5jdGlvbihlKXtpZihlIT09dGhpcy5oZWFkKXtlLmxpc3QmJmUubGlzdC5yZW1vdmVOb2RlKGUpO3ZhciB0PXRoaXMuaGVhZDtlLmxpc3Q9dGhpcyxlLm5leHQ9dCx0JiYodC5wcmV2PWUpLHRoaXMuaGVhZD1lLHRoaXMudGFpbHx8KHRoaXMudGFpbD1lKSx0aGlzLmxlbmd0aCsrfX0sbi5wcm90b3R5cGUucHVzaE5vZGU9ZnVuY3Rpb24oZSl7aWYoZSE9PXRoaXMudGFpbCl7ZS5saXN0JiZlLmxpc3QucmVtb3ZlTm9kZShlKTt2YXIgdD10aGlzLnRhaWw7ZS5saXN0PXRoaXMsZS5wcmV2PXQsdCYmKHQubmV4dD1lKSx0aGlzLnRhaWw9ZSx0aGlzLmhlYWR8fCh0aGlzLmhlYWQ9ZSksdGhpcy5sZW5ndGgrK319LG4ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGg7ZTx0O2UrKylvKHRoaXMsYXJndW1lbnRzW2VdKTtyZXR1cm4gdGhpcy5sZW5ndGh9LG4ucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGg7ZTx0O2UrKylzKHRoaXMsYXJndW1lbnRzW2VdKTtyZXR1cm4gdGhpcy5sZW5ndGh9LG4ucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKHRoaXMudGFpbCl7dmFyIGU9dGhpcy50YWlsLnZhbHVlO3JldHVybiB0aGlzLnRhaWw9dGhpcy50YWlsLnByZXYsdGhpcy50YWlsP3RoaXMudGFpbC5uZXh0PW51bGw6dGhpcy5oZWFkPW51bGwsdGhpcy5sZW5ndGgtLSxlfX0sbi5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmhlYWQpe3ZhciBlPXRoaXMuaGVhZC52YWx1ZTtyZXR1cm4gdGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LHRoaXMuaGVhZD90aGlzLmhlYWQucHJldj1udWxsOnRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoLS0sZX19LG4ucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXM7Zm9yKHZhciByPXRoaXMuaGVhZCxuPTA7bnVsbCE9PXI7bisrKWUuY2FsbCh0LHIudmFsdWUsbix0aGlzKSxyPXIubmV4dH0sbi5wcm90b3R5cGUuZm9yRWFjaFJldmVyc2U9ZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXM7Zm9yKHZhciByPXRoaXMudGFpbCxuPXRoaXMubGVuZ3RoLTE7bnVsbCE9PXI7bi0tKWUuY2FsbCh0LHIudmFsdWUsbix0aGlzKSxyPXIucHJldn0sbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5oZWFkO251bGwhPT1yJiZ0PGU7dCsrKXI9ci5uZXh0O2lmKHQ9PT1lJiZudWxsIT09cilyZXR1cm4gci52YWx1ZX0sbi5wcm90b3R5cGUuZ2V0UmV2ZXJzZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPXRoaXMudGFpbDtudWxsIT09ciYmdDxlO3QrKylyPXIucHJldjtpZih0PT09ZSYmbnVsbCE9PXIpcmV0dXJuIHIudmFsdWV9LG4ucHJvdG90eXBlLm1hcD1mdW5jdGlvbihlLHQpe3Q9dHx8dGhpcztmb3IodmFyIHI9bmV3IG4saT10aGlzLmhlYWQ7bnVsbCE9PWk7KXIucHVzaChlLmNhbGwodCxpLnZhbHVlLHRoaXMpKSxpPWkubmV4dDtyZXR1cm4gcn0sbi5wcm90b3R5cGUubWFwUmV2ZXJzZT1mdW5jdGlvbihlLHQpe3Q9dHx8dGhpcztmb3IodmFyIHI9bmV3IG4saT10aGlzLnRhaWw7bnVsbCE9PWk7KXIucHVzaChlLmNhbGwodCxpLnZhbHVlLHRoaXMpKSxpPWkucHJldjtyZXR1cm4gcn0sbi5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj10aGlzLmhlYWQ7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXI9dDtlbHNle2lmKCF0aGlzLmhlYWQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJlZHVjZSBvZiBlbXB0eSBsaXN0IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTtuPXRoaXMuaGVhZC5uZXh0LHI9dGhpcy5oZWFkLnZhbHVlfWZvcih2YXIgaT0wO251bGwhPT1uO2krKylyPWUocixuLnZhbHVlLGkpLG49bi5uZXh0O3JldHVybiByfSxuLnByb3RvdHlwZS5yZWR1Y2VSZXZlcnNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj10aGlzLnRhaWw7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXI9dDtlbHNle2lmKCF0aGlzLnRhaWwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJlZHVjZSBvZiBlbXB0eSBsaXN0IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTtuPXRoaXMudGFpbC5wcmV2LHI9dGhpcy50YWlsLnZhbHVlfWZvcih2YXIgaT10aGlzLmxlbmd0aC0xO251bGwhPT1uO2ktLSlyPWUocixuLnZhbHVlLGkpLG49bi5wcmV2O3JldHVybiByfSxuLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLmxlbmd0aCksdD0wLHI9dGhpcy5oZWFkO251bGwhPT1yO3QrKyllW3RdPXIudmFsdWUscj1yLm5leHQ7cmV0dXJuIGV9LG4ucHJvdG90eXBlLnRvQXJyYXlSZXZlcnNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLmxlbmd0aCksdD0wLHI9dGhpcy50YWlsO251bGwhPT1yO3QrKyllW3RdPXIudmFsdWUscj1yLnByZXY7cmV0dXJuIGV9LG4ucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7KHQ9dHx8dGhpcy5sZW5ndGgpPDAmJih0Kz10aGlzLmxlbmd0aCksKGU9ZXx8MCk8MCYmKGUrPXRoaXMubGVuZ3RoKTt2YXIgcj1uZXcgbjtpZih0PGV8fHQ8MClyZXR1cm4gcjtlPDAmJihlPTApLHQ+dGhpcy5sZW5ndGgmJih0PXRoaXMubGVuZ3RoKTtmb3IodmFyIGk9MCxvPXRoaXMuaGVhZDtudWxsIT09byYmaTxlO2krKylvPW8ubmV4dDtmb3IoO251bGwhPT1vJiZpPHQ7aSsrLG89by5uZXh0KXIucHVzaChvLnZhbHVlKTtyZXR1cm4gcn0sbi5wcm90b3R5cGUuc2xpY2VSZXZlcnNlPWZ1bmN0aW9uKGUsdCl7KHQ9dHx8dGhpcy5sZW5ndGgpPDAmJih0Kz10aGlzLmxlbmd0aCksKGU9ZXx8MCk8MCYmKGUrPXRoaXMubGVuZ3RoKTt2YXIgcj1uZXcgbjtpZih0PGV8fHQ8MClyZXR1cm4gcjtlPDAmJihlPTApLHQ+dGhpcy5sZW5ndGgmJih0PXRoaXMubGVuZ3RoKTtmb3IodmFyIGk9dGhpcy5sZW5ndGgsbz10aGlzLnRhaWw7bnVsbCE9PW8mJmk+dDtpLS0pbz1vLnByZXY7Zm9yKDtudWxsIT09byYmaT5lO2ktLSxvPW8ucHJldilyLnB1c2goby52YWx1ZSk7cmV0dXJuIHJ9LG4ucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihlLHQsLi4ucil7ZT50aGlzLmxlbmd0aCYmKGU9dGhpcy5sZW5ndGgtMSksZTwwJiYoZT10aGlzLmxlbmd0aCtlKTtmb3IodmFyIG49MCxvPXRoaXMuaGVhZDtudWxsIT09byYmbjxlO24rKylvPW8ubmV4dDt2YXIgcz1bXTtmb3Iobj0wO28mJm48dDtuKyspcy5wdXNoKG8udmFsdWUpLG89dGhpcy5yZW1vdmVOb2RlKG8pO251bGw9PT1vJiYobz10aGlzLnRhaWwpLG8hPT10aGlzLmhlYWQmJm8hPT10aGlzLnRhaWwmJihvPW8ucHJldik7Zm9yKG49MDtuPHIubGVuZ3RoO24rKylvPWkodGhpcyxvLHJbbl0pO3JldHVybiBzfSxuLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuaGVhZCx0PXRoaXMudGFpbCxyPWU7bnVsbCE9PXI7cj1yLnByZXYpe3ZhciBuPXIucHJldjtyLnByZXY9ci5uZXh0LHIubmV4dD1ufXJldHVybiB0aGlzLmhlYWQ9dCx0aGlzLnRhaWw9ZSx0aGlzfTt0cnl7ZShcIi4vaXRlcmF0b3IuanNcIikobil9Y2F0Y2goZSl7fX0se1wiLi9pdGVyYXRvci5qc1wiOjgyfV19LHt9LFsxMl0pKDEyKX0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../libraries/mqtt/mqtt.min.js\n");

/***/ }),

/***/ "../script/mqtt/mqtt-async-client.js":
/*!*******************************************!*\
  !*** ../script/mqtt/mqtt-async-client.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connect\": () => (/* binding */ connect),\n/* harmony export */   \"connectAsync\": () => (/* binding */ connectAsync)\n/* harmony export */ });\n/* harmony import */ var _libraries_mqtt_mqtt_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../libraries/mqtt/mqtt.min.js */ \"../libraries/mqtt/mqtt.min.js\");\n/* harmony import */ var _libraries_mqtt_mqtt_min_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_libraries_mqtt_mqtt_min_js__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\nfunction connect (brokerURL, opts) {\r\n  const client = _libraries_mqtt_mqtt_min_js__WEBPACK_IMPORTED_MODULE_0___default().connect(brokerURL, opts);\r\n  const asyncClient = new AsyncClient(client);\r\n\r\n  return asyncClient;\r\n}\r\n\r\nfunction connectAsync (brokerURL, opts, allowRetries=true) {\r\n  const client = _libraries_mqtt_mqtt_min_js__WEBPACK_IMPORTED_MODULE_0___default().connect(brokerURL, opts);\r\n  const asyncClient = new AsyncClient(client);\r\n\r\n  return new Promise((resolve, reject) => {\r\n    // Listeners added to client to trigger promise resolution\r\n    const promiseResolutionListeners = {\r\n      connect: (connack) => {\r\n        removePromiseResolutionListeners();\r\n        resolve(asyncClient);   // Resolve on connect\r\n      },\r\n      end: () => {\r\n        removePromiseResolutionListeners();\r\n        resolve(asyncClient);   // Resolve on end\r\n      },\r\n      error: (err) => {\r\n        removePromiseResolutionListeners();\r\n        client.end();\r\n        reject(err);            // Reject on error\r\n      }\r\n    };\r\n\r\n    // If retries are not allowed, reject on close\r\n    if (false === allowRetries) {\r\n      promiseResolutionListeners.close = () => {\r\n        promiseResolutionListeners.error('Couldn\\'t connect to server');\r\n      }\r\n    }\r\n\r\n    // Remove listeners added to client by this promise\r\n    function removePromiseResolutionListeners () {\r\n      Object.keys(promiseResolutionListeners).forEach((eventName) => {\r\n        client.removeListener(eventName, promiseResolutionListeners[eventName]);\r\n      });\r\n    };\r\n\r\n    // Add listeners to client\r\n    Object.keys(promiseResolutionListeners).forEach((eventName) => {\r\n      client.on(eventName, promiseResolutionListeners[eventName]);\r\n    });\r\n  });\r\n}\r\n\r\nclass AsyncClient {\r\n  constructor (client) {\r\n    this._client = client;\r\n  }\r\n\r\n  set handleMessage (newHandler) {\r\n    this._client.handleMessage = newHandler;\r\n  }\r\n\r\n  get handleMessage () {\r\n    return this._client.handleMessage;\r\n  }\r\n\r\n  get connected () {\r\n    return this._client.connected;\r\n  }\r\n\r\n  get reconnecting () {\r\n    return this._client.reconnecting;\r\n  }\r\n\r\n  publish (...args) {\r\n    return new Promise((resolve, reject) => {\r\n      this._client.publish(...args, (err, result) => {\r\n        if (err) reject(err)\r\n        else resolve(result)\r\n      })\r\n    })\r\n  }\r\n\r\n  subscribe (...args) {\r\n    return new Promise((resolve, reject) => {\r\n      this._client.subscribe(...args, (err, result) => {\r\n        if (err) reject(err)\r\n        else resolve(result)\r\n      })\r\n    })\r\n  }\r\n\r\n  unsubscribe (...args) {\r\n    return new Promise((resolve, reject) => {\r\n      this._client.unsubscribe(...args, (err, result) => {\r\n        if (err) reject(err)\r\n        else resolve(result)\r\n      })\r\n    })\r\n  }\r\n\r\n  end (...args) {\r\n    return new Promise((resolve, reject) => {\r\n      this._client.end(...args, (err, result) => {\r\n        if (err) reject(err)\r\n        else resolve(result)\r\n      })\r\n    })\r\n  }\r\n\r\n  reconnect (...args) {\r\n    return this._client.reconnect(...args);\r\n  }\r\n\r\n  addListener (...args) {\r\n    return this._client.addListener(...args);\r\n  }\r\n\r\n  emit (...args) {\r\n    return this._client.emit(...args);\r\n  }\r\n\r\n  eventNames (...args) {\r\n    return this._client.eventNames(...args);\r\n  }\r\n\r\n  getLastMessageId (...args) {\r\n    return this._client.getLastMessageId(...args);\r\n  }\r\n\r\n  getMaxListeners (...args) {\r\n    return this._client.getMaxListeners(...args);\r\n  }\r\n\r\n  listenerCount (...args) {\r\n    return this._client.listenerCount(...args);\r\n  }\r\n\r\n  listeners (...args) {\r\n    return this._client.listeners(...args);\r\n  }\r\n\r\n  off (...args) {\r\n    return this._client.off(...args);\r\n  }\r\n\r\n  on (...args) {\r\n    return this._client.on(...args);\r\n  }\r\n\r\n  once (...args) {\r\n    return this._client.once(...args);\r\n  }\r\n\r\n  prependListener (...args) {\r\n    return this._client.prependListener(...args);\r\n  }\r\n\r\n  prependOnceListener (...args) {\r\n    return this._client.prependOnceListener(...args);\r\n  }\r\n\r\n  rawListeners (...args) {\r\n    return this._client.rawListeners(...args);\r\n  }\r\n\r\n  removeAllListeners (...args) {\r\n    return this._client.removeAllListeners(...args);\r\n  }\r\n\r\n  removeListener (...args) {\r\n    return this._client.removeListener(...args);\r\n  }\r\n\r\n  removeOutgoingMessage (...args) {\r\n    return this._client.removeOutgoingMessage(...args);\r\n  }\r\n\r\n  setMaxListeners (...args) {\r\n    return this._client.setMaxListeners(...args);\r\n  }\r\n\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L21xdHQvbXF0dC1hc3luYy1jbGllbnQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUNuRDtBQUNPO0FBQ1AsaUJBQWlCLDBFQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGlCQUFpQiwwRUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyxPQUFPO0FBQ1A7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvbXF0dC9tcXR0LWFzeW5jLWNsaWVudC5qcz84NDQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtcXR0IGZyb20gXCIuLi8uLi9saWJyYXJpZXMvbXF0dC9tcXR0Lm1pbi5qc1wiXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdCAoYnJva2VyVVJMLCBvcHRzKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gbXF0dC5jb25uZWN0KGJyb2tlclVSTCwgb3B0cyk7XHJcbiAgY29uc3QgYXN5bmNDbGllbnQgPSBuZXcgQXN5bmNDbGllbnQoY2xpZW50KTtcclxuXHJcbiAgcmV0dXJuIGFzeW5jQ2xpZW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdEFzeW5jIChicm9rZXJVUkwsIG9wdHMsIGFsbG93UmV0cmllcz10cnVlKSB7XHJcbiAgY29uc3QgY2xpZW50ID0gbXF0dC5jb25uZWN0KGJyb2tlclVSTCwgb3B0cyk7XHJcbiAgY29uc3QgYXN5bmNDbGllbnQgPSBuZXcgQXN5bmNDbGllbnQoY2xpZW50KTtcclxuXHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIC8vIExpc3RlbmVycyBhZGRlZCB0byBjbGllbnQgdG8gdHJpZ2dlciBwcm9taXNlIHJlc29sdXRpb25cclxuICAgIGNvbnN0IHByb21pc2VSZXNvbHV0aW9uTGlzdGVuZXJzID0ge1xyXG4gICAgICBjb25uZWN0OiAoY29ubmFjaykgPT4ge1xyXG4gICAgICAgIHJlbW92ZVByb21pc2VSZXNvbHV0aW9uTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgcmVzb2x2ZShhc3luY0NsaWVudCk7ICAgLy8gUmVzb2x2ZSBvbiBjb25uZWN0XHJcbiAgICAgIH0sXHJcbiAgICAgIGVuZDogKCkgPT4ge1xyXG4gICAgICAgIHJlbW92ZVByb21pc2VSZXNvbHV0aW9uTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgcmVzb2x2ZShhc3luY0NsaWVudCk7ICAgLy8gUmVzb2x2ZSBvbiBlbmRcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IChlcnIpID0+IHtcclxuICAgICAgICByZW1vdmVQcm9taXNlUmVzb2x1dGlvbkxpc3RlbmVycygpO1xyXG4gICAgICAgIGNsaWVudC5lbmQoKTtcclxuICAgICAgICByZWplY3QoZXJyKTsgICAgICAgICAgICAvLyBSZWplY3Qgb24gZXJyb3JcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJZiByZXRyaWVzIGFyZSBub3QgYWxsb3dlZCwgcmVqZWN0IG9uIGNsb3NlXHJcbiAgICBpZiAoZmFsc2UgPT09IGFsbG93UmV0cmllcykge1xyXG4gICAgICBwcm9taXNlUmVzb2x1dGlvbkxpc3RlbmVycy5jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBwcm9taXNlUmVzb2x1dGlvbkxpc3RlbmVycy5lcnJvcignQ291bGRuXFwndCBjb25uZWN0IHRvIHNlcnZlcicpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGxpc3RlbmVycyBhZGRlZCB0byBjbGllbnQgYnkgdGhpcyBwcm9taXNlXHJcbiAgICBmdW5jdGlvbiByZW1vdmVQcm9taXNlUmVzb2x1dGlvbkxpc3RlbmVycyAoKSB7XHJcbiAgICAgIE9iamVjdC5rZXlzKHByb21pc2VSZXNvbHV0aW9uTGlzdGVuZXJzKS5mb3JFYWNoKChldmVudE5hbWUpID0+IHtcclxuICAgICAgICBjbGllbnQucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBwcm9taXNlUmVzb2x1dGlvbkxpc3RlbmVyc1tldmVudE5hbWVdKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgdG8gY2xpZW50XHJcbiAgICBPYmplY3Qua2V5cyhwcm9taXNlUmVzb2x1dGlvbkxpc3RlbmVycykuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XHJcbiAgICAgIGNsaWVudC5vbihldmVudE5hbWUsIHByb21pc2VSZXNvbHV0aW9uTGlzdGVuZXJzW2V2ZW50TmFtZV0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmNsYXNzIEFzeW5jQ2xpZW50IHtcclxuICBjb25zdHJ1Y3RvciAoY2xpZW50KSB7XHJcbiAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7XHJcbiAgfVxyXG5cclxuICBzZXQgaGFuZGxlTWVzc2FnZSAobmV3SGFuZGxlcikge1xyXG4gICAgdGhpcy5fY2xpZW50LmhhbmRsZU1lc3NhZ2UgPSBuZXdIYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGhhbmRsZU1lc3NhZ2UgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5oYW5kbGVNZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbm5lY3RlZCAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LmNvbm5lY3RlZDtcclxuICB9XHJcblxyXG4gIGdldCByZWNvbm5lY3RpbmcgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5yZWNvbm5lY3Rpbmc7XHJcbiAgfVxyXG5cclxuICBwdWJsaXNoICguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICB0aGlzLl9jbGllbnQucHVibGlzaCguLi5hcmdzLCAoZXJyLCByZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxyXG4gICAgICAgIGVsc2UgcmVzb2x2ZShyZXN1bHQpXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc3Vic2NyaWJlICguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICB0aGlzLl9jbGllbnQuc3Vic2NyaWJlKC4uLmFyZ3MsIChlcnIsIHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXHJcbiAgICAgICAgZWxzZSByZXNvbHZlKHJlc3VsdClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB1bnN1YnNjcmliZSAoLi4uYXJncykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5fY2xpZW50LnVuc3Vic2NyaWJlKC4uLmFyZ3MsIChlcnIsIHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXHJcbiAgICAgICAgZWxzZSByZXNvbHZlKHJlc3VsdClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBlbmQgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2NsaWVudC5lbmQoLi4uYXJncywgKGVyciwgcmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycilcclxuICAgICAgICBlbHNlIHJlc29sdmUocmVzdWx0KVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlY29ubmVjdCAoLi4uYXJncykge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5yZWNvbm5lY3QoLi4uYXJncyk7XHJcbiAgfVxyXG5cclxuICBhZGRMaXN0ZW5lciAoLi4uYXJncykge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5hZGRMaXN0ZW5lciguLi5hcmdzKTtcclxuICB9XHJcblxyXG4gIGVtaXQgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZW1pdCguLi5hcmdzKTtcclxuICB9XHJcblxyXG4gIGV2ZW50TmFtZXMgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZXZlbnROYW1lcyguLi5hcmdzKTtcclxuICB9XHJcblxyXG4gIGdldExhc3RNZXNzYWdlSWQgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0TGFzdE1lc3NhZ2VJZCguLi5hcmdzKTtcclxuICB9XHJcblxyXG4gIGdldE1heExpc3RlbmVycyAoLi4uYXJncykge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRNYXhMaXN0ZW5lcnMoLi4uYXJncyk7XHJcbiAgfVxyXG5cclxuICBsaXN0ZW5lckNvdW50ICguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50Lmxpc3RlbmVyQ291bnQoLi4uYXJncyk7XHJcbiAgfVxyXG5cclxuICBsaXN0ZW5lcnMgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9jbGllbnQubGlzdGVuZXJzKC4uLmFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgb2ZmICguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50Lm9mZiguLi5hcmdzKTtcclxuICB9XHJcblxyXG4gIG9uICguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50Lm9uKC4uLmFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgb25jZSAoLi4uYXJncykge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5vbmNlKC4uLmFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgcHJlcGVuZExpc3RlbmVyICguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnByZXBlbmRMaXN0ZW5lciguLi5hcmdzKTtcclxuICB9XHJcblxyXG4gIHByZXBlbmRPbmNlTGlzdGVuZXIgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9jbGllbnQucHJlcGVuZE9uY2VMaXN0ZW5lciguLi5hcmdzKTtcclxuICB9XHJcblxyXG4gIHJhd0xpc3RlbmVycyAoLi4uYXJncykge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5yYXdMaXN0ZW5lcnMoLi4uYXJncyk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVBbGxMaXN0ZW5lcnMgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9jbGllbnQucmVtb3ZlQWxsTGlzdGVuZXJzKC4uLmFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlzdGVuZXIgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9jbGllbnQucmVtb3ZlTGlzdGVuZXIoLi4uYXJncyk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVPdXRnb2luZ01lc3NhZ2UgKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9jbGllbnQucmVtb3ZlT3V0Z29pbmdNZXNzYWdlKC4uLmFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgc2V0TWF4TGlzdGVuZXJzICguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50LnNldE1heExpc3RlbmVycyguLi5hcmdzKTtcclxuICB9XHJcblxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../script/mqtt/mqtt-async-client.js\n");

/***/ }),

/***/ "../script/mqtt/mqtt-incoming-message.js":
/*!***********************************************!*\
  !*** ../script/mqtt/mqtt-incoming-message.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EVENT\": () => (/* binding */ EVENT),\n/* harmony export */   \"MqttIncomingMessage\": () => (/* binding */ MqttIncomingMessage),\n/* harmony export */   \"SOURCE\": () => (/* binding */ SOURCE)\n/* harmony export */ });\n\r\nconst SOURCE = Object.freeze({\r\n  NONE: Symbol(\"NONE\"),\r\n\tBROKER: Symbol(\"BROKER\"),\r\n\tINTERNAL: Symbol(\"INTERNAL\")\r\n});\r\n\r\nconst EVENT = Object.freeze({\r\n  NONE: Symbol(\"NONE\"),\r\n\tINCOMING_MESSAGE: Symbol(\"INCOMING_MESSAGE\"),\r\n\tCONNECTION_OK: Symbol(\"CONNECTION_OK\"),\r\n\tCONNECTION_TIMEOUT: Symbol(\"CONNECTION_TIMEOUT\"),\r\n\tCONNECTION_LOST: Symbol(\"CONNECTION_LOST\"),\r\n\tDELIVERY_COMPLETE: Symbol(\"DELIVERY_COMPLETE\"),\r\n\tERROR: Symbol(\"ERROR\")\r\n});\r\n\r\n\r\nclass MqttIncomingMessage {\r\n  #source = SOURCE.NONE;\r\n  #event = EVENT.NONE;\r\n  #body;\r\n\r\n\t\r\n\tconstructor(source, event, message) {\r\n\t\tthis.#source = source;\r\n\t\tthis.#event = event;\r\n\t\tthis.#body = message;\r\n\t}\r\n\t\r\n\tget source() {\r\n\t\treturn this.#source;\r\n\t}\r\n\t\r\n\tget event() {\r\n\t\treturn this.#event;\r\n\t}\r\n\t\r\n\tget body() {\r\n\t\treturn this.#body;\r\n\t}\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L21xdHQvbXF0dC1pbmNvbWluZy1tZXNzYWdlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vc2NyaXB0L21xdHQvbXF0dC1pbmNvbWluZy1tZXNzYWdlLmpzPzJjNzYiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBjb25zdCBTT1VSQ0UgPSBPYmplY3QuZnJlZXplKHtcclxuICBOT05FOiBTeW1ib2woXCJOT05FXCIpLFxyXG5cdEJST0tFUjogU3ltYm9sKFwiQlJPS0VSXCIpLFxyXG5cdElOVEVSTkFMOiBTeW1ib2woXCJJTlRFUk5BTFwiKVxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBFVkVOVCA9IE9iamVjdC5mcmVlemUoe1xyXG4gIE5PTkU6IFN5bWJvbChcIk5PTkVcIiksXHJcblx0SU5DT01JTkdfTUVTU0FHRTogU3ltYm9sKFwiSU5DT01JTkdfTUVTU0FHRVwiKSxcclxuXHRDT05ORUNUSU9OX09LOiBTeW1ib2woXCJDT05ORUNUSU9OX09LXCIpLFxyXG5cdENPTk5FQ1RJT05fVElNRU9VVDogU3ltYm9sKFwiQ09OTkVDVElPTl9USU1FT1VUXCIpLFxyXG5cdENPTk5FQ1RJT05fTE9TVDogU3ltYm9sKFwiQ09OTkVDVElPTl9MT1NUXCIpLFxyXG5cdERFTElWRVJZX0NPTVBMRVRFOiBTeW1ib2woXCJERUxJVkVSWV9DT01QTEVURVwiKSxcclxuXHRFUlJPUjogU3ltYm9sKFwiRVJST1JcIilcclxufSk7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1xdHRJbmNvbWluZ01lc3NhZ2Uge1xyXG4gICNzb3VyY2UgPSBTT1VSQ0UuTk9ORTtcclxuICAjZXZlbnQgPSBFVkVOVC5OT05FO1xyXG4gICNib2R5O1xyXG5cclxuXHRcclxuXHRjb25zdHJ1Y3Rvcihzb3VyY2UsIGV2ZW50LCBtZXNzYWdlKSB7XHJcblx0XHR0aGlzLiNzb3VyY2UgPSBzb3VyY2U7XHJcblx0XHR0aGlzLiNldmVudCA9IGV2ZW50O1xyXG5cdFx0dGhpcy4jYm9keSA9IG1lc3NhZ2U7XHJcblx0fVxyXG5cdFxyXG5cdGdldCBzb3VyY2UoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4jc291cmNlO1xyXG5cdH1cclxuXHRcclxuXHRnZXQgZXZlbnQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4jZXZlbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGdldCBib2R5KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuI2JvZHk7XHJcblx0fVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../script/mqtt/mqtt-incoming-message.js\n");

/***/ }),

/***/ "../script/mqtt/sdm-connection-mqtt.js":
/*!*********************************************!*\
  !*** ../script/mqtt/sdm-connection-mqtt.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmConnectionMqtt\": () => (/* binding */ SdmConnectionMqtt)\n/* harmony export */ });\n/* harmony import */ var _common_script_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/utils */ \"../../../common-script/utils.js\");\n/* harmony import */ var _sdm_connection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sdm-connection.js */ \"../script/sdm-connection.js\");\n/* harmony import */ var _sdm_command_promise_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sdm-command-promise.js */ \"../script/sdm-command-promise.js\");\n/* harmony import */ var _sdm_mqtt_message_dispatcher_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sdm-mqtt-message-dispatcher.js */ \"../script/mqtt/sdm-mqtt-message-dispatcher.js\");\n/* harmony import */ var _sdm_mqtt_message_builder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sdm-mqtt-message-builder.js */ \"../script/mqtt/sdm-mqtt-message-builder.js\");\n/* harmony import */ var _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mqtt-incoming-message.js */ \"../script/mqtt/mqtt-incoming-message.js\");\n/* harmony import */ var _mqtt_async_client_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mqtt-async-client.js */ \"../script/mqtt/mqtt-async-client.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass SdmConnectionMqtt extends _sdm_connection_js__WEBPACK_IMPORTED_MODULE_1__.SdmConnection {\r\n  #connectionCfg;\r\n  #connectionOptions;\r\n  #mqttClient;\r\n  #messageDispatcher;  \r\n  #mapCommandPromise = new Map();\r\n  \r\n  constructor(pluginInfo, cfg) {\r\n    super(pluginInfo);\r\n    this.#messageDispatcher = new _sdm_mqtt_message_dispatcher_js__WEBPACK_IMPORTED_MODULE_3__.SdmMqttMessageDispatcher(this);\r\n    this.#checkMandatoryConfigurationFields(cfg);\r\n    this.#connectionCfg = cfg;\r\n    this.#connectionOptions = this.#createConnectionOptions();\r\n  }\r\n  \r\n  #checkMandatoryConfigurationFields(cfg) {\r\n    if (!cfg)\r\n      throw new Error(\"Missing connection configuration\");\r\n\r\n    if (cfg.brokerUrl == null)\r\n      throw new Error(\"Missing broker URL\");\r\n\r\n    if (cfg.clientId == null)\r\n      throw new Error(\"Missing clientId\");\r\n\r\n    if (cfg.connectionTimeout >= cfg.connectionRetryPeriod)\r\n      throw new Error(`Inconsistent configuration -> connectionTimeout: ${cfg.connectionTimeout} > reconn_try_period: ${cfg.connectionRetryPeriod}`);\r\n  }\r\n  \r\n  #createConnectionOptions() {\r\n\t  let result = {\r\n  \t  connectTimeout: this.#connectionCfg.connectionTimeout,\r\n\t\t  clientId: this.#connectionCfg.clientId,\r\n\t\t  // Authentication\r\n\t\t  protocolId: 'MQTT',\r\n\t\t  protocolVersion: 5,\r\n\t\t  protocol:'ws'\r\n\t  }\r\n\r\n    return result;\r\n  }\r\n  \r\n  #subscribeToTopic(topic) {\r\n    this.logTrace(`Client subscring  on topic : ${topic}`);\r\n    this._subscribedTopicSet.add(topic);\r\n    this.#subscribeTopicOnClient(topic);\r\n  }\r\n\r\n  #subscribeTopicOnClient(topic) {\r\n    try {\r\n      this.#mqttClient.subscribe(topic);\r\n\r\n    \tthis.logTrace(`Client ${this.toString()} subscribed  on topic ${topic}`);\r\n    } catch (err) {\r\n    \tthis.logError(`Client ${this.toString()} not connected.. Topic ${topic} will be subscribed when connected. Error: ${err}`);\r\n    }\r\n  }\r\n  \r\n\tasync connect() {\r\n\t\tthis.#mqttClient = await _mqtt_async_client_js__WEBPACK_IMPORTED_MODULE_6__.connectAsync(this.#connectionCfg.brokerUrl, this.#connectionOptions);\r\n\t\tthis.#mqttClient.on('connect', () => this.#onConnect());\r\n\t\tthis.#mqttClient.on('close', () => this.#onClose());\r\n\t\tthis.#mqttClient.on('error', (error) => this.#onError(error));\r\n\t\tthis.#mqttClient.on('message', (topic, message, packet) => this.#onMessage(topic, message, packet));\r\n\t\t\r\n    this.#subscribeToTopic(this.getListenToManagerTopic() + \"/#\");\r\n    this.#subscribeToTopic(this.getListenToDeviceTopic() + \"/#\");\r\n    \r\n    if (this.#connectionCfg.managerConnection)\r\n    \tthis.#subscribeToTopic(this.getListenToManagerLogsTopic()); \r\n\t}\r\n\t\r\n\tisConnected() {\r\n\t\treturn this.#mqttClient && this.#mqttClient.connected;\r\n\t}\r\n\r\n  disconnect() {\r\n    _subscribedTopicSet.clear();\r\n\r\n    this.#mqttClient.end();\r\n  }\r\n\r\n\t_sendDeviceConfigurationToSDM() {\r\n    let sdmDevicesConfig = {DeviceList:[]};\r\n     if (this._pluginInfo.DriverType != 13) {\r\n\t\t\tsdmDevicesConfig.PackageFolder = \"C:\\\\Users\\\\Public\\\\Vgs\\\\Ticket\\\\libraries\\\\sdm\";\r\n    \tsdmDevicesConfig.DeviceList.push(SdmConnectionMqtt.#mapDOPluginToDODeviceSdm(this._pluginInfo));\r\n\t\t}\r\n\r\n    sdmDevicesConfig.LogConfig = this.#connectionCfg.logConfig; \r\n    let cfgSendTopic     = \"SDM/manager/config\";\r\n    let cfgResponseTopic = this.getListenToManagerTopic() + \"/config\";\r\n\r\n    let msg = new _sdm_mqtt_message_builder_js__WEBPACK_IMPORTED_MODULE_4__.SdmMqttMessageBuilder(cfgSendTopic, sdmDevicesConfig)\r\n    \t\t.withResponseOnTopic(cfgResponseTopic)\r\n    \t\t.build();\r\n    this.#sendMessageToBroker(msg);\r\n\t}\r\n\t\r\n\tstatic #mapDOPluginToDODeviceSdm(pluginInfo) {\r\n    let pluginSdm = {};\r\n\r\n    pluginSdm.DeviceAlias = pluginInfo.DeviceAlias;\r\n    pluginSdm.DriverClassAlias = pluginInfo.DriverClassAlias;\r\n    pluginSdm.DriverId = pluginInfo.DriverId;\r\n    pluginSdm.DriverName = pluginInfo.DriverName;\r\n    pluginSdm.DeviceEnabled = pluginInfo.PluginEnabled;\r\n    pluginSdm.DeviceId = pluginInfo.PluginId;\r\n    pluginSdm.DeviceName = pluginInfo.PluginName;\r\n    pluginSdm.DriverType = pluginInfo.DriverType;\r\n\r\n    pluginSdm.DeviceSettings = SdmConnectionMqtt.#mergePluginAndDriverSettings(pluginInfo);\r\n    \r\n    if (pluginInfo.DriverLibraryName)\r\n    \tpluginSdm.PackageFileName = SdmConnectionMqtt.calcPluginFileName(pluginInfo.DriverLibraryName, pluginInfo.DriverClassAlias);\r\n    \r\n//    pluginSdm.MinimumSdmVersion.setString(SdmVersionUtils.findSdmVersion(plugin.FrameworkFileList));\r\n\r\n    return pluginSdm;\r\n  }\r\n  \r\n  static calcPluginFileName(driverLibraryName, driverClassAlias) {\r\n\t\tif (!driverLibraryName || !driverClassAlias)\r\n\t\t\treturn null;\r\n\t\telse \r\n\t\t\treturn driverLibraryName.replace('.jar', '') + ' ' + driverClassAlias + '.zip';\r\n\t}\r\n\r\n  static #mergePluginAndDriverSettings(pluginInfo) {\r\n    let pluginSettings = pluginInfo.PluginSettings;\r\n    let driverSettings = pluginInfo.DriverSettings;\r\n    let mergedSettings = \"\";\r\n\r\n    if (pluginSettings && pluginSettings.length > 0)\r\n      mergedSettings += pluginSettings;\r\n\r\n    if (driverSettings && driverSettings.length > 0) {\r\n      if (mergedSettings.length == 0)\r\n        mergedSettings += driverSettings;\r\n      else {\r\n        let index = mergedSettings.lastIndexOf(\"}\");\r\n        mergedSettings.delete(index, index);\r\n        mergedSettings += driverSettings.trim().substring(1);\r\n      }\r\n    }\r\n\r\n    return mergedSettings;\r\n  }\r\n  \r\n\t#onClose(event) {\r\n\t\tthis.logTrace(`\\n[Mqtt client] Connection closed.`);\r\n    this.#messageDispatcher.dispatchMessage(new _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.MqttIncomingMessage(_mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.SOURCE.INTERNAL, _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.EVENT.CONNECTION_LOST));\r\n\t}\r\n\r\n  #onConnect() {\r\n\t\tthis.logTrace(`\\n[Mqtt client] Connected`);\r\n    for (const topic of this._subscribedTopicSet)\r\n      this.#subscribeTopicOnClient(topic);\r\n    \r\n    this.#messageDispatcher.dispatchMessage(new _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.MqttIncomingMessage(_mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.SOURCE.INTERNAL, _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.EVENT.CONNECTION_OK));\r\n\t}\r\n\r\n  #onError(error) {\r\n\t  if (error)\r\n    \tSNP_LOGGER.error(null, null, `\\n(Mqtt client) [error] ${error}`);\r\n    this.#messageDispatcher.dispatchMessage(new _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.MqttIncomingMessage(_mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.SOURCE.INTERNAL, _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.EVENT.ERROR));\r\n  }\r\n\r\n  #onMessage(topic, message, packet) {\r\n    this.logTrace(`\\n[message ${topic}] Receiving data from server:`);\r\n    let json = JSON.parse(message);\r\n    this.logTrace(_common_script_utils__WEBPACK_IMPORTED_MODULE_0__.Utils.beautifyJSONString(json));\r\n    let mqttMessage = _sdm_mqtt_message_builder_js__WEBPACK_IMPORTED_MODULE_4__.SdmMqttMessageBuilder.fromMqttMessage(topic, message, packet);\r\n\r\n\t\tif (mqttMessage.jobId != null) {\r\n\t\t\tlet promise = this.#mapCommandPromise.get(mqttMessage.jobId);\r\n\t\t\tif (promise) {\r\n\t\t\t\tthis.#mapCommandPromise.delete(mqttMessage.jobId);\r\n\t\t\t\tpromise.answerReceived(mqttMessage.payload);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n    \tthis.#messageDispatcher.dispatchMessage(new _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.MqttIncomingMessage(_mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.SOURCE.BROKER, _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_5__.EVENT.INCOMING_MESSAGE, mqttMessage));\r\n  }\r\n\r\n  sendCommand(command, request, timeout) {\r\n    if (!this.isConnected())\r\n      throw new Error('Device not connected');\r\n      \r\n    let sendTopic     = this.getSendToDeviceTopic() + \"/\" + command;\r\n    let responseTopic = this.getListenToDeviceTopic() + \"/\" + command;\r\n\r\n    let msg = new _sdm_mqtt_message_builder_js__WEBPACK_IMPORTED_MODULE_4__.SdmMqttMessageBuilder(sendTopic, request)\r\n    \t\t.withResponseOnTopic(responseTopic)\r\n    \t\t.withTimeout(timeout)\r\n    \t\t.build();\r\n    \t\t\r\n    let cmdPromise = this.#sendMessageToBroker(msg);\r\n    \r\n    return (cmdPromise == null) ? Promise.resolve() : this.#waitForCommandResponse(cmdPromise, timeout);\r\n\t}\r\n\t\r\n\tasync #waitForCommandResponse(promise, timeout) {\r\n    let response = null;\r\n    try {\r\n      await promise.waitForResponse(timeout);\r\n      response = promise.responseMessage.Payload;\r\n    } catch (e) {\r\n      this.#mapCommandPromise.delete(promise.jobId);\r\n    }\r\n    return response;\r\n  }\r\n\t\r\n\t#sendMessageToBroker(msg) {\r\n\t\tlet promise = null;\r\n\t\t\r\n\t\tif (msg.responseTopic) {\r\n\t\t\tpromise = new _sdm_command_promise_js__WEBPACK_IMPORTED_MODULE_2__.SdmCommandPromise();\r\n      msg.jobId = promise.jobId;\r\n      this.#mapCommandPromise.set(promise.jobId, promise);\r\n\t\t}\r\n\t\t\t\r\n    this.#mqttClient.publish(msg.sendingTopic, JSON.stringify(msg.payload), msg.options);\r\n    \r\n    return promise;\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L21xdHQvc2RtLWNvbm5lY3Rpb24tbXF0dC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE2QztBQUNRO0FBQ1M7QUFDYztBQUNOO0FBQ1U7QUFDaEY7QUFDMEQ7QUFDMUQ7QUFDTyxnQ0FBZ0MsNkRBQWE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxRkFBd0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsdUJBQXVCLHVCQUF1QiwwQkFBMEI7QUFDbEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsTUFBTTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlCQUFpQix1QkFBdUIsTUFBTTtBQUMzRSxNQUFNO0FBQ04sNkJBQTZCLGlCQUFpQix3QkFBd0IsT0FBTyw0Q0FBNEMsSUFBSTtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBNEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsK0VBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELDBFQUFtQixDQUFDLHNFQUFlLEVBQUUsNEVBQXFCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELDBFQUFtQixDQUFDLHNFQUFlLEVBQUUsMEVBQW1CO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELE1BQU07QUFDbkUsZ0RBQWdELDBFQUFtQixDQUFDLHNFQUFlLEVBQUUsa0VBQVc7QUFDaEc7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7QUFDQSxrQkFBa0IsMEVBQXdCO0FBQzFDLHNCQUFzQiwrRkFBcUM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELDBFQUFtQixDQUFDLG9FQUFhLEVBQUUsNkVBQXNCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrRUFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0VBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvbXF0dC9zZG0tY29ubmVjdGlvbi1tcXR0LmpzP2M2ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXRpbHMgfSBmcm9tICdAY29tbW9uLXNjcmlwdC91dGlscyc7XHJcbmltcG9ydCB7IFNkbUNvbm5lY3Rpb24gfSBmcm9tICcuLi9zZG0tY29ubmVjdGlvbi5qcyc7XHJcbmltcG9ydCB7IFNkbUNvbW1hbmRQcm9taXNlIH0gZnJvbSAnLi4vc2RtLWNvbW1hbmQtcHJvbWlzZS5qcyc7XHJcbmltcG9ydCB7IFNkbU1xdHRNZXNzYWdlRGlzcGF0Y2hlciB9IGZyb20gJy4vc2RtLW1xdHQtbWVzc2FnZS1kaXNwYXRjaGVyLmpzJztcclxuaW1wb3J0IHsgU2RtTXF0dE1lc3NhZ2VCdWlsZGVyIH0gZnJvbSAnLi9zZG0tbXF0dC1tZXNzYWdlLWJ1aWxkZXIuanMnO1xyXG5pbXBvcnQgeyBNcXR0SW5jb21pbmdNZXNzYWdlLCBTT1VSQ0UsIEVWRU5UIH0gZnJvbSAnLi9tcXR0LWluY29taW5nLW1lc3NhZ2UuanMnO1xyXG5cclxuaW1wb3J0ICogYXMgTXF0dEFzeW5jQ2xpZW50IGZyb20gJy4vbXF0dC1hc3luYy1jbGllbnQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNkbUNvbm5lY3Rpb25NcXR0IGV4dGVuZHMgU2RtQ29ubmVjdGlvbiB7XHJcbiAgI2Nvbm5lY3Rpb25DZmc7XHJcbiAgI2Nvbm5lY3Rpb25PcHRpb25zO1xyXG4gICNtcXR0Q2xpZW50O1xyXG4gICNtZXNzYWdlRGlzcGF0Y2hlcjsgIFxyXG4gICNtYXBDb21tYW5kUHJvbWlzZSA9IG5ldyBNYXAoKTtcclxuICBcclxuICBjb25zdHJ1Y3RvcihwbHVnaW5JbmZvLCBjZmcpIHtcclxuICAgIHN1cGVyKHBsdWdpbkluZm8pO1xyXG4gICAgdGhpcy4jbWVzc2FnZURpc3BhdGNoZXIgPSBuZXcgU2RtTXF0dE1lc3NhZ2VEaXNwYXRjaGVyKHRoaXMpO1xyXG4gICAgdGhpcy4jY2hlY2tNYW5kYXRvcnlDb25maWd1cmF0aW9uRmllbGRzKGNmZyk7XHJcbiAgICB0aGlzLiNjb25uZWN0aW9uQ2ZnID0gY2ZnO1xyXG4gICAgdGhpcy4jY29ubmVjdGlvbk9wdGlvbnMgPSB0aGlzLiNjcmVhdGVDb25uZWN0aW9uT3B0aW9ucygpO1xyXG4gIH1cclxuICBcclxuICAjY2hlY2tNYW5kYXRvcnlDb25maWd1cmF0aW9uRmllbGRzKGNmZykge1xyXG4gICAgaWYgKCFjZmcpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uXCIpO1xyXG5cclxuICAgIGlmIChjZmcuYnJva2VyVXJsID09IG51bGwpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYnJva2VyIFVSTFwiKTtcclxuXHJcbiAgICBpZiAoY2ZnLmNsaWVudElkID09IG51bGwpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgY2xpZW50SWRcIik7XHJcblxyXG4gICAgaWYgKGNmZy5jb25uZWN0aW9uVGltZW91dCA+PSBjZmcuY29ubmVjdGlvblJldHJ5UGVyaW9kKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEluY29uc2lzdGVudCBjb25maWd1cmF0aW9uIC0+IGNvbm5lY3Rpb25UaW1lb3V0OiAke2NmZy5jb25uZWN0aW9uVGltZW91dH0gPiByZWNvbm5fdHJ5X3BlcmlvZDogJHtjZmcuY29ubmVjdGlvblJldHJ5UGVyaW9kfWApO1xyXG4gIH1cclxuICBcclxuICAjY3JlYXRlQ29ubmVjdGlvbk9wdGlvbnMoKSB7XHJcblx0ICBsZXQgcmVzdWx0ID0ge1xyXG4gIFx0ICBjb25uZWN0VGltZW91dDogdGhpcy4jY29ubmVjdGlvbkNmZy5jb25uZWN0aW9uVGltZW91dCxcclxuXHRcdCAgY2xpZW50SWQ6IHRoaXMuI2Nvbm5lY3Rpb25DZmcuY2xpZW50SWQsXHJcblx0XHQgIC8vIEF1dGhlbnRpY2F0aW9uXHJcblx0XHQgIHByb3RvY29sSWQ6ICdNUVRUJyxcclxuXHRcdCAgcHJvdG9jb2xWZXJzaW9uOiA1LFxyXG5cdFx0ICBwcm90b2NvbDond3MnXHJcblx0ICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgXHJcbiAgI3N1YnNjcmliZVRvVG9waWModG9waWMpIHtcclxuICAgIHRoaXMubG9nVHJhY2UoYENsaWVudCBzdWJzY3JpbmcgIG9uIHRvcGljIDogJHt0b3BpY31gKTtcclxuICAgIHRoaXMuX3N1YnNjcmliZWRUb3BpY1NldC5hZGQodG9waWMpO1xyXG4gICAgdGhpcy4jc3Vic2NyaWJlVG9waWNPbkNsaWVudCh0b3BpYyk7XHJcbiAgfVxyXG5cclxuICAjc3Vic2NyaWJlVG9waWNPbkNsaWVudCh0b3BpYykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy4jbXF0dENsaWVudC5zdWJzY3JpYmUodG9waWMpO1xyXG5cclxuICAgIFx0dGhpcy5sb2dUcmFjZShgQ2xpZW50ICR7dGhpcy50b1N0cmluZygpfSBzdWJzY3JpYmVkICBvbiB0b3BpYyAke3RvcGljfWApO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBcdHRoaXMubG9nRXJyb3IoYENsaWVudCAke3RoaXMudG9TdHJpbmcoKX0gbm90IGNvbm5lY3RlZC4uIFRvcGljICR7dG9waWN9IHdpbGwgYmUgc3Vic2NyaWJlZCB3aGVuIGNvbm5lY3RlZC4gRXJyb3I6ICR7ZXJyfWApO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuXHRhc3luYyBjb25uZWN0KCkge1xyXG5cdFx0dGhpcy4jbXF0dENsaWVudCA9IGF3YWl0IE1xdHRBc3luY0NsaWVudC5jb25uZWN0QXN5bmModGhpcy4jY29ubmVjdGlvbkNmZy5icm9rZXJVcmwsIHRoaXMuI2Nvbm5lY3Rpb25PcHRpb25zKTtcclxuXHRcdHRoaXMuI21xdHRDbGllbnQub24oJ2Nvbm5lY3QnLCAoKSA9PiB0aGlzLiNvbkNvbm5lY3QoKSk7XHJcblx0XHR0aGlzLiNtcXR0Q2xpZW50Lm9uKCdjbG9zZScsICgpID0+IHRoaXMuI29uQ2xvc2UoKSk7XHJcblx0XHR0aGlzLiNtcXR0Q2xpZW50Lm9uKCdlcnJvcicsIChlcnJvcikgPT4gdGhpcy4jb25FcnJvcihlcnJvcikpO1xyXG5cdFx0dGhpcy4jbXF0dENsaWVudC5vbignbWVzc2FnZScsICh0b3BpYywgbWVzc2FnZSwgcGFja2V0KSA9PiB0aGlzLiNvbk1lc3NhZ2UodG9waWMsIG1lc3NhZ2UsIHBhY2tldCkpO1xyXG5cdFx0XHJcbiAgICB0aGlzLiNzdWJzY3JpYmVUb1RvcGljKHRoaXMuZ2V0TGlzdGVuVG9NYW5hZ2VyVG9waWMoKSArIFwiLyNcIik7XHJcbiAgICB0aGlzLiNzdWJzY3JpYmVUb1RvcGljKHRoaXMuZ2V0TGlzdGVuVG9EZXZpY2VUb3BpYygpICsgXCIvI1wiKTtcclxuICAgIFxyXG4gICAgaWYgKHRoaXMuI2Nvbm5lY3Rpb25DZmcubWFuYWdlckNvbm5lY3Rpb24pXHJcbiAgICBcdHRoaXMuI3N1YnNjcmliZVRvVG9waWModGhpcy5nZXRMaXN0ZW5Ub01hbmFnZXJMb2dzVG9waWMoKSk7IFxyXG5cdH1cclxuXHRcclxuXHRpc0Nvbm5lY3RlZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLiNtcXR0Q2xpZW50ICYmIHRoaXMuI21xdHRDbGllbnQuY29ubmVjdGVkO1xyXG5cdH1cclxuXHJcbiAgZGlzY29ubmVjdCgpIHtcclxuICAgIF9zdWJzY3JpYmVkVG9waWNTZXQuY2xlYXIoKTtcclxuXHJcbiAgICB0aGlzLiNtcXR0Q2xpZW50LmVuZCgpO1xyXG4gIH1cclxuXHJcblx0X3NlbmREZXZpY2VDb25maWd1cmF0aW9uVG9TRE0oKSB7XHJcbiAgICBsZXQgc2RtRGV2aWNlc0NvbmZpZyA9IHtEZXZpY2VMaXN0OltdfTtcclxuICAgICBpZiAodGhpcy5fcGx1Z2luSW5mby5Ecml2ZXJUeXBlICE9IDEzKSB7XHJcblx0XHRcdHNkbURldmljZXNDb25maWcuUGFja2FnZUZvbGRlciA9IFwiQzpcXFxcVXNlcnNcXFxcUHVibGljXFxcXFZnc1xcXFxUaWNrZXRcXFxcbGlicmFyaWVzXFxcXHNkbVwiO1xyXG4gICAgXHRzZG1EZXZpY2VzQ29uZmlnLkRldmljZUxpc3QucHVzaChTZG1Db25uZWN0aW9uTXF0dC4jbWFwRE9QbHVnaW5Ub0RPRGV2aWNlU2RtKHRoaXMuX3BsdWdpbkluZm8pKTtcclxuXHRcdH1cclxuXHJcbiAgICBzZG1EZXZpY2VzQ29uZmlnLkxvZ0NvbmZpZyA9IHRoaXMuI2Nvbm5lY3Rpb25DZmcubG9nQ29uZmlnOyBcclxuICAgIGxldCBjZmdTZW5kVG9waWMgICAgID0gXCJTRE0vbWFuYWdlci9jb25maWdcIjtcclxuICAgIGxldCBjZmdSZXNwb25zZVRvcGljID0gdGhpcy5nZXRMaXN0ZW5Ub01hbmFnZXJUb3BpYygpICsgXCIvY29uZmlnXCI7XHJcblxyXG4gICAgbGV0IG1zZyA9IG5ldyBTZG1NcXR0TWVzc2FnZUJ1aWxkZXIoY2ZnU2VuZFRvcGljLCBzZG1EZXZpY2VzQ29uZmlnKVxyXG4gICAgXHRcdC53aXRoUmVzcG9uc2VPblRvcGljKGNmZ1Jlc3BvbnNlVG9waWMpXHJcbiAgICBcdFx0LmJ1aWxkKCk7XHJcbiAgICB0aGlzLiNzZW5kTWVzc2FnZVRvQnJva2VyKG1zZyk7XHJcblx0fVxyXG5cdFxyXG5cdHN0YXRpYyAjbWFwRE9QbHVnaW5Ub0RPRGV2aWNlU2RtKHBsdWdpbkluZm8pIHtcclxuICAgIGxldCBwbHVnaW5TZG0gPSB7fTtcclxuXHJcbiAgICBwbHVnaW5TZG0uRGV2aWNlQWxpYXMgPSBwbHVnaW5JbmZvLkRldmljZUFsaWFzO1xyXG4gICAgcGx1Z2luU2RtLkRyaXZlckNsYXNzQWxpYXMgPSBwbHVnaW5JbmZvLkRyaXZlckNsYXNzQWxpYXM7XHJcbiAgICBwbHVnaW5TZG0uRHJpdmVySWQgPSBwbHVnaW5JbmZvLkRyaXZlcklkO1xyXG4gICAgcGx1Z2luU2RtLkRyaXZlck5hbWUgPSBwbHVnaW5JbmZvLkRyaXZlck5hbWU7XHJcbiAgICBwbHVnaW5TZG0uRGV2aWNlRW5hYmxlZCA9IHBsdWdpbkluZm8uUGx1Z2luRW5hYmxlZDtcclxuICAgIHBsdWdpblNkbS5EZXZpY2VJZCA9IHBsdWdpbkluZm8uUGx1Z2luSWQ7XHJcbiAgICBwbHVnaW5TZG0uRGV2aWNlTmFtZSA9IHBsdWdpbkluZm8uUGx1Z2luTmFtZTtcclxuICAgIHBsdWdpblNkbS5Ecml2ZXJUeXBlID0gcGx1Z2luSW5mby5Ecml2ZXJUeXBlO1xyXG5cclxuICAgIHBsdWdpblNkbS5EZXZpY2VTZXR0aW5ncyA9IFNkbUNvbm5lY3Rpb25NcXR0LiNtZXJnZVBsdWdpbkFuZERyaXZlclNldHRpbmdzKHBsdWdpbkluZm8pO1xyXG4gICAgXHJcbiAgICBpZiAocGx1Z2luSW5mby5Ecml2ZXJMaWJyYXJ5TmFtZSlcclxuICAgIFx0cGx1Z2luU2RtLlBhY2thZ2VGaWxlTmFtZSA9IFNkbUNvbm5lY3Rpb25NcXR0LmNhbGNQbHVnaW5GaWxlTmFtZShwbHVnaW5JbmZvLkRyaXZlckxpYnJhcnlOYW1lLCBwbHVnaW5JbmZvLkRyaXZlckNsYXNzQWxpYXMpO1xyXG4gICAgXHJcbi8vICAgIHBsdWdpblNkbS5NaW5pbXVtU2RtVmVyc2lvbi5zZXRTdHJpbmcoU2RtVmVyc2lvblV0aWxzLmZpbmRTZG1WZXJzaW9uKHBsdWdpbi5GcmFtZXdvcmtGaWxlTGlzdCkpO1xyXG5cclxuICAgIHJldHVybiBwbHVnaW5TZG07XHJcbiAgfVxyXG4gIFxyXG4gIHN0YXRpYyBjYWxjUGx1Z2luRmlsZU5hbWUoZHJpdmVyTGlicmFyeU5hbWUsIGRyaXZlckNsYXNzQWxpYXMpIHtcclxuXHRcdGlmICghZHJpdmVyTGlicmFyeU5hbWUgfHwgIWRyaXZlckNsYXNzQWxpYXMpXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0ZWxzZSBcclxuXHRcdFx0cmV0dXJuIGRyaXZlckxpYnJhcnlOYW1lLnJlcGxhY2UoJy5qYXInLCAnJykgKyAnICcgKyBkcml2ZXJDbGFzc0FsaWFzICsgJy56aXAnO1xyXG5cdH1cclxuXHJcbiAgc3RhdGljICNtZXJnZVBsdWdpbkFuZERyaXZlclNldHRpbmdzKHBsdWdpbkluZm8pIHtcclxuICAgIGxldCBwbHVnaW5TZXR0aW5ncyA9IHBsdWdpbkluZm8uUGx1Z2luU2V0dGluZ3M7XHJcbiAgICBsZXQgZHJpdmVyU2V0dGluZ3MgPSBwbHVnaW5JbmZvLkRyaXZlclNldHRpbmdzO1xyXG4gICAgbGV0IG1lcmdlZFNldHRpbmdzID0gXCJcIjtcclxuXHJcbiAgICBpZiAocGx1Z2luU2V0dGluZ3MgJiYgcGx1Z2luU2V0dGluZ3MubGVuZ3RoID4gMClcclxuICAgICAgbWVyZ2VkU2V0dGluZ3MgKz0gcGx1Z2luU2V0dGluZ3M7XHJcblxyXG4gICAgaWYgKGRyaXZlclNldHRpbmdzICYmIGRyaXZlclNldHRpbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgaWYgKG1lcmdlZFNldHRpbmdzLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgIG1lcmdlZFNldHRpbmdzICs9IGRyaXZlclNldHRpbmdzO1xyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsZXQgaW5kZXggPSBtZXJnZWRTZXR0aW5ncy5sYXN0SW5kZXhPZihcIn1cIik7XHJcbiAgICAgICAgbWVyZ2VkU2V0dGluZ3MuZGVsZXRlKGluZGV4LCBpbmRleCk7XHJcbiAgICAgICAgbWVyZ2VkU2V0dGluZ3MgKz0gZHJpdmVyU2V0dGluZ3MudHJpbSgpLnN1YnN0cmluZygxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtZXJnZWRTZXR0aW5ncztcclxuICB9XHJcbiAgXHJcblx0I29uQ2xvc2UoZXZlbnQpIHtcclxuXHRcdHRoaXMubG9nVHJhY2UoYFxcbltNcXR0IGNsaWVudF0gQ29ubmVjdGlvbiBjbG9zZWQuYCk7XHJcbiAgICB0aGlzLiNtZXNzYWdlRGlzcGF0Y2hlci5kaXNwYXRjaE1lc3NhZ2UobmV3IE1xdHRJbmNvbWluZ01lc3NhZ2UoU09VUkNFLklOVEVSTkFMLCBFVkVOVC5DT05ORUNUSU9OX0xPU1QpKTtcclxuXHR9XHJcblxyXG4gICNvbkNvbm5lY3QoKSB7XHJcblx0XHR0aGlzLmxvZ1RyYWNlKGBcXG5bTXF0dCBjbGllbnRdIENvbm5lY3RlZGApO1xyXG4gICAgZm9yIChjb25zdCB0b3BpYyBvZiB0aGlzLl9zdWJzY3JpYmVkVG9waWNTZXQpXHJcbiAgICAgIHRoaXMuI3N1YnNjcmliZVRvcGljT25DbGllbnQodG9waWMpO1xyXG4gICAgXHJcbiAgICB0aGlzLiNtZXNzYWdlRGlzcGF0Y2hlci5kaXNwYXRjaE1lc3NhZ2UobmV3IE1xdHRJbmNvbWluZ01lc3NhZ2UoU09VUkNFLklOVEVSTkFMLCBFVkVOVC5DT05ORUNUSU9OX09LKSk7XHJcblx0fVxyXG5cclxuICAjb25FcnJvcihlcnJvcikge1xyXG5cdCAgaWYgKGVycm9yKVxyXG4gICAgXHRTTlBfTE9HR0VSLmVycm9yKG51bGwsIG51bGwsIGBcXG4oTXF0dCBjbGllbnQpIFtlcnJvcl0gJHtlcnJvcn1gKTtcclxuICAgIHRoaXMuI21lc3NhZ2VEaXNwYXRjaGVyLmRpc3BhdGNoTWVzc2FnZShuZXcgTXF0dEluY29taW5nTWVzc2FnZShTT1VSQ0UuSU5URVJOQUwsIEVWRU5ULkVSUk9SKSk7XHJcbiAgfVxyXG5cclxuICAjb25NZXNzYWdlKHRvcGljLCBtZXNzYWdlLCBwYWNrZXQpIHtcclxuICAgIHRoaXMubG9nVHJhY2UoYFxcblttZXNzYWdlICR7dG9waWN9XSBSZWNlaXZpbmcgZGF0YSBmcm9tIHNlcnZlcjpgKTtcclxuICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcclxuICAgIHRoaXMubG9nVHJhY2UoVXRpbHMuYmVhdXRpZnlKU09OU3RyaW5nKGpzb24pKTtcclxuICAgIGxldCBtcXR0TWVzc2FnZSA9IFNkbU1xdHRNZXNzYWdlQnVpbGRlci5mcm9tTXF0dE1lc3NhZ2UodG9waWMsIG1lc3NhZ2UsIHBhY2tldCk7XHJcblxyXG5cdFx0aWYgKG1xdHRNZXNzYWdlLmpvYklkICE9IG51bGwpIHtcclxuXHRcdFx0bGV0IHByb21pc2UgPSB0aGlzLiNtYXBDb21tYW5kUHJvbWlzZS5nZXQobXF0dE1lc3NhZ2Uuam9iSWQpO1xyXG5cdFx0XHRpZiAocHJvbWlzZSkge1xyXG5cdFx0XHRcdHRoaXMuI21hcENvbW1hbmRQcm9taXNlLmRlbGV0ZShtcXR0TWVzc2FnZS5qb2JJZCk7XHJcblx0XHRcdFx0cHJvbWlzZS5hbnN3ZXJSZWNlaXZlZChtcXR0TWVzc2FnZS5wYXlsb2FkKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG4gICAgXHR0aGlzLiNtZXNzYWdlRGlzcGF0Y2hlci5kaXNwYXRjaE1lc3NhZ2UobmV3IE1xdHRJbmNvbWluZ01lc3NhZ2UoU09VUkNFLkJST0tFUiwgRVZFTlQuSU5DT01JTkdfTUVTU0FHRSwgbXF0dE1lc3NhZ2UpKTtcclxuICB9XHJcblxyXG4gIHNlbmRDb21tYW5kKGNvbW1hbmQsIHJlcXVlc3QsIHRpbWVvdXQpIHtcclxuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCgpKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RldmljZSBub3QgY29ubmVjdGVkJyk7XHJcbiAgICAgIFxyXG4gICAgbGV0IHNlbmRUb3BpYyAgICAgPSB0aGlzLmdldFNlbmRUb0RldmljZVRvcGljKCkgKyBcIi9cIiArIGNvbW1hbmQ7XHJcbiAgICBsZXQgcmVzcG9uc2VUb3BpYyA9IHRoaXMuZ2V0TGlzdGVuVG9EZXZpY2VUb3BpYygpICsgXCIvXCIgKyBjb21tYW5kO1xyXG5cclxuICAgIGxldCBtc2cgPSBuZXcgU2RtTXF0dE1lc3NhZ2VCdWlsZGVyKHNlbmRUb3BpYywgcmVxdWVzdClcclxuICAgIFx0XHQud2l0aFJlc3BvbnNlT25Ub3BpYyhyZXNwb25zZVRvcGljKVxyXG4gICAgXHRcdC53aXRoVGltZW91dCh0aW1lb3V0KVxyXG4gICAgXHRcdC5idWlsZCgpO1xyXG4gICAgXHRcdFxyXG4gICAgbGV0IGNtZFByb21pc2UgPSB0aGlzLiNzZW5kTWVzc2FnZVRvQnJva2VyKG1zZyk7XHJcbiAgICBcclxuICAgIHJldHVybiAoY21kUHJvbWlzZSA9PSBudWxsKSA/IFByb21pc2UucmVzb2x2ZSgpIDogdGhpcy4jd2FpdEZvckNvbW1hbmRSZXNwb25zZShjbWRQcm9taXNlLCB0aW1lb3V0KTtcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgI3dhaXRGb3JDb21tYW5kUmVzcG9uc2UocHJvbWlzZSwgdGltZW91dCkge1xyXG4gICAgbGV0IHJlc3BvbnNlID0gbnVsbDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHByb21pc2Uud2FpdEZvclJlc3BvbnNlKHRpbWVvdXQpO1xyXG4gICAgICByZXNwb25zZSA9IHByb21pc2UucmVzcG9uc2VNZXNzYWdlLlBheWxvYWQ7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHRoaXMuI21hcENvbW1hbmRQcm9taXNlLmRlbGV0ZShwcm9taXNlLmpvYklkKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXNwb25zZTtcclxuICB9XHJcblx0XHJcblx0I3NlbmRNZXNzYWdlVG9Ccm9rZXIobXNnKSB7XHJcblx0XHRsZXQgcHJvbWlzZSA9IG51bGw7XHJcblx0XHRcclxuXHRcdGlmIChtc2cucmVzcG9uc2VUb3BpYykge1xyXG5cdFx0XHRwcm9taXNlID0gbmV3IFNkbUNvbW1hbmRQcm9taXNlKCk7XHJcbiAgICAgIG1zZy5qb2JJZCA9IHByb21pc2Uuam9iSWQ7XHJcbiAgICAgIHRoaXMuI21hcENvbW1hbmRQcm9taXNlLnNldChwcm9taXNlLmpvYklkLCBwcm9taXNlKTtcclxuXHRcdH1cclxuXHRcdFx0XHJcbiAgICB0aGlzLiNtcXR0Q2xpZW50LnB1Ymxpc2gobXNnLnNlbmRpbmdUb3BpYywgSlNPTi5zdHJpbmdpZnkobXNnLnBheWxvYWQpLCBtc2cub3B0aW9ucyk7XHJcbiAgICBcclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../script/mqtt/sdm-connection-mqtt.js\n");

/***/ }),

/***/ "../script/mqtt/sdm-mqtt-message-builder.js":
/*!**************************************************!*\
  !*** ../script/mqtt/sdm-mqtt-message-builder.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmMqttMessageBuilder\": () => (/* binding */ SdmMqttMessageBuilder)\n/* harmony export */ });\n/* harmony import */ var _sdm_connection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sdm-connection.js */ \"../script/sdm-connection.js\");\n/* harmony import */ var _sdm_message_dispatcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sdm-message-dispatcher.js */ \"../script/sdm-message-dispatcher.js\");\n/* harmony import */ var _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mqtt-incoming-message.js */ \"../script/mqtt/mqtt-incoming-message.js\");\n/* harmony import */ var _sdm_mqtt_message_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sdm-mqtt-message.js */ \"../script/mqtt/sdm-mqtt-message.js\");\n\r\n\r\n\r\n\r\n\r\nclass SdmMqttMessageBuilder {\r\n  #msg;\r\n\r\n\tconstructor(sendingTopic, payload) {\r\n    if (!payload)\r\n      throw new Error(\"Payload parameter is mandatory\");\r\n    if (!sendingTopic)\r\n      throw new Error(\"SendingTopic parameter is mandatory\");\r\n      \r\n    this.#msg = new _sdm_mqtt_message_js__WEBPACK_IMPORTED_MODULE_3__.SdmMqttMessage(sendingTopic, payload);\r\n    this.#msg.qos = 0;\r\n    this.#msg.retained = false;\r\n\t}\r\n\t\r\n  withResponseOnTopic(responseTopic) {\r\n    this.#msg.responseTopic = responseTopic;\r\n    return this;\r\n  }\r\n  \r\n  withJobId(jobId) {\r\n    this.#msg.jobId = jobId;\r\n    return this;\r\n  }\r\n  \r\n  withTimeout(msec) {\r\n    this.#msg.timeOut = msec;\r\n    return this;\r\n  }\r\n  \r\n  retained() {\r\n    this.#msg.options.retained = true;\r\n    return this;\r\n  }\r\n  \r\n  build() {\r\n    return this.#msg;\r\n  }\r\n  \r\n  static fromMqttMessage(topic, message, packet) {\r\n    let sendingTopic = topic;\r\n    let jobId = null;\r\n    let json = JSON.parse(message);\r\n    \r\n    if (packet && packet.properties && packet.properties.correlationData) {\r\n\t\t\tlet correlationData = JSON.parse(packet.properties.correlationData);\r\n      jobId = correlationData.JobId;\r\n\t\t}\r\n\r\n    let result = new SdmMqttMessageBuilder(sendingTopic, json)\r\n        .withJobId(jobId)\r\n        .build();\r\n    \r\n    result.qos = packet.qos;\r\n    result.retain = packet.retained;\r\n    return result;\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L21xdHQvc2RtLW1xdHQtbWVzc2FnZS1idWlsZGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFEO0FBQ2U7QUFDWTtBQUN6QjtBQUN2RDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnRUFBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2aWNlLW1hbmFnZXItc2RtLy4uL3NjcmlwdC9tcXR0L3NkbS1tcXR0LW1lc3NhZ2UtYnVpbGRlci5qcz85NjI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNkbUNvbm5lY3Rpb24gfSBmcm9tICcuLi9zZG0tY29ubmVjdGlvbi5qcyc7XHJcbmltcG9ydCB7IFNkbU1lc3NhZ2VEaXNwYXRjaGVyIH0gZnJvbSAnLi4vc2RtLW1lc3NhZ2UtZGlzcGF0Y2hlci5qcyc7XHJcbmltcG9ydCB7IE1xdHRJbmNvbWluZ01lc3NhZ2UsIFNPVVJDRSwgRVZFTlQgfSBmcm9tICcuL21xdHQtaW5jb21pbmctbWVzc2FnZS5qcyc7XHJcbmltcG9ydCB7IFNkbU1xdHRNZXNzYWdlIH0gZnJvbSAnLi9zZG0tbXF0dC1tZXNzYWdlLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZG1NcXR0TWVzc2FnZUJ1aWxkZXIge1xyXG4gICNtc2c7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHNlbmRpbmdUb3BpYywgcGF5bG9hZCkge1xyXG4gICAgaWYgKCFwYXlsb2FkKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXlsb2FkIHBhcmFtZXRlciBpcyBtYW5kYXRvcnlcIik7XHJcbiAgICBpZiAoIXNlbmRpbmdUb3BpYylcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VuZGluZ1RvcGljIHBhcmFtZXRlciBpcyBtYW5kYXRvcnlcIik7XHJcbiAgICAgIFxyXG4gICAgdGhpcy4jbXNnID0gbmV3IFNkbU1xdHRNZXNzYWdlKHNlbmRpbmdUb3BpYywgcGF5bG9hZCk7XHJcbiAgICB0aGlzLiNtc2cucW9zID0gMDtcclxuICAgIHRoaXMuI21zZy5yZXRhaW5lZCA9IGZhbHNlO1xyXG5cdH1cclxuXHRcclxuICB3aXRoUmVzcG9uc2VPblRvcGljKHJlc3BvbnNlVG9waWMpIHtcclxuICAgIHRoaXMuI21zZy5yZXNwb25zZVRvcGljID0gcmVzcG9uc2VUb3BpYztcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuICBcclxuICB3aXRoSm9iSWQoam9iSWQpIHtcclxuICAgIHRoaXMuI21zZy5qb2JJZCA9IGpvYklkO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG4gIFxyXG4gIHdpdGhUaW1lb3V0KG1zZWMpIHtcclxuICAgIHRoaXMuI21zZy50aW1lT3V0ID0gbXNlYztcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuICBcclxuICByZXRhaW5lZCgpIHtcclxuICAgIHRoaXMuI21zZy5vcHRpb25zLnJldGFpbmVkID0gdHJ1ZTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuICBcclxuICBidWlsZCgpIHtcclxuICAgIHJldHVybiB0aGlzLiNtc2c7XHJcbiAgfVxyXG4gIFxyXG4gIHN0YXRpYyBmcm9tTXF0dE1lc3NhZ2UodG9waWMsIG1lc3NhZ2UsIHBhY2tldCkge1xyXG4gICAgbGV0IHNlbmRpbmdUb3BpYyA9IHRvcGljO1xyXG4gICAgbGV0IGpvYklkID0gbnVsbDtcclxuICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcclxuICAgIFxyXG4gICAgaWYgKHBhY2tldCAmJiBwYWNrZXQucHJvcGVydGllcyAmJiBwYWNrZXQucHJvcGVydGllcy5jb3JyZWxhdGlvbkRhdGEpIHtcclxuXHRcdFx0bGV0IGNvcnJlbGF0aW9uRGF0YSA9IEpTT04ucGFyc2UocGFja2V0LnByb3BlcnRpZXMuY29ycmVsYXRpb25EYXRhKTtcclxuICAgICAgam9iSWQgPSBjb3JyZWxhdGlvbkRhdGEuSm9iSWQ7XHJcblx0XHR9XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9IG5ldyBTZG1NcXR0TWVzc2FnZUJ1aWxkZXIoc2VuZGluZ1RvcGljLCBqc29uKVxyXG4gICAgICAgIC53aXRoSm9iSWQoam9iSWQpXHJcbiAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICBcclxuICAgIHJlc3VsdC5xb3MgPSBwYWNrZXQucW9zO1xyXG4gICAgcmVzdWx0LnJldGFpbiA9IHBhY2tldC5yZXRhaW5lZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../script/mqtt/sdm-mqtt-message-builder.js\n");

/***/ }),

/***/ "../script/mqtt/sdm-mqtt-message-dispatcher.js":
/*!*****************************************************!*\
  !*** ../script/mqtt/sdm-mqtt-message-dispatcher.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmMqttMessageDispatcher\": () => (/* binding */ SdmMqttMessageDispatcher)\n/* harmony export */ });\n/* harmony import */ var _sdm_connection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sdm-connection.js */ \"../script/sdm-connection.js\");\n/* harmony import */ var _sdm_message_dispatcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sdm-message-dispatcher.js */ \"../script/sdm-message-dispatcher.js\");\n/* harmony import */ var _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mqtt-incoming-message.js */ \"../script/mqtt/mqtt-incoming-message.js\");\n\r\n\r\n\r\n\r\nconst DEVICE_STATUS_EVENT     = \"device-status\";\r\nconst CONNECTION_STATUS_EVENT = \"connection-status\";\r\nconst LOG_EVENT               = \"log-message\";\r\nconst READ_EVENT              = \"media-read\";\r\nconst CONNECTION_ERRORS = [_mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__.EVENT.CONNECTION_LOST, _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__.EVENT.CONNECTION_TIMEOUT, _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__.EVENT.ERROR];\r\n\r\nclass SdmMqttMessageDispatcher extends _sdm_message_dispatcher_js__WEBPACK_IMPORTED_MODULE_1__.SdmMessageDispatcher {\r\n  #sdmConnection;\r\n\r\n\tconstructor(sdmConnection) {\r\n\t\tsuper();\r\n\t\tthis.#sdmConnection = sdmConnection;\r\n\t\tthis.#createMessageHandlers();\r\n\t}\r\n\t\r\n  #createMessageHandlers() {\r\n    this.addBrokerMessageHandler(this.#isConnectionError, this.#processConnectionError);\r\n    this.addBrokerMessageHandler(this.#isConnectionOk, this.#processConnectionOk);\r\n    this.addBrokerMessageHandler(this.#isTopicManagerReady, this.#processManagerReady);\r\n    this.addBrokerMessageHandler(this.#isDeviceStatus, this.#processDeviceStatus);\r\n    this.addBrokerMessageHandler(this.#isLog, this.#processLog);\r\n    this.addBrokerMessageHandler(this.#isMediaRead, this.#processMediaRead);\r\n    \r\n  }\r\n  \r\n\t#isConnectionError = msg => (msg.source == _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__.SOURCE.INTERNAL) && CONNECTION_ERRORS.includes(msg.event);\r\n\t#processConnectionError = msg => {\r\n          let connectionStatusEvent = {\r\n          \tisConnected: false,\r\n          \tisReady: false,\r\n          \tstatusDescription: \"Disconnected from SDM\"\r\n\t\t  \t\t};\r\n          this.#sdmConnection.dispatchEvent(CONNECTION_STATUS_EVENT, connectionStatusEvent);\r\n        };\r\n        \r\n  #isConnectionOk = msg => (msg.source == _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__.SOURCE.INTERNAL) && (msg.event == _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__.EVENT.CONNECTION_OK);\r\n  #processConnectionOk = msg => {\r\n          let connectionStatusEvent = {\r\n          \tisConnected: true,\r\n          \tisReady: false,\r\n          \tstatusDescription: \"Connected to SDM\"\r\n\t\t  \t\t};\r\n          this.#sdmConnection.dispatchEvent(CONNECTION_STATUS_EVENT, connectionStatusEvent);\r\n        };\r\n\r\n\t#isTopicManagerReady = msg =>this.#isMessageFromBroker(msg) && (msg.body.sendingTopic === (this.#sdmConnection.getListenToManagerTopic() + \"/ready\"));\r\n  #processManagerReady = msg => {\t\t\t\r\n\t\t\t\t\tlet response = msg.body.payload.Payload;\r\n          let connectionStatusEvent = {};\r\n          connectionStatusEvent.isConnected = this.#sdmConnection.isConnected();\r\n          if (response.ResponseCode != 0) {\r\n            connectionStatusEvent.isReady = false;\r\n            connectionStatusEvent.statusDescription = `SDM sent error code: ${response.ResponseCode} while initilization. Error: ${response.Message}`;\r\n          } \r\n          else {\r\n            connectionStatusEvent.isReady = true;\r\n            connectionStatusEvent.statusDescription = \"Wating for device status...\";\r\n          }    \r\n          this.#sdmConnection.dispatchEvent(CONNECTION_STATUS_EVENT, connectionStatusEvent);\r\n          this.#sdmConnection.onConnectionStatus(connectionStatusEvent);\r\n        };\r\n  \r\n  #isDeviceStatus = msg => this.#isMessageFromBroker(msg) && (msg.body.sendingTopic === (this.#sdmConnection.getListenToDeviceTopic() + \"/status\"));\r\n  #processDeviceStatus = msg => this.#sdmConnection.dispatchEvent(DEVICE_STATUS_EVENT, msg.body.payload.Payload);\r\n  \r\n  #isLog = msg => this.#isMessageFromBroker(msg) && (msg.body.sendingTopic === (this.#sdmConnection.getListenToManagerLogsTopic()));\r\n  #processLog = msg => this.#sdmConnection.dispatchEvent(LOG_EVENT, msg.body.payload.Payload);\r\n  \r\n  \r\n  #isMediaRead = msg => this.#isMessageFromBroker(msg) && (msg.body.sendingTopic === (this.#sdmConnection.getListenToDeviceTopic() + \"/media-read\"));\r\n  #processMediaRead = msg => this.#sdmConnection.dispatchEvent(READ_EVENT, msg.body.payload.Payload);  \r\n    \r\n  #isMessageFromBroker(msg) {\r\n    return msg.source == _mqtt_incoming_message_js__WEBPACK_IMPORTED_MODULE_2__.SOURCE.BROKER;\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L21xdHQvc2RtLW1xdHQtbWVzc2FnZS1kaXNwYXRjaGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUQ7QUFDZTtBQUNZO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNEVBQXFCLEVBQUUsK0VBQXdCLEVBQUUsa0VBQVc7QUFDdkY7QUFDTyx1Q0FBdUMsNEVBQW9CO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxzRUFBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsc0VBQWUsbUJBQW1CLDBFQUFtQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSx1QkFBdUIsOEJBQThCLGlCQUFpQjtBQUNwSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9FQUFhO0FBQ3RDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vc2NyaXB0L21xdHQvc2RtLW1xdHQtbWVzc2FnZS1kaXNwYXRjaGVyLmpzP2QzMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2RtQ29ubmVjdGlvbiB9IGZyb20gJy4uL3NkbS1jb25uZWN0aW9uLmpzJztcclxuaW1wb3J0IHsgU2RtTWVzc2FnZURpc3BhdGNoZXIgfSBmcm9tICcuLi9zZG0tbWVzc2FnZS1kaXNwYXRjaGVyLmpzJztcclxuaW1wb3J0IHsgTXF0dEluY29taW5nTWVzc2FnZSwgU09VUkNFLCBFVkVOVCB9IGZyb20gJy4vbXF0dC1pbmNvbWluZy1tZXNzYWdlLmpzJztcclxuXHJcbmNvbnN0IERFVklDRV9TVEFUVVNfRVZFTlQgICAgID0gXCJkZXZpY2Utc3RhdHVzXCI7XHJcbmNvbnN0IENPTk5FQ1RJT05fU1RBVFVTX0VWRU5UID0gXCJjb25uZWN0aW9uLXN0YXR1c1wiO1xyXG5jb25zdCBMT0dfRVZFTlQgICAgICAgICAgICAgICA9IFwibG9nLW1lc3NhZ2VcIjtcclxuY29uc3QgUkVBRF9FVkVOVCAgICAgICAgICAgICAgPSBcIm1lZGlhLXJlYWRcIjtcclxuY29uc3QgQ09OTkVDVElPTl9FUlJPUlMgPSBbRVZFTlQuQ09OTkVDVElPTl9MT1NULCBFVkVOVC5DT05ORUNUSU9OX1RJTUVPVVQsIEVWRU5ULkVSUk9SXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZG1NcXR0TWVzc2FnZURpc3BhdGNoZXIgZXh0ZW5kcyBTZG1NZXNzYWdlRGlzcGF0Y2hlciB7XHJcbiAgI3NkbUNvbm5lY3Rpb247XHJcblxyXG5cdGNvbnN0cnVjdG9yKHNkbUNvbm5lY3Rpb24pIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLiNzZG1Db25uZWN0aW9uID0gc2RtQ29ubmVjdGlvbjtcclxuXHRcdHRoaXMuI2NyZWF0ZU1lc3NhZ2VIYW5kbGVycygpO1xyXG5cdH1cclxuXHRcclxuICAjY3JlYXRlTWVzc2FnZUhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5hZGRCcm9rZXJNZXNzYWdlSGFuZGxlcih0aGlzLiNpc0Nvbm5lY3Rpb25FcnJvciwgdGhpcy4jcHJvY2Vzc0Nvbm5lY3Rpb25FcnJvcik7XHJcbiAgICB0aGlzLmFkZEJyb2tlck1lc3NhZ2VIYW5kbGVyKHRoaXMuI2lzQ29ubmVjdGlvbk9rLCB0aGlzLiNwcm9jZXNzQ29ubmVjdGlvbk9rKTtcclxuICAgIHRoaXMuYWRkQnJva2VyTWVzc2FnZUhhbmRsZXIodGhpcy4jaXNUb3BpY01hbmFnZXJSZWFkeSwgdGhpcy4jcHJvY2Vzc01hbmFnZXJSZWFkeSk7XHJcbiAgICB0aGlzLmFkZEJyb2tlck1lc3NhZ2VIYW5kbGVyKHRoaXMuI2lzRGV2aWNlU3RhdHVzLCB0aGlzLiNwcm9jZXNzRGV2aWNlU3RhdHVzKTtcclxuICAgIHRoaXMuYWRkQnJva2VyTWVzc2FnZUhhbmRsZXIodGhpcy4jaXNMb2csIHRoaXMuI3Byb2Nlc3NMb2cpO1xyXG4gICAgdGhpcy5hZGRCcm9rZXJNZXNzYWdlSGFuZGxlcih0aGlzLiNpc01lZGlhUmVhZCwgdGhpcy4jcHJvY2Vzc01lZGlhUmVhZCk7XHJcbiAgICBcclxuICB9XHJcbiAgXHJcblx0I2lzQ29ubmVjdGlvbkVycm9yID0gbXNnID0+IChtc2cuc291cmNlID09IFNPVVJDRS5JTlRFUk5BTCkgJiYgQ09OTkVDVElPTl9FUlJPUlMuaW5jbHVkZXMobXNnLmV2ZW50KTtcclxuXHQjcHJvY2Vzc0Nvbm5lY3Rpb25FcnJvciA9IG1zZyA9PiB7XHJcbiAgICAgICAgICBsZXQgY29ubmVjdGlvblN0YXR1c0V2ZW50ID0ge1xyXG4gICAgICAgICAgXHRpc0Nvbm5lY3RlZDogZmFsc2UsXHJcbiAgICAgICAgICBcdGlzUmVhZHk6IGZhbHNlLFxyXG4gICAgICAgICAgXHRzdGF0dXNEZXNjcmlwdGlvbjogXCJEaXNjb25uZWN0ZWQgZnJvbSBTRE1cIlxyXG5cdFx0ICBcdFx0fTtcclxuICAgICAgICAgIHRoaXMuI3NkbUNvbm5lY3Rpb24uZGlzcGF0Y2hFdmVudChDT05ORUNUSU9OX1NUQVRVU19FVkVOVCwgY29ubmVjdGlvblN0YXR1c0V2ZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICNpc0Nvbm5lY3Rpb25PayA9IG1zZyA9PiAobXNnLnNvdXJjZSA9PSBTT1VSQ0UuSU5URVJOQUwpICYmIChtc2cuZXZlbnQgPT0gRVZFTlQuQ09OTkVDVElPTl9PSyk7XHJcbiAgI3Byb2Nlc3NDb25uZWN0aW9uT2sgPSBtc2cgPT4ge1xyXG4gICAgICAgICAgbGV0IGNvbm5lY3Rpb25TdGF0dXNFdmVudCA9IHtcclxuICAgICAgICAgIFx0aXNDb25uZWN0ZWQ6IHRydWUsXHJcbiAgICAgICAgICBcdGlzUmVhZHk6IGZhbHNlLFxyXG4gICAgICAgICAgXHRzdGF0dXNEZXNjcmlwdGlvbjogXCJDb25uZWN0ZWQgdG8gU0RNXCJcclxuXHRcdCAgXHRcdH07XHJcbiAgICAgICAgICB0aGlzLiNzZG1Db25uZWN0aW9uLmRpc3BhdGNoRXZlbnQoQ09OTkVDVElPTl9TVEFUVVNfRVZFTlQsIGNvbm5lY3Rpb25TdGF0dXNFdmVudCk7XHJcbiAgICAgICAgfTtcclxuXHJcblx0I2lzVG9waWNNYW5hZ2VyUmVhZHkgPSBtc2cgPT50aGlzLiNpc01lc3NhZ2VGcm9tQnJva2VyKG1zZykgJiYgKG1zZy5ib2R5LnNlbmRpbmdUb3BpYyA9PT0gKHRoaXMuI3NkbUNvbm5lY3Rpb24uZ2V0TGlzdGVuVG9NYW5hZ2VyVG9waWMoKSArIFwiL3JlYWR5XCIpKTtcclxuICAjcHJvY2Vzc01hbmFnZXJSZWFkeSA9IG1zZyA9PiB7XHRcdFx0XHJcblx0XHRcdFx0XHRsZXQgcmVzcG9uc2UgPSBtc2cuYm9keS5wYXlsb2FkLlBheWxvYWQ7XHJcbiAgICAgICAgICBsZXQgY29ubmVjdGlvblN0YXR1c0V2ZW50ID0ge307XHJcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzRXZlbnQuaXNDb25uZWN0ZWQgPSB0aGlzLiNzZG1Db25uZWN0aW9uLmlzQ29ubmVjdGVkKCk7XHJcbiAgICAgICAgICBpZiAocmVzcG9uc2UuUmVzcG9uc2VDb2RlICE9IDApIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvblN0YXR1c0V2ZW50LmlzUmVhZHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29ubmVjdGlvblN0YXR1c0V2ZW50LnN0YXR1c0Rlc2NyaXB0aW9uID0gYFNETSBzZW50IGVycm9yIGNvZGU6ICR7cmVzcG9uc2UuUmVzcG9uc2VDb2RlfSB3aGlsZSBpbml0aWxpemF0aW9uLiBFcnJvcjogJHtyZXNwb25zZS5NZXNzYWdlfWA7XHJcbiAgICAgICAgICB9IFxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXNFdmVudC5pc1JlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29ubmVjdGlvblN0YXR1c0V2ZW50LnN0YXR1c0Rlc2NyaXB0aW9uID0gXCJXYXRpbmcgZm9yIGRldmljZSBzdGF0dXMuLi5cIjtcclxuICAgICAgICAgIH0gICAgXHJcbiAgICAgICAgICB0aGlzLiNzZG1Db25uZWN0aW9uLmRpc3BhdGNoRXZlbnQoQ09OTkVDVElPTl9TVEFUVVNfRVZFTlQsIGNvbm5lY3Rpb25TdGF0dXNFdmVudCk7XHJcbiAgICAgICAgICB0aGlzLiNzZG1Db25uZWN0aW9uLm9uQ29ubmVjdGlvblN0YXR1cyhjb25uZWN0aW9uU3RhdHVzRXZlbnQpO1xyXG4gICAgICAgIH07XHJcbiAgXHJcbiAgI2lzRGV2aWNlU3RhdHVzID0gbXNnID0+IHRoaXMuI2lzTWVzc2FnZUZyb21Ccm9rZXIobXNnKSAmJiAobXNnLmJvZHkuc2VuZGluZ1RvcGljID09PSAodGhpcy4jc2RtQ29ubmVjdGlvbi5nZXRMaXN0ZW5Ub0RldmljZVRvcGljKCkgKyBcIi9zdGF0dXNcIikpO1xyXG4gICNwcm9jZXNzRGV2aWNlU3RhdHVzID0gbXNnID0+IHRoaXMuI3NkbUNvbm5lY3Rpb24uZGlzcGF0Y2hFdmVudChERVZJQ0VfU1RBVFVTX0VWRU5ULCBtc2cuYm9keS5wYXlsb2FkLlBheWxvYWQpO1xyXG4gIFxyXG4gICNpc0xvZyA9IG1zZyA9PiB0aGlzLiNpc01lc3NhZ2VGcm9tQnJva2VyKG1zZykgJiYgKG1zZy5ib2R5LnNlbmRpbmdUb3BpYyA9PT0gKHRoaXMuI3NkbUNvbm5lY3Rpb24uZ2V0TGlzdGVuVG9NYW5hZ2VyTG9nc1RvcGljKCkpKTtcclxuICAjcHJvY2Vzc0xvZyA9IG1zZyA9PiB0aGlzLiNzZG1Db25uZWN0aW9uLmRpc3BhdGNoRXZlbnQoTE9HX0VWRU5ULCBtc2cuYm9keS5wYXlsb2FkLlBheWxvYWQpO1xyXG4gIFxyXG4gIFxyXG4gICNpc01lZGlhUmVhZCA9IG1zZyA9PiB0aGlzLiNpc01lc3NhZ2VGcm9tQnJva2VyKG1zZykgJiYgKG1zZy5ib2R5LnNlbmRpbmdUb3BpYyA9PT0gKHRoaXMuI3NkbUNvbm5lY3Rpb24uZ2V0TGlzdGVuVG9EZXZpY2VUb3BpYygpICsgXCIvbWVkaWEtcmVhZFwiKSk7XHJcbiAgI3Byb2Nlc3NNZWRpYVJlYWQgPSBtc2cgPT4gdGhpcy4jc2RtQ29ubmVjdGlvbi5kaXNwYXRjaEV2ZW50KFJFQURfRVZFTlQsIG1zZy5ib2R5LnBheWxvYWQuUGF5bG9hZCk7ICBcclxuICAgIFxyXG4gICNpc01lc3NhZ2VGcm9tQnJva2VyKG1zZykge1xyXG4gICAgcmV0dXJuIG1zZy5zb3VyY2UgPT0gU09VUkNFLkJST0tFUjtcclxuICB9XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../script/mqtt/sdm-mqtt-message-dispatcher.js\n");

/***/ }),

/***/ "../script/mqtt/sdm-mqtt-message.js":
/*!******************************************!*\
  !*** ../script/mqtt/sdm-mqtt-message.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmMqttMessage\": () => (/* binding */ SdmMqttMessage)\n/* harmony export */ });\n\r\nclass SdmMqttMessage {\r\n  #body;\r\n  #sendingTopic;\r\n  #jobId;\r\n  #timeOut;\r\n  #timestamp;\r\n  #options = {properties:{}};\r\n\t\r\n\tconstructor(sendingTopic, payload) {\r\n\t\tthis.#sendingTopic = sendingTopic;\r\n\t\tthis.#body = {};\t\t\r\n\t\tthis.#body.Payload = payload;\t\t\r\n\t}\r\n\t\r\n\tget sendingTopic() {\r\n\t\treturn this.#sendingTopic;\r\n\t}\r\n\t\r\n\tget payload() {\r\n\t\tthis.#body.Header = this.#buildHeader();\r\n\t\treturn this.#body;\r\n\t}\r\n\r\n\tget responseTopic() {\r\n\t\treturn this.#options.properties.responseTopic;\r\n\t}\r\n\t\r\n\tset responseTopic(value) {\r\n\t\tthis.#options.properties.responseTopic = value;\r\n\t}\r\n\t\r\n\tget jobId() {\r\n\t\treturn this.#jobId;\r\n\t}\r\n\t\r\n\tset jobId(value) {\r\n\t\tthis.#jobId = value;\r\n\t\tthis.#updateCorrelationData();\r\n\t}\r\n\t\r\n\tget timeOut() {\r\n\t\treturn this.#timeOut;\r\n\t}\r\n\t\r\n\tset timeOut(value) {\r\n\t\tthis.#timeOut = value;\r\n\t}\r\n\t\r\n\t#updateCorrelationData() {\r\n\t\tlet correlationData = {};\r\n\t\tif (this.#jobId)\r\n\t\t\tcorrelationData.JobId = this.#jobId;\r\n\t\tthis.#options.properties.correlationData = JSON.stringify(correlationData);\t\t\r\n\t}\r\n\t\r\n\t#buildHeader() {\r\n\t\tlet result = {};\r\n\t\tif (this.#jobId)\r\n\t\t\tresult.JobId = this.#jobId;\r\n\t\tif (this.#timeOut)\r\n\t\t\tresult.TimeOut = this.#timeOut;\r\n\t\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tget timestamp() {\r\n\t\treturn this.#timestamp;\r\n\t}\r\n\t\r\n  get options() {\r\n\t\treturn this.#options;\r\n\t}\r\n\r\n\t\r\n\tset timestamp(value) {\r\n\t\tthis.#timestamp = value;\r\n\t}\r\n\r\n\tset qos(value) {\r\n\t\tthis.#options.qos = value;\r\n\t}\r\n\t\r\n\tset retain(value) {\r\n\t\tthis.#options.retain = value;\r\n\t}\r\n\t\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L21xdHQvc2RtLW1xdHQtbWVzc2FnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvbXF0dC9zZG0tbXF0dC1tZXNzYWdlLmpzPzE3NjMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBjbGFzcyBTZG1NcXR0TWVzc2FnZSB7XHJcbiAgI2JvZHk7XHJcbiAgI3NlbmRpbmdUb3BpYztcclxuICAjam9iSWQ7XHJcbiAgI3RpbWVPdXQ7XHJcbiAgI3RpbWVzdGFtcDtcclxuICAjb3B0aW9ucyA9IHtwcm9wZXJ0aWVzOnt9fTtcclxuXHRcclxuXHRjb25zdHJ1Y3RvcihzZW5kaW5nVG9waWMsIHBheWxvYWQpIHtcclxuXHRcdHRoaXMuI3NlbmRpbmdUb3BpYyA9IHNlbmRpbmdUb3BpYztcclxuXHRcdHRoaXMuI2JvZHkgPSB7fTtcdFx0XHJcblx0XHR0aGlzLiNib2R5LlBheWxvYWQgPSBwYXlsb2FkO1x0XHRcclxuXHR9XHJcblx0XHJcblx0Z2V0IHNlbmRpbmdUb3BpYygpIHtcclxuXHRcdHJldHVybiB0aGlzLiNzZW5kaW5nVG9waWM7XHJcblx0fVxyXG5cdFxyXG5cdGdldCBwYXlsb2FkKCkge1xyXG5cdFx0dGhpcy4jYm9keS5IZWFkZXIgPSB0aGlzLiNidWlsZEhlYWRlcigpO1xyXG5cdFx0cmV0dXJuIHRoaXMuI2JvZHk7XHJcblx0fVxyXG5cclxuXHRnZXQgcmVzcG9uc2VUb3BpYygpIHtcclxuXHRcdHJldHVybiB0aGlzLiNvcHRpb25zLnByb3BlcnRpZXMucmVzcG9uc2VUb3BpYztcclxuXHR9XHJcblx0XHJcblx0c2V0IHJlc3BvbnNlVG9waWModmFsdWUpIHtcclxuXHRcdHRoaXMuI29wdGlvbnMucHJvcGVydGllcy5yZXNwb25zZVRvcGljID0gdmFsdWU7XHJcblx0fVxyXG5cdFxyXG5cdGdldCBqb2JJZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLiNqb2JJZDtcclxuXHR9XHJcblx0XHJcblx0c2V0IGpvYklkKHZhbHVlKSB7XHJcblx0XHR0aGlzLiNqb2JJZCA9IHZhbHVlO1xyXG5cdFx0dGhpcy4jdXBkYXRlQ29ycmVsYXRpb25EYXRhKCk7XHJcblx0fVxyXG5cdFxyXG5cdGdldCB0aW1lT3V0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuI3RpbWVPdXQ7XHJcblx0fVxyXG5cdFxyXG5cdHNldCB0aW1lT3V0KHZhbHVlKSB7XHJcblx0XHR0aGlzLiN0aW1lT3V0ID0gdmFsdWU7XHJcblx0fVxyXG5cdFxyXG5cdCN1cGRhdGVDb3JyZWxhdGlvbkRhdGEoKSB7XHJcblx0XHRsZXQgY29ycmVsYXRpb25EYXRhID0ge307XHJcblx0XHRpZiAodGhpcy4jam9iSWQpXHJcblx0XHRcdGNvcnJlbGF0aW9uRGF0YS5Kb2JJZCA9IHRoaXMuI2pvYklkO1xyXG5cdFx0dGhpcy4jb3B0aW9ucy5wcm9wZXJ0aWVzLmNvcnJlbGF0aW9uRGF0YSA9IEpTT04uc3RyaW5naWZ5KGNvcnJlbGF0aW9uRGF0YSk7XHRcdFxyXG5cdH1cclxuXHRcclxuXHQjYnVpbGRIZWFkZXIoKSB7XHJcblx0XHRsZXQgcmVzdWx0ID0ge307XHJcblx0XHRpZiAodGhpcy4jam9iSWQpXHJcblx0XHRcdHJlc3VsdC5Kb2JJZCA9IHRoaXMuI2pvYklkO1xyXG5cdFx0aWYgKHRoaXMuI3RpbWVPdXQpXHJcblx0XHRcdHJlc3VsdC5UaW1lT3V0ID0gdGhpcy4jdGltZU91dDtcclxuXHRcdFx0XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHRcclxuXHRnZXQgdGltZXN0YW1wKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuI3RpbWVzdGFtcDtcclxuXHR9XHJcblx0XHJcbiAgZ2V0IG9wdGlvbnMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4jb3B0aW9ucztcclxuXHR9XHJcblxyXG5cdFxyXG5cdHNldCB0aW1lc3RhbXAodmFsdWUpIHtcclxuXHRcdHRoaXMuI3RpbWVzdGFtcCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0c2V0IHFvcyh2YWx1ZSkge1xyXG5cdFx0dGhpcy4jb3B0aW9ucy5xb3MgPSB2YWx1ZTtcclxuXHR9XHJcblx0XHJcblx0c2V0IHJldGFpbih2YWx1ZSkge1xyXG5cdFx0dGhpcy4jb3B0aW9ucy5yZXRhaW4gPSB2YWx1ZTtcclxuXHR9XHJcblx0XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../script/mqtt/sdm-mqtt-message.js\n");

/***/ }),

/***/ "../script/receipt-doc-parser.js":
/*!***************************************!*\
  !*** ../script/receipt-doc-parser.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ReceiptDocDataParser\": () => (/* binding */ ReceiptDocDataParser)\n/* harmony export */ });\n\r\nconst MACRO_TAG_START     = \"<\";\r\nconst MACRO_TAG_END       = \">\";\r\nconst PARAMS_TAG_START    = \"{\";\r\nconst PARAMS_TAG_END      = \"}\";\r\nconst PARAMS_SEPARATOR    = \";\";\r\nconst KEY_VALUE_SEPARATOR = ':';\r\n\r\nclass ReceiptDocDataParser {\r\n\t\r\n\tconstructor() {\r\n    if (this instanceof ReceiptDocDataParser) {\r\n      throw Error('Utility class');\r\n    }\r\n  }\r\n  \r\n\tstatic parseReceipt(docData) {\r\n\t\tlet result = {ControlsList: []};\r\n\t\t\r\n\t\tif (docData) {\r\n\t\t\tlet componentStrList = ReceiptDocDataParser.#extractStringComponents(docData);\r\n\t\t\t\r\n\t\t\tfor (const componentStr of componentStrList) {\r\n        if (ReceiptDocDataParser.#isMacro(componentStr))\r\n          result.ControlsList.push(ReceiptDocDataParser.#createMacroComponentFromString(componentStr));\r\n        else\r\n          result.ControlsList.push(ReceiptDocDataParser.#createTextComponentFromString(componentStr));\r\n      }\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n  static #isMacro(componentStr) {\r\n    return componentStr.startsWith(MACRO_TAG_START);\r\n  }\r\n  \r\n  static #extractStringComponents(docData) {\r\n    let result = new Array();\r\n    let startIdx = -1; \r\n    let endIdx = -1; \r\n    \r\n    let textToParse = docData;\r\n   \r\n    while ((startIdx = ReceiptDocDataParser.#findMacroStartIndex(textToParse)) >= 0) {\r\n      if (startIdx > 0)\r\n        result.push(textToParse.substring(0, startIdx));\r\n      \r\n      endIdx = ReceiptDocDataParser.#findMacroEndIndex(textToParse);\r\n      \r\n      if (endIdx == -1)\r\n        throw new Error('Missing closing tag');\r\n      \r\n      result.push(ReceiptDocDataParser.#extractTextBetweenTags(textToParse, startIdx, endIdx));\r\n      \r\n      textToParse = ReceiptDocDataParser.#removeParsedText(textToParse, endIdx);\r\n    }\r\n    \r\n    if (textToParse.length > 0)\r\n      result.push(textToParse);\r\n    \r\n    return result;\r\n  }\r\n  \r\n  static #findMacroStartIndex(text) {\r\n    return text.indexOf(MACRO_TAG_START);\r\n  }\r\n  \r\n  static #findMacroEndIndex(text) {\r\n    return text.indexOf(MACRO_TAG_END);\r\n  }\r\n\r\n  static #extractTextBetweenTags(text, startIdx, endIdx) {\r\n    return text.substring(startIdx, endIdx + 1);\r\n  }\r\n  \r\n  static #removeParsedText(textToParse, endIdx) {\r\n    return textToParse.substring(endIdx + 1);\r\n  }\r\n  \r\n  static #createTextComponentFromString(componentStr) {\r\n    return {\r\n\t\t\tType: \"text\",\r\n\t\t\tText: {\r\n\t\t\t\tData: componentStr\r\n\t\t\t}\r\n\t\t};\r\n  }\r\n\r\n  static #createMacroComponentFromString(componentStr) {\r\n    let result = {\r\n\t\t\tType: \"macro\",\r\n\t\t\tMacro: {}\r\n\t\t};\r\n    \r\n    let elementStrWithoutTags = componentStr.substring(1, componentStr.length -1).trim();\r\n\r\n    let elementStrWithoutParams = elementStrWithoutTags;\r\n\r\n    let paramsStartIdx = ReceiptDocDataParser.#findParametersStartIndex(elementStrWithoutParams);\r\n    if (paramsStartIdx >= 0) {\r\n      result.Macro.ParamList = ReceiptDocDataParser.#parseParams(elementStrWithoutParams.substring(paramsStartIdx));\r\n      elementStrWithoutParams = ReceiptDocDataParser.#removePrametersText(elementStrWithoutParams, paramsStartIdx);\r\n    }\r\n\r\n    result.Macro.MacroName = elementStrWithoutParams.trim();\r\n    \r\n    return result;\r\n  }\r\n  \r\n  static #removePrametersText(text, paramsStartIdx) {\r\n    return text.substring(0, paramsStartIdx);\r\n  }\r\n  \r\n  static #findParametersStartIndex(text) {\r\n    let result = text.indexOf(PARAMS_TAG_START);\r\n    if (result == -1)\r\n      result = ReceiptDocDataParser.#findDefaultParameterStartIndex(text);\r\n    return result;\r\n  }\r\n  \r\n  static #findDefaultParameterStartIndex(text) {\r\n    return text.indexOf(' ');\r\n  }\r\n\r\n  static #parseParams(paramsStr) {\r\n    let result = {};\r\n    \r\n    if (!paramsStr.startsWith(PARAMS_TAG_START))\r\n      Object.assign(result, ReceiptDocDataParser.#createParam(\"data\", paramsStr));\r\n    else {\r\n      if (!paramsStr.endsWith(PARAMS_TAG_END))\r\n        throw new Error('Missing closing tag');\r\n      \r\n      let paramsStrWithoutTags = paramsStr.substring(1, paramsStr.length -1);\r\n\r\n      let paramStrList = paramsStrWithoutTags.split(PARAMS_SEPARATOR);\r\n      \r\n      for (const paramStr of paramStrList)\r\n        Object.assign(result, ReceiptDocDataParser.#parseParam(paramStr));\r\n    }\r\n   \r\n    return result;\r\n  }\r\n  \r\n  static #parseParam(paramStr) {\r\n    let separatorIdx = paramStr.indexOf(KEY_VALUE_SEPARATOR);\r\n    \r\n    if (separatorIdx == -1)\r\n      throw new Error('Malformed parameter');\r\n    \r\n    return ReceiptDocDataParser.#createParam(paramStr.substring(0, separatorIdx), paramStr.substring(separatorIdx+1));    \r\n  }\r\n  \r\n  static #createParam(paramKey, paramValue) {\r\n    let key = paramKey.trim();    \r\n    if (!key)\r\n      throw new Error('Missing parameter key');\r\n    \r\n    let value = paramValue.trim();    \r\n    if (!value)\r\n      throw new Error('Missing parameter value');\r\n\r\n\t\tlet result = {};\r\n\t\tresult[key.toLowerCase()] = value;\r\n\t\t\r\n\t\treturn result;\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3JlY2VpcHQtZG9jLXBhcnNlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvcmVjZWlwdC1kb2MtcGFyc2VyLmpzPzQwOTAiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IE1BQ1JPX1RBR19TVEFSVCAgICAgPSBcIjxcIjtcclxuY29uc3QgTUFDUk9fVEFHX0VORCAgICAgICA9IFwiPlwiO1xyXG5jb25zdCBQQVJBTVNfVEFHX1NUQVJUICAgID0gXCJ7XCI7XHJcbmNvbnN0IFBBUkFNU19UQUdfRU5EICAgICAgPSBcIn1cIjtcclxuY29uc3QgUEFSQU1TX1NFUEFSQVRPUiAgICA9IFwiO1wiO1xyXG5jb25zdCBLRVlfVkFMVUVfU0VQQVJBVE9SID0gJzonO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlY2VpcHREb2NEYXRhUGFyc2VyIHtcclxuXHRcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgUmVjZWlwdERvY0RhdGFQYXJzZXIpIHtcclxuICAgICAgdGhyb3cgRXJyb3IoJ1V0aWxpdHkgY2xhc3MnKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcblx0c3RhdGljIHBhcnNlUmVjZWlwdChkb2NEYXRhKSB7XHJcblx0XHRsZXQgcmVzdWx0ID0ge0NvbnRyb2xzTGlzdDogW119O1xyXG5cdFx0XHJcblx0XHRpZiAoZG9jRGF0YSkge1xyXG5cdFx0XHRsZXQgY29tcG9uZW50U3RyTGlzdCA9IFJlY2VpcHREb2NEYXRhUGFyc2VyLiNleHRyYWN0U3RyaW5nQ29tcG9uZW50cyhkb2NEYXRhKTtcclxuXHRcdFx0XHJcblx0XHRcdGZvciAoY29uc3QgY29tcG9uZW50U3RyIG9mIGNvbXBvbmVudFN0ckxpc3QpIHtcclxuICAgICAgICBpZiAoUmVjZWlwdERvY0RhdGFQYXJzZXIuI2lzTWFjcm8oY29tcG9uZW50U3RyKSlcclxuICAgICAgICAgIHJlc3VsdC5Db250cm9sc0xpc3QucHVzaChSZWNlaXB0RG9jRGF0YVBhcnNlci4jY3JlYXRlTWFjcm9Db21wb25lbnRGcm9tU3RyaW5nKGNvbXBvbmVudFN0cikpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgIHJlc3VsdC5Db250cm9sc0xpc3QucHVzaChSZWNlaXB0RG9jRGF0YVBhcnNlci4jY3JlYXRlVGV4dENvbXBvbmVudEZyb21TdHJpbmcoY29tcG9uZW50U3RyKSk7XHJcbiAgICAgIH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblx0XHJcbiAgc3RhdGljICNpc01hY3JvKGNvbXBvbmVudFN0cikge1xyXG4gICAgcmV0dXJuIGNvbXBvbmVudFN0ci5zdGFydHNXaXRoKE1BQ1JPX1RBR19TVEFSVCk7XHJcbiAgfVxyXG4gIFxyXG4gIHN0YXRpYyAjZXh0cmFjdFN0cmluZ0NvbXBvbmVudHMoZG9jRGF0YSkge1xyXG4gICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheSgpO1xyXG4gICAgbGV0IHN0YXJ0SWR4ID0gLTE7IFxyXG4gICAgbGV0IGVuZElkeCA9IC0xOyBcclxuICAgIFxyXG4gICAgbGV0IHRleHRUb1BhcnNlID0gZG9jRGF0YTtcclxuICAgXHJcbiAgICB3aGlsZSAoKHN0YXJ0SWR4ID0gUmVjZWlwdERvY0RhdGFQYXJzZXIuI2ZpbmRNYWNyb1N0YXJ0SW5kZXgodGV4dFRvUGFyc2UpKSA+PSAwKSB7XHJcbiAgICAgIGlmIChzdGFydElkeCA+IDApXHJcbiAgICAgICAgcmVzdWx0LnB1c2godGV4dFRvUGFyc2Uuc3Vic3RyaW5nKDAsIHN0YXJ0SWR4KSk7XHJcbiAgICAgIFxyXG4gICAgICBlbmRJZHggPSBSZWNlaXB0RG9jRGF0YVBhcnNlci4jZmluZE1hY3JvRW5kSW5kZXgodGV4dFRvUGFyc2UpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGVuZElkeCA9PSAtMSlcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgY2xvc2luZyB0YWcnKTtcclxuICAgICAgXHJcbiAgICAgIHJlc3VsdC5wdXNoKFJlY2VpcHREb2NEYXRhUGFyc2VyLiNleHRyYWN0VGV4dEJldHdlZW5UYWdzKHRleHRUb1BhcnNlLCBzdGFydElkeCwgZW5kSWR4KSk7XHJcbiAgICAgIFxyXG4gICAgICB0ZXh0VG9QYXJzZSA9IFJlY2VpcHREb2NEYXRhUGFyc2VyLiNyZW1vdmVQYXJzZWRUZXh0KHRleHRUb1BhcnNlLCBlbmRJZHgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAodGV4dFRvUGFyc2UubGVuZ3RoID4gMClcclxuICAgICAgcmVzdWx0LnB1c2godGV4dFRvUGFyc2UpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBcclxuICBzdGF0aWMgI2ZpbmRNYWNyb1N0YXJ0SW5kZXgodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQuaW5kZXhPZihNQUNST19UQUdfU1RBUlQpO1xyXG4gIH1cclxuICBcclxuICBzdGF0aWMgI2ZpbmRNYWNyb0VuZEluZGV4KHRleHQpIHtcclxuICAgIHJldHVybiB0ZXh0LmluZGV4T2YoTUFDUk9fVEFHX0VORCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgI2V4dHJhY3RUZXh0QmV0d2VlblRhZ3ModGV4dCwgc3RhcnRJZHgsIGVuZElkeCkge1xyXG4gICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHN0YXJ0SWR4LCBlbmRJZHggKyAxKTtcclxuICB9XHJcbiAgXHJcbiAgc3RhdGljICNyZW1vdmVQYXJzZWRUZXh0KHRleHRUb1BhcnNlLCBlbmRJZHgpIHtcclxuICAgIHJldHVybiB0ZXh0VG9QYXJzZS5zdWJzdHJpbmcoZW5kSWR4ICsgMSk7XHJcbiAgfVxyXG4gIFxyXG4gIHN0YXRpYyAjY3JlYXRlVGV4dENvbXBvbmVudEZyb21TdHJpbmcoY29tcG9uZW50U3RyKSB7XHJcbiAgICByZXR1cm4ge1xyXG5cdFx0XHRUeXBlOiBcInRleHRcIixcclxuXHRcdFx0VGV4dDoge1xyXG5cdFx0XHRcdERhdGE6IGNvbXBvbmVudFN0clxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljICNjcmVhdGVNYWNyb0NvbXBvbmVudEZyb21TdHJpbmcoY29tcG9uZW50U3RyKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0ge1xyXG5cdFx0XHRUeXBlOiBcIm1hY3JvXCIsXHJcblx0XHRcdE1hY3JvOiB7fVxyXG5cdFx0fTtcclxuICAgIFxyXG4gICAgbGV0IGVsZW1lbnRTdHJXaXRob3V0VGFncyA9IGNvbXBvbmVudFN0ci5zdWJzdHJpbmcoMSwgY29tcG9uZW50U3RyLmxlbmd0aCAtMSkudHJpbSgpO1xyXG5cclxuICAgIGxldCBlbGVtZW50U3RyV2l0aG91dFBhcmFtcyA9IGVsZW1lbnRTdHJXaXRob3V0VGFncztcclxuXHJcbiAgICBsZXQgcGFyYW1zU3RhcnRJZHggPSBSZWNlaXB0RG9jRGF0YVBhcnNlci4jZmluZFBhcmFtZXRlcnNTdGFydEluZGV4KGVsZW1lbnRTdHJXaXRob3V0UGFyYW1zKTtcclxuICAgIGlmIChwYXJhbXNTdGFydElkeCA+PSAwKSB7XHJcbiAgICAgIHJlc3VsdC5NYWNyby5QYXJhbUxpc3QgPSBSZWNlaXB0RG9jRGF0YVBhcnNlci4jcGFyc2VQYXJhbXMoZWxlbWVudFN0cldpdGhvdXRQYXJhbXMuc3Vic3RyaW5nKHBhcmFtc1N0YXJ0SWR4KSk7XHJcbiAgICAgIGVsZW1lbnRTdHJXaXRob3V0UGFyYW1zID0gUmVjZWlwdERvY0RhdGFQYXJzZXIuI3JlbW92ZVByYW1ldGVyc1RleHQoZWxlbWVudFN0cldpdGhvdXRQYXJhbXMsIHBhcmFtc1N0YXJ0SWR4KTtcclxuICAgIH1cclxuXHJcbiAgICByZXN1bHQuTWFjcm8uTWFjcm9OYW1lID0gZWxlbWVudFN0cldpdGhvdXRQYXJhbXMudHJpbSgpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICBcclxuICBzdGF0aWMgI3JlbW92ZVByYW1ldGVyc1RleHQodGV4dCwgcGFyYW1zU3RhcnRJZHgpIHtcclxuICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZygwLCBwYXJhbXNTdGFydElkeCk7XHJcbiAgfVxyXG4gIFxyXG4gIHN0YXRpYyAjZmluZFBhcmFtZXRlcnNTdGFydEluZGV4KHRleHQpIHtcclxuICAgIGxldCByZXN1bHQgPSB0ZXh0LmluZGV4T2YoUEFSQU1TX1RBR19TVEFSVCk7XHJcbiAgICBpZiAocmVzdWx0ID09IC0xKVxyXG4gICAgICByZXN1bHQgPSBSZWNlaXB0RG9jRGF0YVBhcnNlci4jZmluZERlZmF1bHRQYXJhbWV0ZXJTdGFydEluZGV4KHRleHQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgXHJcbiAgc3RhdGljICNmaW5kRGVmYXVsdFBhcmFtZXRlclN0YXJ0SW5kZXgodGV4dCkge1xyXG4gICAgcmV0dXJuIHRleHQuaW5kZXhPZignICcpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljICNwYXJzZVBhcmFtcyhwYXJhbXNTdHIpIHtcclxuICAgIGxldCByZXN1bHQgPSB7fTtcclxuICAgIFxyXG4gICAgaWYgKCFwYXJhbXNTdHIuc3RhcnRzV2l0aChQQVJBTVNfVEFHX1NUQVJUKSlcclxuICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIFJlY2VpcHREb2NEYXRhUGFyc2VyLiNjcmVhdGVQYXJhbShcImRhdGFcIiwgcGFyYW1zU3RyKSk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgaWYgKCFwYXJhbXNTdHIuZW5kc1dpdGgoUEFSQU1TX1RBR19FTkQpKVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBjbG9zaW5nIHRhZycpO1xyXG4gICAgICBcclxuICAgICAgbGV0IHBhcmFtc1N0cldpdGhvdXRUYWdzID0gcGFyYW1zU3RyLnN1YnN0cmluZygxLCBwYXJhbXNTdHIubGVuZ3RoIC0xKTtcclxuXHJcbiAgICAgIGxldCBwYXJhbVN0ckxpc3QgPSBwYXJhbXNTdHJXaXRob3V0VGFncy5zcGxpdChQQVJBTVNfU0VQQVJBVE9SKTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgcGFyYW1TdHIgb2YgcGFyYW1TdHJMaXN0KVxyXG4gICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCBSZWNlaXB0RG9jRGF0YVBhcnNlci4jcGFyc2VQYXJhbShwYXJhbVN0cikpO1xyXG4gICAgfVxyXG4gICBcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG4gIFxyXG4gIHN0YXRpYyAjcGFyc2VQYXJhbShwYXJhbVN0cikge1xyXG4gICAgbGV0IHNlcGFyYXRvcklkeCA9IHBhcmFtU3RyLmluZGV4T2YoS0VZX1ZBTFVFX1NFUEFSQVRPUik7XHJcbiAgICBcclxuICAgIGlmIChzZXBhcmF0b3JJZHggPT0gLTEpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIHBhcmFtZXRlcicpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gUmVjZWlwdERvY0RhdGFQYXJzZXIuI2NyZWF0ZVBhcmFtKHBhcmFtU3RyLnN1YnN0cmluZygwLCBzZXBhcmF0b3JJZHgpLCBwYXJhbVN0ci5zdWJzdHJpbmcoc2VwYXJhdG9ySWR4KzEpKTsgICAgXHJcbiAgfVxyXG4gIFxyXG4gIHN0YXRpYyAjY3JlYXRlUGFyYW0ocGFyYW1LZXksIHBhcmFtVmFsdWUpIHtcclxuICAgIGxldCBrZXkgPSBwYXJhbUtleS50cmltKCk7ICAgIFxyXG4gICAgaWYgKCFrZXkpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBwYXJhbWV0ZXIga2V5Jyk7XHJcbiAgICBcclxuICAgIGxldCB2YWx1ZSA9IHBhcmFtVmFsdWUudHJpbSgpOyAgICBcclxuICAgIGlmICghdmFsdWUpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBwYXJhbWV0ZXIgdmFsdWUnKTtcclxuXHJcblx0XHRsZXQgcmVzdWx0ID0ge307XHJcblx0XHRyZXN1bHRba2V5LnRvTG93ZXJDYXNlKCldID0gdmFsdWU7XHJcblx0XHRcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../script/receipt-doc-parser.js\n");

/***/ }),

/***/ "../script/sdm-api.js":
/*!****************************!*\
  !*** ../script/sdm-api.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmAPI\": () => (/* binding */ SdmAPI)\n/* harmony export */ });\nclass SdmAPI {\r\n  static SNAPP_DEVICE_MANAGER = \"snapp-device-manager\";\r\n  static SDM_REST_SERVICE_URL = 'http://localhost:32727';\r\n\r\n  constructor() {\r\n    throw new Error(\"Utility class\");\r\n  }\r\n\r\n  static extractSdmVersionFromInstallerName(installerFileName) {\r\n    let nameParts = installerFileName.split(\"-\");\r\n    let versionWithExtension = nameParts[nameParts.length-1];\r\n    return versionWithExtension.substring(0, versionWithExtension.lastIndexOf('.'));\r\n  }\r\n  \r\n  static findSdmInstallerFileName(frameworks) {\r\n    let sdmFrameworkFile = frameworks.find(fwk => this.isSdmFramework(fwk.FileName));\r\n    return sdmFrameworkFile == null ? null : sdmFrameworkFile.FileName;\r\n  }\r\n\r\n  static findSdmVersion(frameworks) {\r\n    let installerFileName = this.findSdmInstallerFileName(frameworks);\r\n    return (installerFileName == null) ? null : this.extractSdmVersionFromInstallerName(installerFileName);     \r\n  }\r\n  \r\n  static getRequiredSdmVersionForArchitecture(pluginList, os) {\r\n    let result = null;\r\n    \r\n    if (pluginList != null) {\r\n      let requiredVersions = [];\r\n      pluginList.filter(plg => plg.DriverSdm == true)\r\n        .forEach(plg => {\r\n          let requiredVer = this.getPluginRequiredSdmVersionForArchitecture(plg, os);\r\n          if (requiredVer != null)\r\n            requiredVersions.push(requiredVer);\r\n        });\r\n\r\n      requiredVersions.sort().reverse();\r\n    \r\n      if (requiredVersions.length > 0)\r\n        result = requiredVersions[0];\r\n    }\r\n      \r\n    return result;\r\n  }\r\n  \r\n  static getPluginRequiredSdmVersionForArchitecture(plugin, os) {\r\n    let result = null;\r\n    if (plugin != null && plugin.FrameworkFileList != null) {\r\n      result = plugin.FrameworkFileList.filter(fwk => this.isSdmFrameworkForOS(fwk.FileName, os))\r\n          .map(fwk => this.extractSdmVersionFromInstallerName(fwk.FileName))\r\n          .shift();\r\n    }\r\n    return result;\r\n  }\r\n  \r\n  static isSdmFrameworkForOS(fileName, os) {\r\n    return fileName.startsWith(SdmAPI.SNAPP_DEVICE_MANAGER + \"-\" + os.toLowerCase());\r\n  }\r\n  \r\n  static isSdmFramework(fileName) {\r\n    return fileName.startsWith(SdmAPI.SNAPP_DEVICE_MANAGER);\r\n  }\r\n\r\n  static versionsAreCompatible(minimumVer, requiredVer) {\r\n    if ((minimumVer == null) || (requiredVer == null))\r\n      return false;\r\n    \r\n    let minimumVerTokens = minimumVer.split(\".\");\r\n    if (minimumVerTokens.length != 2)\r\n      throw new EUnexpectedVersionLength();\r\n    \r\n    let requiredVerTokens = requiredVer.split(\".\");\r\n    if (requiredVerTokens.length != 2)\r\n      throw new EUnexpectedVersionLength();\r\n    \r\n    if (minimumVerTokens[0] !== requiredVerTokens[0])\r\n      return false;\r\n    \r\n    if (parseInt(requiredVerTokens[1]) < parseInt(minimumVerTokens[1]))\r\n      return false;\r\n    \r\n    return true;\r\n  }\r\n  \r\n  /**\r\n\t * Sdm REST API interface\r\n\t */\r\n\tstatic async updatePackageOnSdm(updateRequest) {\r\n\t\tlet url = SdmAPI.SDM_REST_SERVICE_URL + '/packages';\r\n\t\tlet headers = {'Content-Type': 'application/json',};\r\n\t\t\r\n\t  const data = {\r\n\t  \tupdateRequest: updateRequest\r\n\t  };\r\n\t\t return await SdmAPI.fetchSdm(url, 'POST', headers, data);  \r\n\t}\r\n  \r\n\tstatic async getSdmPluginList() {\r\n\t\tlet url = SdmAPI.SDM_REST_SERVICE_URL + '/devices';\r\n\t\treturn await SdmAPI.fetchSdm(url, 'GET');\r\n\t}\r\n\t\r\n\tstatic async getSdmRunningVersion() {\r\n\t\tlet url = SdmAPI.SDM_REST_SERVICE_URL + '/info';\r\n\t\treturn await SdmAPI.fetchSdm(url, 'GET');\r\n\t}\r\n\t\r\n\tstatic async downloadAndInstallSdm(minRequiredVersionForSdm, arch) {\r\n\t\tlet installer_file_name = 'snapp-device-manager-' + arch + '-' + minRequiredVersionForSdm + '.exe'\r\n\t\tconsole.log('Download SDM starting')\r\n\t\tSNP_LOGGER.debug(null, null, 'Download SDM starting');\r\n\t\tlet base64SdmInstallerFile = await KIOSK_CONTROLLER.snappAPI.downloadBase64SdmInstaller(installer_file_name);\r\n\t\tconsole.log('Download SDM end')\r\n\t\tSNP_LOGGER.debug(null, null, 'Download SDM end');\t\t\r\n\t\tconst data = {\r\n\t\t\tVersion: minRequiredVersionForSdm,\r\n\t  \tBase64InstallerFile: base64SdmInstallerFile\r\n\t  };\r\n\t  \r\n\t\tlet url = SdmAPI.SDM_REST_SERVICE_URL + '/update';\r\n\t\tlet headers = {'Content-Type': 'application/json'}\r\n\t\t\r\n\t\tlet response\r\n\t\ttry {\r\n\t\t\tconsole.log('Install SDM starting')\r\n\t\t\tSNP_LOGGER.debug(null, null, 'Install SDM starting');\r\n\t\t\tresponse = await SdmAPI.fetchSdm(url, 'POST', headers, data, 50000);\r\n\t\t\tconsole.log('Install SDM end')\r\n\t\t\tSNP_LOGGER.debug(null, null, 'Install SDM end');\t\t\t\r\n\t\t} catch(error) {\r\n\t\t\t//Do nothing.. sometimes SDM shutdown before responding...\r\n\t\t}\r\n\t\t\r\n\t\tif (response && !response.Updating)\r\n\t\t\tthrow new Error('SDM update failed with message: ' + response.ErrorMessage);\t\t\t\r\n\t\telse {\r\n\t\t\tlet start_ts = new Date().getTime();\r\n\t\t\tlet installer_timeout_ms = 2 * 60 * 1000 // 2 minutes \r\n\t\t\tlet running_version = null\r\n\t\t\twhile (!SdmAPI.versionsAreCompatible(minRequiredVersionForSdm, running_version)) {\r\n\t\t\t\tSNP_LOGGER.debug(null, null, 'Checking SDM running version....');\r\n\t\t\t\tconsole.log('Checking SDM running version....')\t\t\t\t\r\n\t\t\t\tif (new Date().getTime() - start_ts >= installer_timeout_ms)\r\n\t\t\t\t\tthrow new Error('SDM update  failed');\r\n\t\t\t\t\t\r\n\t\t\t\ttry {\t\r\n\t\t\t\t\tlet response = await SdmAPI.getSdmRunningVersion();\r\n\t\t\t\t\trunning_version = response.Version;\r\n\t\t\t\t\tSNP_LOGGER.debug(null, null, 'SDM Running version:');\r\n\t\t\t\t\tconsole.log('SDM Running version:')\t\t\t\t\t\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tSNP_LOGGER.debug(null, null, 'SDM not reachable');\r\n\t\t\t\t\tconsole.debug('SDM not reachable')\r\n\t\t\t\t}\r\n\t\t\t\tawait SdmAPI.sleep(1000);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic async fetchSdm(url, method, headers, data, timeout = 2000) {\r\n\t\ttry {\r\n\t\t\tlet controller = new AbortController();\r\n      let id = setTimeout(() => controller.abort(), timeout);\r\n\t\t\t\t\t\t\r\n\t    let response = await fetch(url, {\r\n\t\t\t\t method: method,\r\n\t\t\t\t body: data ? JSON.stringify(data) : null,\r\n\t\t\t\t headers: headers,\r\n\t\t\t\t signal: controller.signal\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tclearTimeout(id);\r\n\t\t\t\r\n\t    if (!response.ok) {\r\n      \tthrow new Error('SDM API call failed with status: ' + response.status);\r\n\t    }\t\r\n\t    return await response.json();\r\n    } catch (error) {\r\n      SNP_LOGGER.error(null, null, error);\r\n      throw error;\r\n    }\r\n\t}\r\n\t\r\n\tstatic async sleep(ms) {\r\n\t  return new Promise(resolve => setTimeout(resolve, ms));\r\n\t}\r\n\r\n}\r\n\r\n\r\nclass EUnexpectedVersionLength extends Error {\r\n  constructor() {\r\n    super(\"Version must be composed by 2 numbers separated by a dot\");\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1hcGkuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2aWNlLW1hbmFnZXItc2RtLy4uL3NjcmlwdC9zZG0tYXBpLmpzPzhlOTgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFNkbUFQSSB7XHJcbiAgc3RhdGljIFNOQVBQX0RFVklDRV9NQU5BR0VSID0gXCJzbmFwcC1kZXZpY2UtbWFuYWdlclwiO1xyXG4gIHN0YXRpYyBTRE1fUkVTVF9TRVJWSUNFX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjMyNzI3JztcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVdGlsaXR5IGNsYXNzXCIpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGV4dHJhY3RTZG1WZXJzaW9uRnJvbUluc3RhbGxlck5hbWUoaW5zdGFsbGVyRmlsZU5hbWUpIHtcclxuICAgIGxldCBuYW1lUGFydHMgPSBpbnN0YWxsZXJGaWxlTmFtZS5zcGxpdChcIi1cIik7XHJcbiAgICBsZXQgdmVyc2lvbldpdGhFeHRlbnNpb24gPSBuYW1lUGFydHNbbmFtZVBhcnRzLmxlbmd0aC0xXTtcclxuICAgIHJldHVybiB2ZXJzaW9uV2l0aEV4dGVuc2lvbi5zdWJzdHJpbmcoMCwgdmVyc2lvbldpdGhFeHRlbnNpb24ubGFzdEluZGV4T2YoJy4nKSk7XHJcbiAgfVxyXG4gIFxyXG4gIHN0YXRpYyBmaW5kU2RtSW5zdGFsbGVyRmlsZU5hbWUoZnJhbWV3b3Jrcykge1xyXG4gICAgbGV0IHNkbUZyYW1ld29ya0ZpbGUgPSBmcmFtZXdvcmtzLmZpbmQoZndrID0+IHRoaXMuaXNTZG1GcmFtZXdvcmsoZndrLkZpbGVOYW1lKSk7XHJcbiAgICByZXR1cm4gc2RtRnJhbWV3b3JrRmlsZSA9PSBudWxsID8gbnVsbCA6IHNkbUZyYW1ld29ya0ZpbGUuRmlsZU5hbWU7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZmluZFNkbVZlcnNpb24oZnJhbWV3b3Jrcykge1xyXG4gICAgbGV0IGluc3RhbGxlckZpbGVOYW1lID0gdGhpcy5maW5kU2RtSW5zdGFsbGVyRmlsZU5hbWUoZnJhbWV3b3Jrcyk7XHJcbiAgICByZXR1cm4gKGluc3RhbGxlckZpbGVOYW1lID09IG51bGwpID8gbnVsbCA6IHRoaXMuZXh0cmFjdFNkbVZlcnNpb25Gcm9tSW5zdGFsbGVyTmFtZShpbnN0YWxsZXJGaWxlTmFtZSk7ICAgICBcclxuICB9XHJcbiAgXHJcbiAgc3RhdGljIGdldFJlcXVpcmVkU2RtVmVyc2lvbkZvckFyY2hpdGVjdHVyZShwbHVnaW5MaXN0LCBvcykge1xyXG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XHJcbiAgICBcclxuICAgIGlmIChwbHVnaW5MaXN0ICE9IG51bGwpIHtcclxuICAgICAgbGV0IHJlcXVpcmVkVmVyc2lvbnMgPSBbXTtcclxuICAgICAgcGx1Z2luTGlzdC5maWx0ZXIocGxnID0+IHBsZy5Ecml2ZXJTZG0gPT0gdHJ1ZSlcclxuICAgICAgICAuZm9yRWFjaChwbGcgPT4ge1xyXG4gICAgICAgICAgbGV0IHJlcXVpcmVkVmVyID0gdGhpcy5nZXRQbHVnaW5SZXF1aXJlZFNkbVZlcnNpb25Gb3JBcmNoaXRlY3R1cmUocGxnLCBvcyk7XHJcbiAgICAgICAgICBpZiAocmVxdWlyZWRWZXIgIT0gbnVsbClcclxuICAgICAgICAgICAgcmVxdWlyZWRWZXJzaW9ucy5wdXNoKHJlcXVpcmVkVmVyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIHJlcXVpcmVkVmVyc2lvbnMuc29ydCgpLnJldmVyc2UoKTtcclxuICAgIFxyXG4gICAgICBpZiAocmVxdWlyZWRWZXJzaW9ucy5sZW5ndGggPiAwKVxyXG4gICAgICAgIHJlc3VsdCA9IHJlcXVpcmVkVmVyc2lvbnNbMF07XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgXHJcbiAgc3RhdGljIGdldFBsdWdpblJlcXVpcmVkU2RtVmVyc2lvbkZvckFyY2hpdGVjdHVyZShwbHVnaW4sIG9zKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcclxuICAgIGlmIChwbHVnaW4gIT0gbnVsbCAmJiBwbHVnaW4uRnJhbWV3b3JrRmlsZUxpc3QgIT0gbnVsbCkge1xyXG4gICAgICByZXN1bHQgPSBwbHVnaW4uRnJhbWV3b3JrRmlsZUxpc3QuZmlsdGVyKGZ3ayA9PiB0aGlzLmlzU2RtRnJhbWV3b3JrRm9yT1MoZndrLkZpbGVOYW1lLCBvcykpXHJcbiAgICAgICAgICAubWFwKGZ3ayA9PiB0aGlzLmV4dHJhY3RTZG1WZXJzaW9uRnJvbUluc3RhbGxlck5hbWUoZndrLkZpbGVOYW1lKSlcclxuICAgICAgICAgIC5zaGlmdCgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgXHJcbiAgc3RhdGljIGlzU2RtRnJhbWV3b3JrRm9yT1MoZmlsZU5hbWUsIG9zKSB7XHJcbiAgICByZXR1cm4gZmlsZU5hbWUuc3RhcnRzV2l0aChTZG1BUEkuU05BUFBfREVWSUNFX01BTkFHRVIgKyBcIi1cIiArIG9zLnRvTG93ZXJDYXNlKCkpO1xyXG4gIH1cclxuICBcclxuICBzdGF0aWMgaXNTZG1GcmFtZXdvcmsoZmlsZU5hbWUpIHtcclxuICAgIHJldHVybiBmaWxlTmFtZS5zdGFydHNXaXRoKFNkbUFQSS5TTkFQUF9ERVZJQ0VfTUFOQUdFUik7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdmVyc2lvbnNBcmVDb21wYXRpYmxlKG1pbmltdW1WZXIsIHJlcXVpcmVkVmVyKSB7XHJcbiAgICBpZiAoKG1pbmltdW1WZXIgPT0gbnVsbCkgfHwgKHJlcXVpcmVkVmVyID09IG51bGwpKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBcclxuICAgIGxldCBtaW5pbXVtVmVyVG9rZW5zID0gbWluaW11bVZlci5zcGxpdChcIi5cIik7XHJcbiAgICBpZiAobWluaW11bVZlclRva2Vucy5sZW5ndGggIT0gMilcclxuICAgICAgdGhyb3cgbmV3IEVVbmV4cGVjdGVkVmVyc2lvbkxlbmd0aCgpO1xyXG4gICAgXHJcbiAgICBsZXQgcmVxdWlyZWRWZXJUb2tlbnMgPSByZXF1aXJlZFZlci5zcGxpdChcIi5cIik7XHJcbiAgICBpZiAocmVxdWlyZWRWZXJUb2tlbnMubGVuZ3RoICE9IDIpXHJcbiAgICAgIHRocm93IG5ldyBFVW5leHBlY3RlZFZlcnNpb25MZW5ndGgoKTtcclxuICAgIFxyXG4gICAgaWYgKG1pbmltdW1WZXJUb2tlbnNbMF0gIT09IHJlcXVpcmVkVmVyVG9rZW5zWzBdKVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBcclxuICAgIGlmIChwYXJzZUludChyZXF1aXJlZFZlclRva2Vuc1sxXSkgPCBwYXJzZUludChtaW5pbXVtVmVyVG9rZW5zWzFdKSlcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcblx0ICogU2RtIFJFU1QgQVBJIGludGVyZmFjZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyB1cGRhdGVQYWNrYWdlT25TZG0odXBkYXRlUmVxdWVzdCkge1xyXG5cdFx0bGV0IHVybCA9IFNkbUFQSS5TRE1fUkVTVF9TRVJWSUNFX1VSTCArICcvcGFja2FnZXMnO1xyXG5cdFx0bGV0IGhlYWRlcnMgPSB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyx9O1xyXG5cdFx0XHJcblx0ICBjb25zdCBkYXRhID0ge1xyXG5cdCAgXHR1cGRhdGVSZXF1ZXN0OiB1cGRhdGVSZXF1ZXN0XHJcblx0ICB9O1xyXG5cdFx0IHJldHVybiBhd2FpdCBTZG1BUEkuZmV0Y2hTZG0odXJsLCAnUE9TVCcsIGhlYWRlcnMsIGRhdGEpOyAgXHJcblx0fVxyXG4gIFxyXG5cdHN0YXRpYyBhc3luYyBnZXRTZG1QbHVnaW5MaXN0KCkge1xyXG5cdFx0bGV0IHVybCA9IFNkbUFQSS5TRE1fUkVTVF9TRVJWSUNFX1VSTCArICcvZGV2aWNlcyc7XHJcblx0XHRyZXR1cm4gYXdhaXQgU2RtQVBJLmZldGNoU2RtKHVybCwgJ0dFVCcpO1xyXG5cdH1cclxuXHRcclxuXHRzdGF0aWMgYXN5bmMgZ2V0U2RtUnVubmluZ1ZlcnNpb24oKSB7XHJcblx0XHRsZXQgdXJsID0gU2RtQVBJLlNETV9SRVNUX1NFUlZJQ0VfVVJMICsgJy9pbmZvJztcclxuXHRcdHJldHVybiBhd2FpdCBTZG1BUEkuZmV0Y2hTZG0odXJsLCAnR0VUJyk7XHJcblx0fVxyXG5cdFxyXG5cdHN0YXRpYyBhc3luYyBkb3dubG9hZEFuZEluc3RhbGxTZG0obWluUmVxdWlyZWRWZXJzaW9uRm9yU2RtLCBhcmNoKSB7XHJcblx0XHRsZXQgaW5zdGFsbGVyX2ZpbGVfbmFtZSA9ICdzbmFwcC1kZXZpY2UtbWFuYWdlci0nICsgYXJjaCArICctJyArIG1pblJlcXVpcmVkVmVyc2lvbkZvclNkbSArICcuZXhlJ1xyXG5cdFx0Y29uc29sZS5sb2coJ0Rvd25sb2FkIFNETSBzdGFydGluZycpXHJcblx0XHRTTlBfTE9HR0VSLmRlYnVnKG51bGwsIG51bGwsICdEb3dubG9hZCBTRE0gc3RhcnRpbmcnKTtcclxuXHRcdGxldCBiYXNlNjRTZG1JbnN0YWxsZXJGaWxlID0gYXdhaXQgS0lPU0tfQ09OVFJPTExFUi5zbmFwcEFQSS5kb3dubG9hZEJhc2U2NFNkbUluc3RhbGxlcihpbnN0YWxsZXJfZmlsZV9uYW1lKTtcclxuXHRcdGNvbnNvbGUubG9nKCdEb3dubG9hZCBTRE0gZW5kJylcclxuXHRcdFNOUF9MT0dHRVIuZGVidWcobnVsbCwgbnVsbCwgJ0Rvd25sb2FkIFNETSBlbmQnKTtcdFx0XHJcblx0XHRjb25zdCBkYXRhID0ge1xyXG5cdFx0XHRWZXJzaW9uOiBtaW5SZXF1aXJlZFZlcnNpb25Gb3JTZG0sXHJcblx0ICBcdEJhc2U2NEluc3RhbGxlckZpbGU6IGJhc2U2NFNkbUluc3RhbGxlckZpbGVcclxuXHQgIH07XHJcblx0ICBcclxuXHRcdGxldCB1cmwgPSBTZG1BUEkuU0RNX1JFU1RfU0VSVklDRV9VUkwgKyAnL3VwZGF0ZSc7XHJcblx0XHRsZXQgaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfVxyXG5cdFx0XHJcblx0XHRsZXQgcmVzcG9uc2VcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdJbnN0YWxsIFNETSBzdGFydGluZycpXHJcblx0XHRcdFNOUF9MT0dHRVIuZGVidWcobnVsbCwgbnVsbCwgJ0luc3RhbGwgU0RNIHN0YXJ0aW5nJyk7XHJcblx0XHRcdHJlc3BvbnNlID0gYXdhaXQgU2RtQVBJLmZldGNoU2RtKHVybCwgJ1BPU1QnLCBoZWFkZXJzLCBkYXRhLCA1MDAwMCk7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdJbnN0YWxsIFNETSBlbmQnKVxyXG5cdFx0XHRTTlBfTE9HR0VSLmRlYnVnKG51bGwsIG51bGwsICdJbnN0YWxsIFNETSBlbmQnKTtcdFx0XHRcclxuXHRcdH0gY2F0Y2goZXJyb3IpIHtcclxuXHRcdFx0Ly9EbyBub3RoaW5nLi4gc29tZXRpbWVzIFNETSBzaHV0ZG93biBiZWZvcmUgcmVzcG9uZGluZy4uLlxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZiAocmVzcG9uc2UgJiYgIXJlc3BvbnNlLlVwZGF0aW5nKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1NETSB1cGRhdGUgZmFpbGVkIHdpdGggbWVzc2FnZTogJyArIHJlc3BvbnNlLkVycm9yTWVzc2FnZSk7XHRcdFx0XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0bGV0IHN0YXJ0X3RzID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdGxldCBpbnN0YWxsZXJfdGltZW91dF9tcyA9IDIgKiA2MCAqIDEwMDAgLy8gMiBtaW51dGVzIFxyXG5cdFx0XHRsZXQgcnVubmluZ192ZXJzaW9uID0gbnVsbFxyXG5cdFx0XHR3aGlsZSAoIVNkbUFQSS52ZXJzaW9uc0FyZUNvbXBhdGlibGUobWluUmVxdWlyZWRWZXJzaW9uRm9yU2RtLCBydW5uaW5nX3ZlcnNpb24pKSB7XHJcblx0XHRcdFx0U05QX0xPR0dFUi5kZWJ1ZyhudWxsLCBudWxsLCAnQ2hlY2tpbmcgU0RNIHJ1bm5pbmcgdmVyc2lvbi4uLi4nKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnQ2hlY2tpbmcgU0RNIHJ1bm5pbmcgdmVyc2lvbi4uLi4nKVx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRfdHMgPj0gaW5zdGFsbGVyX3RpbWVvdXRfbXMpXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1NETSB1cGRhdGUgIGZhaWxlZCcpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0dHJ5IHtcdFxyXG5cdFx0XHRcdFx0bGV0IHJlc3BvbnNlID0gYXdhaXQgU2RtQVBJLmdldFNkbVJ1bm5pbmdWZXJzaW9uKCk7XHJcblx0XHRcdFx0XHRydW5uaW5nX3ZlcnNpb24gPSByZXNwb25zZS5WZXJzaW9uO1xyXG5cdFx0XHRcdFx0U05QX0xPR0dFUi5kZWJ1ZyhudWxsLCBudWxsLCAnU0RNIFJ1bm5pbmcgdmVyc2lvbjonKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdTRE0gUnVubmluZyB2ZXJzaW9uOicpXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRTTlBfTE9HR0VSLmRlYnVnKG51bGwsIG51bGwsICdTRE0gbm90IHJlYWNoYWJsZScpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZygnU0RNIG5vdCByZWFjaGFibGUnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRhd2FpdCBTZG1BUEkuc2xlZXAoMTAwMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0c3RhdGljIGFzeW5jIGZldGNoU2RtKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhLCB0aW1lb3V0ID0gMjAwMCkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcbiAgICAgIGxldCBpZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KTtcclxuXHRcdFx0XHRcdFx0XHJcblx0ICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xyXG5cdFx0XHRcdCBtZXRob2Q6IG1ldGhvZCxcclxuXHRcdFx0XHQgYm9keTogZGF0YSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogbnVsbCxcclxuXHRcdFx0XHQgaGVhZGVyczogaGVhZGVycyxcclxuXHRcdFx0XHQgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdGNsZWFyVGltZW91dChpZCk7XHJcblx0XHRcdFxyXG5cdCAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIFx0dGhyb3cgbmV3IEVycm9yKCdTRE0gQVBJIGNhbGwgZmFpbGVkIHdpdGggc3RhdHVzOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcclxuXHQgICAgfVx0XHJcblx0ICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBTTlBfTE9HR0VSLmVycm9yKG51bGwsIG51bGwsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcblx0fVxyXG5cdFxyXG5cdHN0YXRpYyBhc3luYyBzbGVlcChtcykge1xyXG5cdCAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcblxyXG5jbGFzcyBFVW5leHBlY3RlZFZlcnNpb25MZW5ndGggZXh0ZW5kcyBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcihcIlZlcnNpb24gbXVzdCBiZSBjb21wb3NlZCBieSAyIG51bWJlcnMgc2VwYXJhdGVkIGJ5IGEgZG90XCIpO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../script/sdm-api.js\n");

/***/ }),

/***/ "../script/sdm-command-promise.js":
/*!****************************************!*\
  !*** ../script/sdm-command-promise.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmCommandPromise\": () => (/* binding */ SdmCommandPromise)\n/* harmony export */ });\n/* harmony import */ var _common_script_condition_awaiter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/condition-awaiter */ \"../../../common-script/condition-awaiter.js\");\n/* harmony import */ var _common_script_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-script/utils */ \"../../../common-script/utils.js\");\n\r\n\r\n\r\nclass SdmCommandPromise  {\r\n  #jobId;\r\n  #responseMessage = null;\r\n  \r\n  constructor() {\r\n\t  this.#jobId = _common_script_utils__WEBPACK_IMPORTED_MODULE_1__.Utils.createUUID();\r\n  }\r\n  \r\n  answerReceived(message) {\r\n    this.responseMessage = message;\r\n  }\r\n\r\n  get jobId() {\r\n    return this.#jobId;\r\n  }\r\n\r\n  get responseMessage() {\r\n    return this.#responseMessage;\r\n  }\r\n\r\n  set responseMessage(responseMessage) {\r\n    this.#responseMessage = responseMessage;\r\n  }\r\n  \r\n  async waitForResponse(timeout) {\r\n\t  await _common_script_condition_awaiter__WEBPACK_IMPORTED_MODULE_0__.ConditionAwaiter.waitForCondition(() => this.responseMessage != null, timeout);\r\n  }   \r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1jb21tYW5kLXByb21pc2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9FO0FBQ3ZCO0FBQzdDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrRUFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtGQUFpQztBQUMxQztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2aWNlLW1hbmFnZXItc2RtLy4uL3NjcmlwdC9zZG0tY29tbWFuZC1wcm9taXNlLmpzPzRjOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZGl0aW9uQXdhaXRlciB9IGZyb20gJ0Bjb21tb24tc2NyaXB0L2NvbmRpdGlvbi1hd2FpdGVyJztcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQGNvbW1vbi1zY3JpcHQvdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZG1Db21tYW5kUHJvbWlzZSAge1xyXG4gICNqb2JJZDtcclxuICAjcmVzcG9uc2VNZXNzYWdlID0gbnVsbDtcclxuICBcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuXHQgIHRoaXMuI2pvYklkID0gVXRpbHMuY3JlYXRlVVVJRCgpO1xyXG4gIH1cclxuICBcclxuICBhbnN3ZXJSZWNlaXZlZChtZXNzYWdlKSB7XHJcbiAgICB0aGlzLnJlc3BvbnNlTWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICBnZXQgam9iSWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4jam9iSWQ7XHJcbiAgfVxyXG5cclxuICBnZXQgcmVzcG9uc2VNZXNzYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuI3Jlc3BvbnNlTWVzc2FnZTtcclxuICB9XHJcblxyXG4gIHNldCByZXNwb25zZU1lc3NhZ2UocmVzcG9uc2VNZXNzYWdlKSB7XHJcbiAgICB0aGlzLiNyZXNwb25zZU1lc3NhZ2UgPSByZXNwb25zZU1lc3NhZ2U7XHJcbiAgfVxyXG4gIFxyXG4gIGFzeW5jIHdhaXRGb3JSZXNwb25zZSh0aW1lb3V0KSB7XHJcblx0ICBhd2FpdCBDb25kaXRpb25Bd2FpdGVyLndhaXRGb3JDb25kaXRpb24oKCkgPT4gdGhpcy5yZXNwb25zZU1lc3NhZ2UgIT0gbnVsbCwgdGltZW91dCk7XHJcbiAgfSAgIFxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../script/sdm-command-promise.js\n");

/***/ }),

/***/ "../script/sdm-connection.js":
/*!***********************************!*\
  !*** ../script/sdm-connection.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmConnection\": () => (/* binding */ SdmConnection)\n/* harmony export */ });\n/* harmony import */ var _sdm_event_dispatcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sdm-event-dispatcher.js */ \"../script/sdm-event-dispatcher.js\");\n/* harmony import */ var _sdm_event_listener_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sdm-event-listener.js */ \"../script/sdm-event-listener.js\");\n\r\n\r\n\r\nconst driverType = Object.freeze({\r\n  1: \"Printer\",\r\n  6: \"ExtPayDevice\",\r\n  7: \"Reader\",\r\n  8: \"CashDrawer\"\r\n});\r\n\r\nclass SdmConnection {\r\n  #deviceTopic;\r\n  #sdmVersion = \"\";\r\n  _pluginInfo;\r\n  #eventDispatcher = new _sdm_event_dispatcher_js__WEBPACK_IMPORTED_MODULE_0__.SdmEventDispatcher();\r\n  _subscribedTopicSet = new Set();\r\n  \r\n  constructor(pluginInfo) {\r\n\t  if (!pluginInfo)\r\n\t  \tthrow new Error(\"Missing plugin info\")\r\n\t  \t\r\n\t  this._pluginInfo = pluginInfo;\r\n//    this.#sdmVersion = SdmVersionUtils.findSdmVersion(pluginInfo.FrameworkFileList.getItems());\r\n\r\n    this.#deviceTopic = this._getDeviceTopic();\r\n  }\r\n  \r\n  _getDeviceTopic() {\r\n    return this.#getDriverTypeDescription(this._pluginInfo.DriverType).toLowerCase() + \"/\" + this._pluginInfo.PluginId;\r\n  }\r\n\r\n\t#getDriverTypeDescription(key) {\r\n\t\tlet result = driverType[key];\r\n\t\t\r\n\t\treturn (result) ? result : \"unknown-driver-type\";\r\n\t}\r\n\t\r\n\tisConnected() {\r\n\t\tthrow Error(\"Missing _isConnected impelemtation for connection \" + this.constructor.name);\r\n\t}\r\n\t\r\n\tconnect() {\r\n\t\tthrow Error(\"Missing _connect impelemtation for connection \" + this.constructor.name);\r\n\t}\r\n\r\n\tsendCommand() {\r\n\t\tthrow Error(\"Missing _sendCommand impelemtation for connection \" + this.constructor.name);\r\n\t}\r\n\r\n\t_sendDeviceConfigurationToSDM() {\r\n\t\tthrow Error(\"Missing _sendDeviceConfigurationToSDM impelemtation for connection \" + this.constructor.name);\r\n\t}\r\n  \r\n  getSdmMinVersion() {\r\n    return this.#sdmVersion;\r\n  }\r\n  \r\n  getListenToDeviceTopic() {\r\n    return \"CLI/\" + this.#deviceTopic;    \r\n  }\r\n  \r\n  getSendToDeviceTopic() {\r\n    return \"SDM/\" + this.#deviceTopic;    \r\n  }\r\n\r\n  getListenToManagerTopic() {\r\n    return \"CLI/manager\";    \r\n  }\r\n  \r\n  getListenToManagerLogsTopic() {\r\n    return \"CLI/logs\";    \r\n  }\r\n    \r\n  onConnectionStatus(payload) {\r\n    if (payload.isReady)\r\n      this._sendDeviceConfigurationToSDM();\r\n  }\r\n\r\n  on(eventName, eventConsumer) {\r\n    this.registerEventListener(eventName, eventConsumer); \r\n  }\r\n\r\n  registerEventListener(eventName, listener) {\r\n    this.#eventDispatcher.registerEventListener(eventName, listener);\r\n  }\r\n\r\n  dispatchEvent(eventName, payload) {\r\n    this.#eventDispatcher.dispatchEvent(eventName, payload);\r\n  }\r\n  \r\n  logTrace(message) {\r\n    SNP_LOGGER.trace(null, null, `\\n[${this._pluginInfo.PluginName}] ${message}`);\r\n  }\r\n  \r\n  logError(message) {\r\n    SNP_LOGGER.error(null, null, `\\n[${this._pluginInfo.PluginName}] ${message}`);\r\n  }\r\n\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1jb25uZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErRDtBQUNKO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHdFQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw0QkFBNEIsSUFBSSxRQUFRO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw0QkFBNEIsSUFBSSxRQUFRO0FBQy9FO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvc2RtLWNvbm5lY3Rpb24uanM/YjY3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZG1FdmVudERpc3BhdGNoZXIgfSBmcm9tICcuL3NkbS1ldmVudC1kaXNwYXRjaGVyLmpzJztcclxuaW1wb3J0IHsgU2RtRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vc2RtLWV2ZW50LWxpc3RlbmVyLmpzJztcclxuXHJcbmNvbnN0IGRyaXZlclR5cGUgPSBPYmplY3QuZnJlZXplKHtcclxuICAxOiBcIlByaW50ZXJcIixcclxuICA2OiBcIkV4dFBheURldmljZVwiLFxyXG4gIDc6IFwiUmVhZGVyXCIsXHJcbiAgODogXCJDYXNoRHJhd2VyXCJcclxufSk7XHJcblxyXG5leHBvcnQgY2xhc3MgU2RtQ29ubmVjdGlvbiB7XHJcbiAgI2RldmljZVRvcGljO1xyXG4gICNzZG1WZXJzaW9uID0gXCJcIjtcclxuICBfcGx1Z2luSW5mbztcclxuICAjZXZlbnREaXNwYXRjaGVyID0gbmV3IFNkbUV2ZW50RGlzcGF0Y2hlcigpO1xyXG4gIF9zdWJzY3JpYmVkVG9waWNTZXQgPSBuZXcgU2V0KCk7XHJcbiAgXHJcbiAgY29uc3RydWN0b3IocGx1Z2luSW5mbykge1xyXG5cdCAgaWYgKCFwbHVnaW5JbmZvKVxyXG5cdCAgXHR0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHBsdWdpbiBpbmZvXCIpXHJcblx0ICBcdFxyXG5cdCAgdGhpcy5fcGx1Z2luSW5mbyA9IHBsdWdpbkluZm87XHJcbi8vICAgIHRoaXMuI3NkbVZlcnNpb24gPSBTZG1WZXJzaW9uVXRpbHMuZmluZFNkbVZlcnNpb24ocGx1Z2luSW5mby5GcmFtZXdvcmtGaWxlTGlzdC5nZXRJdGVtcygpKTtcclxuXHJcbiAgICB0aGlzLiNkZXZpY2VUb3BpYyA9IHRoaXMuX2dldERldmljZVRvcGljKCk7XHJcbiAgfVxyXG4gIFxyXG4gIF9nZXREZXZpY2VUb3BpYygpIHtcclxuICAgIHJldHVybiB0aGlzLiNnZXREcml2ZXJUeXBlRGVzY3JpcHRpb24odGhpcy5fcGx1Z2luSW5mby5Ecml2ZXJUeXBlKS50b0xvd2VyQ2FzZSgpICsgXCIvXCIgKyB0aGlzLl9wbHVnaW5JbmZvLlBsdWdpbklkO1xyXG4gIH1cclxuXHJcblx0I2dldERyaXZlclR5cGVEZXNjcmlwdGlvbihrZXkpIHtcclxuXHRcdGxldCByZXN1bHQgPSBkcml2ZXJUeXBlW2tleV07XHJcblx0XHRcclxuXHRcdHJldHVybiAocmVzdWx0KSA/IHJlc3VsdCA6IFwidW5rbm93bi1kcml2ZXItdHlwZVwiO1xyXG5cdH1cclxuXHRcclxuXHRpc0Nvbm5lY3RlZCgpIHtcclxuXHRcdHRocm93IEVycm9yKFwiTWlzc2luZyBfaXNDb25uZWN0ZWQgaW1wZWxlbXRhdGlvbiBmb3IgY29ubmVjdGlvbiBcIiArIHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcblx0fVxyXG5cdFxyXG5cdGNvbm5lY3QoKSB7XHJcblx0XHR0aHJvdyBFcnJvcihcIk1pc3NpbmcgX2Nvbm5lY3QgaW1wZWxlbXRhdGlvbiBmb3IgY29ubmVjdGlvbiBcIiArIHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcblx0fVxyXG5cclxuXHRzZW5kQ29tbWFuZCgpIHtcclxuXHRcdHRocm93IEVycm9yKFwiTWlzc2luZyBfc2VuZENvbW1hbmQgaW1wZWxlbXRhdGlvbiBmb3IgY29ubmVjdGlvbiBcIiArIHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcblx0fVxyXG5cclxuXHRfc2VuZERldmljZUNvbmZpZ3VyYXRpb25Ub1NETSgpIHtcclxuXHRcdHRocm93IEVycm9yKFwiTWlzc2luZyBfc2VuZERldmljZUNvbmZpZ3VyYXRpb25Ub1NETSBpbXBlbGVtdGF0aW9uIGZvciBjb25uZWN0aW9uIFwiICsgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKTtcclxuXHR9XHJcbiAgXHJcbiAgZ2V0U2RtTWluVmVyc2lvbigpIHtcclxuICAgIHJldHVybiB0aGlzLiNzZG1WZXJzaW9uO1xyXG4gIH1cclxuICBcclxuICBnZXRMaXN0ZW5Ub0RldmljZVRvcGljKCkge1xyXG4gICAgcmV0dXJuIFwiQ0xJL1wiICsgdGhpcy4jZGV2aWNlVG9waWM7ICAgIFxyXG4gIH1cclxuICBcclxuICBnZXRTZW5kVG9EZXZpY2VUb3BpYygpIHtcclxuICAgIHJldHVybiBcIlNETS9cIiArIHRoaXMuI2RldmljZVRvcGljOyAgICBcclxuICB9XHJcblxyXG4gIGdldExpc3RlblRvTWFuYWdlclRvcGljKCkge1xyXG4gICAgcmV0dXJuIFwiQ0xJL21hbmFnZXJcIjsgICAgXHJcbiAgfVxyXG4gIFxyXG4gIGdldExpc3RlblRvTWFuYWdlckxvZ3NUb3BpYygpIHtcclxuICAgIHJldHVybiBcIkNMSS9sb2dzXCI7ICAgIFxyXG4gIH1cclxuICAgIFxyXG4gIG9uQ29ubmVjdGlvblN0YXR1cyhwYXlsb2FkKSB7XHJcbiAgICBpZiAocGF5bG9hZC5pc1JlYWR5KVxyXG4gICAgICB0aGlzLl9zZW5kRGV2aWNlQ29uZmlndXJhdGlvblRvU0RNKCk7XHJcbiAgfVxyXG5cclxuICBvbihldmVudE5hbWUsIGV2ZW50Q29uc3VtZXIpIHtcclxuICAgIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRDb25zdW1lcik7IFxyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcclxuICAgIHRoaXMuI2V2ZW50RGlzcGF0Y2hlci5yZWdpc3RlckV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcik7XHJcbiAgfVxyXG5cclxuICBkaXNwYXRjaEV2ZW50KGV2ZW50TmFtZSwgcGF5bG9hZCkge1xyXG4gICAgdGhpcy4jZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoZXZlbnROYW1lLCBwYXlsb2FkKTtcclxuICB9XHJcbiAgXHJcbiAgbG9nVHJhY2UobWVzc2FnZSkge1xyXG4gICAgU05QX0xPR0dFUi50cmFjZShudWxsLCBudWxsLCBgXFxuWyR7dGhpcy5fcGx1Z2luSW5mby5QbHVnaW5OYW1lfV0gJHttZXNzYWdlfWApO1xyXG4gIH1cclxuICBcclxuICBsb2dFcnJvcihtZXNzYWdlKSB7XHJcbiAgICBTTlBfTE9HR0VSLmVycm9yKG51bGwsIG51bGwsIGBcXG5bJHt0aGlzLl9wbHVnaW5JbmZvLlBsdWdpbk5hbWV9XSAke21lc3NhZ2V9YCk7XHJcbiAgfVxyXG5cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../script/sdm-connection.js\n");

/***/ }),

/***/ "../script/sdm-device-factory.js":
/*!***************************************!*\
  !*** ../script/sdm-device-factory.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"factoryCreateDeviceInstance\": () => (/* binding */ factoryCreateDeviceInstance)\n/* harmony export */ });\n/* harmony import */ var _sdm_rdr_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sdm-rdr.js */ \"../script/sdm-rdr.js\");\n/* harmony import */ var _sdm_printer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sdm-printer.js */ \"../script/sdm-printer.js\");\n/* harmony import */ var _sdm_epd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sdm-epd.js */ \"../script/sdm-epd.js\");\n\r\n\r\n\r\n\r\nconst DEVICE_CLASSES = new Map();\r\n\r\nfunction factoryCreateDeviceInstance(params, connector) {\r\n  let clazz = DEVICE_CLASSES.get(params.pluginInfo.DriverType);\r\n  \r\n  if (clazz == null)\r\n    throw new Error(\"Unknown device type: \" + params.pluginInfo.deviceType);\r\n  else\r\n    return new clazz(params, connector);\r\n}\r\n\r\nfunction _registerDeviceClass(deviceType, clazz) {\r\n  DEVICE_CLASSES.set(deviceType, clazz);\r\n}\r\n\r\n_registerDeviceClass(_sdm_rdr_js__WEBPACK_IMPORTED_MODULE_0__.SdmReaderDevice.deviceType, _sdm_rdr_js__WEBPACK_IMPORTED_MODULE_0__.SdmReaderDevice);\r\n_registerDeviceClass(_sdm_printer_js__WEBPACK_IMPORTED_MODULE_1__.SdmPrinter.deviceType, _sdm_printer_js__WEBPACK_IMPORTED_MODULE_1__.SdmPrinter);\r\n_registerDeviceClass(_sdm_epd_js__WEBPACK_IMPORTED_MODULE_2__.SdmExternalPaymentDevice.deviceType, _sdm_epd_js__WEBPACK_IMPORTED_MODULE_2__.SdmExternalPaymentDevice);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1kZXZpY2UtZmFjdG9yeS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEO0FBQ0Q7QUFDVTtBQUN6RDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtRUFBMEIsRUFBRSx3REFBZTtBQUNoRSxxQkFBcUIsa0VBQXFCLEVBQUUsdURBQVU7QUFDdEQscUJBQXFCLDRFQUFtQyxFQUFFLGlFQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvc2RtLWRldmljZS1mYWN0b3J5LmpzPzAxZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2RtUmVhZGVyRGV2aWNlIH0gIGZyb20gJy4vc2RtLXJkci5qcyc7XHJcbmltcG9ydCB7IFNkbVByaW50ZXIgfSAgZnJvbSAnLi9zZG0tcHJpbnRlci5qcyc7XHJcbmltcG9ydCB7IFNkbUV4dGVybmFsUGF5bWVudERldmljZSB9ICBmcm9tICcuL3NkbS1lcGQuanMnO1xyXG5cclxuY29uc3QgREVWSUNFX0NMQVNTRVMgPSBuZXcgTWFwKCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmFjdG9yeUNyZWF0ZURldmljZUluc3RhbmNlKHBhcmFtcywgY29ubmVjdG9yKSB7XHJcbiAgbGV0IGNsYXp6ID0gREVWSUNFX0NMQVNTRVMuZ2V0KHBhcmFtcy5wbHVnaW5JbmZvLkRyaXZlclR5cGUpO1xyXG4gIFxyXG4gIGlmIChjbGF6eiA9PSBudWxsKVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkZXZpY2UgdHlwZTogXCIgKyBwYXJhbXMucGx1Z2luSW5mby5kZXZpY2VUeXBlKTtcclxuICBlbHNlXHJcbiAgICByZXR1cm4gbmV3IGNsYXp6KHBhcmFtcywgY29ubmVjdG9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX3JlZ2lzdGVyRGV2aWNlQ2xhc3MoZGV2aWNlVHlwZSwgY2xhenopIHtcclxuICBERVZJQ0VfQ0xBU1NFUy5zZXQoZGV2aWNlVHlwZSwgY2xhenopO1xyXG59XHJcblxyXG5fcmVnaXN0ZXJEZXZpY2VDbGFzcyhTZG1SZWFkZXJEZXZpY2UuZGV2aWNlVHlwZSwgU2RtUmVhZGVyRGV2aWNlKTtcclxuX3JlZ2lzdGVyRGV2aWNlQ2xhc3MoU2RtUHJpbnRlci5kZXZpY2VUeXBlLCBTZG1QcmludGVyKTtcclxuX3JlZ2lzdGVyRGV2aWNlQ2xhc3MoU2RtRXh0ZXJuYWxQYXltZW50RGV2aWNlLmRldmljZVR5cGUsIFNkbUV4dGVybmFsUGF5bWVudERldmljZSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../script/sdm-device-factory.js\n");

/***/ }),

/***/ "../script/sdm-device-manager.js":
/*!***************************************!*\
  !*** ../script/sdm-device-manager.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SDMDeviceManager\": () => (/* binding */ SDMDeviceManager)\n/* harmony export */ });\n/* harmony import */ var _common_script_device_manager_device_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/device-manager/device-manager */ \"../../../common-script/device-manager/device-manager.js\");\n/* harmony import */ var _sdm_device_factory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sdm-device-factory.js */ \"../script/sdm-device-factory.js\");\n/* harmony import */ var _mqtt_sdm_connection_mqtt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mqtt/sdm-connection-mqtt.js */ \"../script/mqtt/sdm-connection-mqtt.js\");\n/* harmony import */ var _sdm_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sdm-api.js */ \"../script/sdm-api.js\");\n\r\n\r\n\r\n\r\n  \r\nclass SDMDeviceManager extends _common_script_device_manager_device_manager__WEBPACK_IMPORTED_MODULE_0__.DeviceManagerBase {\r\n  #connectorCfg;\r\n  #connection;\r\n  \r\n  constructor() {\r\n    super(\"SnApp device manager\");\r\n  }\r\n \t\t\r\n  async init(workstation) { \r\n\t\tthis.workstation = workstation;\r\n\t\tlet connectorPluginInfo = this.#getConnectorPluginInfo(workstation.PluginList);\r\n\t\tawait this.#updateSdmEngineIfNeeded(workstation.PluginList, connectorPluginInfo);\r\n    this.#connectorCfg = this.#getConnectorCfg(workstation.PluginList);\r\n    this.#initializeManagerConnection(connectorPluginInfo);\r\n    await super.init(workstation);\r\n  }\r\n  \r\n  async #updateSdmEngineIfNeeded(pluginList, connectorPluginInfo) {\r\n\t\ttry {\r\n\t\t\tlet minRequiredVersionForSdm;\r\n\t\t\tlet sdmInfo = await _sdm_api_js__WEBPACK_IMPORTED_MODULE_3__.SdmAPI.getSdmRunningVersion();\r\n\t\t\tlet runningSdmVersion = sdmInfo.Version;\r\n\t\t\t\r\n\t\t\tif (connectorPluginInfo.PluginSettings) {\r\n\t\t\t\tlet brokerVersion = JSON.parse(connectorPluginInfo.PluginSettings).BrokerVersion;\r\n\t\t\t\tif (brokerVersion)\r\n\t\t\t\t\tminRequiredVersionForSdm = brokerVersion\t\t\t\t\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\tif (!minRequiredVersionForSdm) \r\n\t\t\t\t\tminRequiredVersionForSdm = _sdm_api_js__WEBPACK_IMPORTED_MODULE_3__.SdmAPI.getRequiredSdmVersionForArchitecture(pluginList, 'win32'); \t\t\t\r\n\r\n\t\t\tif (minRequiredVersionForSdm && !_sdm_api_js__WEBPACK_IMPORTED_MODULE_3__.SdmAPI.versionsAreCompatible(minRequiredVersionForSdm, runningSdmVersion))\r\n\t\t\t\tawait _sdm_api_js__WEBPACK_IMPORTED_MODULE_3__.SdmAPI.downloadAndInstallSdm(minRequiredVersionForSdm, 'win32');\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\tSNP_LOGGER.warn(null, null, \"SDM automatic update not available. Maybe you're using and old SDM version or SDM is off:\" + error);\r\n\t\t}\r\n\t}\r\n    \r\n  #getConnectorPluginInfo(pluginList) {\r\n\t\tlet connectorPlugin = pluginList.find(plg => plg.DriverType == 13);\r\n\t\tif (!connectorPlugin)\r\n\t\t\tthrow new Error('Device connector is not configured')\r\n\t\telse \r\n\t\t\treturn connectorPlugin;\r\n\t}\r\n  \r\n  #getConnectorCfg(pluginList) {\r\n    const found = pluginList.find(plg => plg.DriverType == 13);\r\n\r\n    let cfg;\r\n    if (!found || !found.PluginSettings || (found.PluginSettings === \"undefined\"))\r\n      cfg = {};\r\n    else\r\n      cfg = JSON.parse(found.PluginSettings);\r\n  \r\n    this.#setDefaultConfigValues(cfg);\r\n    return cfg;\r\n  }\r\n  \r\n  #setDefaultConfigValues(cfg) {\r\n    if (!cfg.BrokerURL)\r\n      cfg.BrokerURL = \"ws://localhost\";\r\n    if (!cfg.BrokerPort)\r\n      cfg.BrokerPort = 32726;\r\n    if (!cfg.BrokerVersion)\r\n      cfg.BrokerVersion = \"1.4\";\r\n  }\r\n  \r\n\r\n\t\r\n\tasync #downloadAndInstallPackageOnSdm(extensionPackageId, frameworkFileList) {\r\n\t\tSNP_LOGGER.debug(null, null, extensionPackageId + ' download started')\r\n\t\tlet packageAndFrameworkResponse = await KIOSK_CONTROLLER.snappAPI.downloadExtensionPackageAndFrameworks(extensionPackageId, frameworkFileList);\r\n\t\tSNP_LOGGER.debug(null, null, extensionPackageId + ' sending to SDM start')\r\n\t\tawait _sdm_api_js__WEBPACK_IMPORTED_MODULE_3__.SdmAPI.updatePackageOnSdm(packageAndFrameworkResponse);\r\n\t\tSNP_LOGGER.debug(null, null, extensionPackageId + ' sending to SDM end')\r\n\t}\r\n\t\r\n\t#isPluginInstalledOnSdm(classAlias, extensionPackageVersion, sdmPluginList) {\r\n\t\tfor (let sdmPlugin of sdmPluginList)\r\n\t\t\tif (sdmPlugin.class_alias === classAlias && sdmPlugin.package_version === extensionPackageVersion)\r\n\t\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\t\r\n  \r\n  async #updateSdmPackageIfNeeded(wksPlugin) {\r\n\t\ttry {\r\n\t\t\tlet sdmPluginList = await _sdm_api_js__WEBPACK_IMPORTED_MODULE_3__.SdmAPI.getSdmPluginList();\r\n\t\t\tif (sdmPluginList && wksPlugin) {\r\n\t\t\t\tlet classAlias = wksPlugin.DriverClassAlias;\r\n\t\t\t\tlet extensionPackageId = wksPlugin.ExtensionPackageId;\r\n\t\t\t\tlet extensionPackageVersion = wksPlugin.ExtensionPackageVersion;\r\n\t\t\t\t\r\n\t\t\t\tif (extensionPackageId && !this.#isPluginInstalledOnSdm(classAlias, extensionPackageVersion, sdmPluginList))\r\n\t\t\t\t\tawait this.#downloadAndInstallPackageOnSdm(extensionPackageId, wksPlugin.FrameworkFileList);\r\n\t\t\t}\t\t\t\r\n\t\t} catch(error) {\r\n\t\t\tSNP_LOGGER.warn(null, null, \"SDM automatic update not available. Maybe you're using and old SDM version or SDM is off:\" + error);\r\n\t\t}\r\n\t}  \r\n  \r\n  async _createDeviceInstance(params) {\r\n\t\tawait this.#updateSdmPackageIfNeeded(params.pluginInfo)\r\n\t\tlet result = params.pluginInfo.DriverSdm ? (0,_sdm_device_factory_js__WEBPACK_IMPORTED_MODULE_1__.factoryCreateDeviceInstance)(params, this) : null;\r\n\t\treturn result  \r\n  }\r\n  \r\n  #initializeManagerConnection(managerPluginInfo) {\r\n    if (this.#connection == null) {\r\n      this.#connection = this.#createManagerConnection(managerPluginInfo);\r\n      this.#connection.on(\"log-message\", payload => this.#onLog(payload));\r\n      this.#connection.connect();\r\n    } \r\n  }  \r\n  \r\n  #onLog(message) {\r\n\t\tSNP_LOGGER.log(message);\r\n\t}\r\n  \r\n\r\n  createDeviceConnection(devicePluginInfo) {\r\n    this.#initializeManagerConnection(this.#getConnectorPluginInfo(this.workstation.PluginList));\r\n    return this.createMQTTConnection(devicePluginInfo, this.#getClientId(devicePluginInfo), false);\r\n  }\r\n  \r\n  #createManagerConnection(managerPluginInfo) {\r\n    return this.createMQTTConnection(managerPluginInfo, this.#getClientId(managerPluginInfo), true);\r\n  }\r\n\r\n  #getClientId(pluginInfo) {\r\n    return \"cli_\" + pluginInfo.PluginId;         \r\n  }\r\n    \r\n  createMQTTConnection(pluginInfo, clientId, managerConnection) {  \r\n    let mqttCfg = {};\r\n    mqttCfg.brokerUrl               = this.#connectorCfg.BrokerURL + \":\" + this.#connectorCfg.BrokerPort;\r\n    mqttCfg.clientId                = clientId;\r\n    mqttCfg.connectionTimeout       = 3000;\r\n    mqttCfg.connectionRetryPeriod   = 5000;\r\n    mqttCfg.retryConnectionIfFails  = true;\r\n    mqttCfg.createPersistentSession = false;\r\n    mqttCfg.managerConnection     \t= managerConnection;\r\n\t\tmqttCfg.logConfig = this.workstation.LogConfig;\r\n\t\t\r\n\t\treturn new _mqtt_sdm_connection_mqtt_js__WEBPACK_IMPORTED_MODULE_2__.SdmConnectionMqtt(pluginInfo, mqttCfg);\r\n  }\r\n\r\n  close() {\r\n    //TODO\r\n  }\r\n  \r\n  mapDOPluginIntoDODeviceSdm(pluginInfo) {\r\n    let pluginSettings = pluginInfo.PluginSettings;\r\n    let driverSettings = pluginInfo.DriverSettings;\r\n    let mergedSettings = '';\r\n  \r\n    if (pluginSettings) \r\n      mergedSettings += pluginSettings;\r\n    \r\n    if (driverSettings) {\r\n      if (mergedSettings) {\r\n        let index = mergedSettings.lastIndexOf('}');\r\n        mergedSettings.delete(index, index);\r\n        mergedSettings.append(driverSettings.trim().substring(1));\r\n      } else {\r\n        mergedSettings.append(driverSettings);\r\n      }\r\n    }\r\n      \r\n    return {\r\n      DeviceAlias: pluginInfo.DeviceAlias,\r\n      DriverClassAlias: pluginInfo.DriverClassAlias,\r\n      DriverId: pluginInfo.DriverId,\r\n      DriverName: pluginInfo.DriverName,\r\n      DeviceEnabled: pluginInfo.PluginEnabled,\r\n      DeviceId: pluginInfo.PluginId,\r\n      DeviceName: pluginInfo.PluginName,\r\n      DriverType: pluginInfo.DriverType,\r\n      DeviceSettings: mergedSettings\r\n    };\r\n  }\r\n\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1kZXZpY2UtbWFuYWdlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFtRztBQUM3QjtBQUNKO0FBQzVCO0FBQ3RDO0FBQ08sK0JBQStCLDJGQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvRUFBMkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG9GQUEyQztBQUMzRTtBQUNBLG9DQUFvQyxxRUFBNEI7QUFDaEUsVUFBVSxxRUFBNEI7QUFDdEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrRUFBeUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUF1QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxtRkFBMkI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJFQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvc2RtLWRldmljZS1tYW5hZ2VyLmpzPzNlNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGV2aWNlTWFuYWdlckJhc2UsIENPTk5FQ1RPUl9TVEFUVVMgfSBmcm9tICdAY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kZXZpY2UtbWFuYWdlcic7XHJcbmltcG9ydCB7IGZhY3RvcnlDcmVhdGVEZXZpY2VJbnN0YW5jZSB9IGZyb20gJy4vc2RtLWRldmljZS1mYWN0b3J5LmpzJztcclxuaW1wb3J0IHsgU2RtQ29ubmVjdGlvbk1xdHQgfSBmcm9tICcuL21xdHQvc2RtLWNvbm5lY3Rpb24tbXF0dC5qcyc7XHJcbmltcG9ydCB7IFNkbUFQSSB9IGZyb20gJy4vc2RtLWFwaS5qcyc7XHJcbiAgXHJcbmV4cG9ydCBjbGFzcyBTRE1EZXZpY2VNYW5hZ2VyIGV4dGVuZHMgRGV2aWNlTWFuYWdlckJhc2Uge1xyXG4gICNjb25uZWN0b3JDZmc7XHJcbiAgI2Nvbm5lY3Rpb247XHJcbiAgXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcihcIlNuQXBwIGRldmljZSBtYW5hZ2VyXCIpO1xyXG4gIH1cclxuIFx0XHRcclxuICBhc3luYyBpbml0KHdvcmtzdGF0aW9uKSB7IFxyXG5cdFx0dGhpcy53b3Jrc3RhdGlvbiA9IHdvcmtzdGF0aW9uO1xyXG5cdFx0bGV0IGNvbm5lY3RvclBsdWdpbkluZm8gPSB0aGlzLiNnZXRDb25uZWN0b3JQbHVnaW5JbmZvKHdvcmtzdGF0aW9uLlBsdWdpbkxpc3QpO1xyXG5cdFx0YXdhaXQgdGhpcy4jdXBkYXRlU2RtRW5naW5lSWZOZWVkZWQod29ya3N0YXRpb24uUGx1Z2luTGlzdCwgY29ubmVjdG9yUGx1Z2luSW5mbyk7XHJcbiAgICB0aGlzLiNjb25uZWN0b3JDZmcgPSB0aGlzLiNnZXRDb25uZWN0b3JDZmcod29ya3N0YXRpb24uUGx1Z2luTGlzdCk7XHJcbiAgICB0aGlzLiNpbml0aWFsaXplTWFuYWdlckNvbm5lY3Rpb24oY29ubmVjdG9yUGx1Z2luSW5mbyk7XHJcbiAgICBhd2FpdCBzdXBlci5pbml0KHdvcmtzdGF0aW9uKTtcclxuICB9XHJcbiAgXHJcbiAgYXN5bmMgI3VwZGF0ZVNkbUVuZ2luZUlmTmVlZGVkKHBsdWdpbkxpc3QsIGNvbm5lY3RvclBsdWdpbkluZm8pIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGxldCBtaW5SZXF1aXJlZFZlcnNpb25Gb3JTZG07XHJcblx0XHRcdGxldCBzZG1JbmZvID0gYXdhaXQgU2RtQVBJLmdldFNkbVJ1bm5pbmdWZXJzaW9uKCk7XHJcblx0XHRcdGxldCBydW5uaW5nU2RtVmVyc2lvbiA9IHNkbUluZm8uVmVyc2lvbjtcclxuXHRcdFx0XHJcblx0XHRcdGlmIChjb25uZWN0b3JQbHVnaW5JbmZvLlBsdWdpblNldHRpbmdzKSB7XHJcblx0XHRcdFx0bGV0IGJyb2tlclZlcnNpb24gPSBKU09OLnBhcnNlKGNvbm5lY3RvclBsdWdpbkluZm8uUGx1Z2luU2V0dGluZ3MpLkJyb2tlclZlcnNpb247XHJcblx0XHRcdFx0aWYgKGJyb2tlclZlcnNpb24pXHJcblx0XHRcdFx0XHRtaW5SZXF1aXJlZFZlcnNpb25Gb3JTZG0gPSBicm9rZXJWZXJzaW9uXHRcdFx0XHRcclxuXHRcdFx0fSBcclxuXHRcdFx0XHJcblx0XHRcdGlmICghbWluUmVxdWlyZWRWZXJzaW9uRm9yU2RtKSBcclxuXHRcdFx0XHRcdG1pblJlcXVpcmVkVmVyc2lvbkZvclNkbSA9IFNkbUFQSS5nZXRSZXF1aXJlZFNkbVZlcnNpb25Gb3JBcmNoaXRlY3R1cmUocGx1Z2luTGlzdCwgJ3dpbjMyJyk7IFx0XHRcdFxyXG5cclxuXHRcdFx0aWYgKG1pblJlcXVpcmVkVmVyc2lvbkZvclNkbSAmJiAhU2RtQVBJLnZlcnNpb25zQXJlQ29tcGF0aWJsZShtaW5SZXF1aXJlZFZlcnNpb25Gb3JTZG0sIHJ1bm5pbmdTZG1WZXJzaW9uKSlcclxuXHRcdFx0XHRhd2FpdCBTZG1BUEkuZG93bmxvYWRBbmRJbnN0YWxsU2RtKG1pblJlcXVpcmVkVmVyc2lvbkZvclNkbSwgJ3dpbjMyJyk7XHRcdFx0XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRTTlBfTE9HR0VSLndhcm4obnVsbCwgbnVsbCwgXCJTRE0gYXV0b21hdGljIHVwZGF0ZSBub3QgYXZhaWxhYmxlLiBNYXliZSB5b3UncmUgdXNpbmcgYW5kIG9sZCBTRE0gdmVyc2lvbiBvciBTRE0gaXMgb2ZmOlwiICsgZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH1cclxuICAgIFxyXG4gICNnZXRDb25uZWN0b3JQbHVnaW5JbmZvKHBsdWdpbkxpc3QpIHtcclxuXHRcdGxldCBjb25uZWN0b3JQbHVnaW4gPSBwbHVnaW5MaXN0LmZpbmQocGxnID0+IHBsZy5Ecml2ZXJUeXBlID09IDEzKTtcclxuXHRcdGlmICghY29ubmVjdG9yUGx1Z2luKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0RldmljZSBjb25uZWN0b3IgaXMgbm90IGNvbmZpZ3VyZWQnKVxyXG5cdFx0ZWxzZSBcclxuXHRcdFx0cmV0dXJuIGNvbm5lY3RvclBsdWdpbjtcclxuXHR9XHJcbiAgXHJcbiAgI2dldENvbm5lY3RvckNmZyhwbHVnaW5MaXN0KSB7XHJcbiAgICBjb25zdCBmb3VuZCA9IHBsdWdpbkxpc3QuZmluZChwbGcgPT4gcGxnLkRyaXZlclR5cGUgPT0gMTMpO1xyXG5cclxuICAgIGxldCBjZmc7XHJcbiAgICBpZiAoIWZvdW5kIHx8ICFmb3VuZC5QbHVnaW5TZXR0aW5ncyB8fCAoZm91bmQuUGx1Z2luU2V0dGluZ3MgPT09IFwidW5kZWZpbmVkXCIpKVxyXG4gICAgICBjZmcgPSB7fTtcclxuICAgIGVsc2VcclxuICAgICAgY2ZnID0gSlNPTi5wYXJzZShmb3VuZC5QbHVnaW5TZXR0aW5ncyk7XHJcbiAgXHJcbiAgICB0aGlzLiNzZXREZWZhdWx0Q29uZmlnVmFsdWVzKGNmZyk7XHJcbiAgICByZXR1cm4gY2ZnO1xyXG4gIH1cclxuICBcclxuICAjc2V0RGVmYXVsdENvbmZpZ1ZhbHVlcyhjZmcpIHtcclxuICAgIGlmICghY2ZnLkJyb2tlclVSTClcclxuICAgICAgY2ZnLkJyb2tlclVSTCA9IFwid3M6Ly9sb2NhbGhvc3RcIjtcclxuICAgIGlmICghY2ZnLkJyb2tlclBvcnQpXHJcbiAgICAgIGNmZy5Ccm9rZXJQb3J0ID0gMzI3MjY7XHJcbiAgICBpZiAoIWNmZy5Ccm9rZXJWZXJzaW9uKVxyXG4gICAgICBjZmcuQnJva2VyVmVyc2lvbiA9IFwiMS40XCI7XHJcbiAgfVxyXG4gIFxyXG5cclxuXHRcclxuXHRhc3luYyAjZG93bmxvYWRBbmRJbnN0YWxsUGFja2FnZU9uU2RtKGV4dGVuc2lvblBhY2thZ2VJZCwgZnJhbWV3b3JrRmlsZUxpc3QpIHtcclxuXHRcdFNOUF9MT0dHRVIuZGVidWcobnVsbCwgbnVsbCwgZXh0ZW5zaW9uUGFja2FnZUlkICsgJyBkb3dubG9hZCBzdGFydGVkJylcclxuXHRcdGxldCBwYWNrYWdlQW5kRnJhbWV3b3JrUmVzcG9uc2UgPSBhd2FpdCBLSU9TS19DT05UUk9MTEVSLnNuYXBwQVBJLmRvd25sb2FkRXh0ZW5zaW9uUGFja2FnZUFuZEZyYW1ld29ya3MoZXh0ZW5zaW9uUGFja2FnZUlkLCBmcmFtZXdvcmtGaWxlTGlzdCk7XHJcblx0XHRTTlBfTE9HR0VSLmRlYnVnKG51bGwsIG51bGwsIGV4dGVuc2lvblBhY2thZ2VJZCArICcgc2VuZGluZyB0byBTRE0gc3RhcnQnKVxyXG5cdFx0YXdhaXQgU2RtQVBJLnVwZGF0ZVBhY2thZ2VPblNkbShwYWNrYWdlQW5kRnJhbWV3b3JrUmVzcG9uc2UpO1xyXG5cdFx0U05QX0xPR0dFUi5kZWJ1ZyhudWxsLCBudWxsLCBleHRlbnNpb25QYWNrYWdlSWQgKyAnIHNlbmRpbmcgdG8gU0RNIGVuZCcpXHJcblx0fVxyXG5cdFxyXG5cdCNpc1BsdWdpbkluc3RhbGxlZE9uU2RtKGNsYXNzQWxpYXMsIGV4dGVuc2lvblBhY2thZ2VWZXJzaW9uLCBzZG1QbHVnaW5MaXN0KSB7XHJcblx0XHRmb3IgKGxldCBzZG1QbHVnaW4gb2Ygc2RtUGx1Z2luTGlzdClcclxuXHRcdFx0aWYgKHNkbVBsdWdpbi5jbGFzc19hbGlhcyA9PT0gY2xhc3NBbGlhcyAmJiBzZG1QbHVnaW4ucGFja2FnZV92ZXJzaW9uID09PSBleHRlbnNpb25QYWNrYWdlVmVyc2lvbilcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHRcclxuICBcclxuICBhc3luYyAjdXBkYXRlU2RtUGFja2FnZUlmTmVlZGVkKHdrc1BsdWdpbikge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IHNkbVBsdWdpbkxpc3QgPSBhd2FpdCBTZG1BUEkuZ2V0U2RtUGx1Z2luTGlzdCgpO1xyXG5cdFx0XHRpZiAoc2RtUGx1Z2luTGlzdCAmJiB3a3NQbHVnaW4pIHtcclxuXHRcdFx0XHRsZXQgY2xhc3NBbGlhcyA9IHdrc1BsdWdpbi5Ecml2ZXJDbGFzc0FsaWFzO1xyXG5cdFx0XHRcdGxldCBleHRlbnNpb25QYWNrYWdlSWQgPSB3a3NQbHVnaW4uRXh0ZW5zaW9uUGFja2FnZUlkO1xyXG5cdFx0XHRcdGxldCBleHRlbnNpb25QYWNrYWdlVmVyc2lvbiA9IHdrc1BsdWdpbi5FeHRlbnNpb25QYWNrYWdlVmVyc2lvbjtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoZXh0ZW5zaW9uUGFja2FnZUlkICYmICF0aGlzLiNpc1BsdWdpbkluc3RhbGxlZE9uU2RtKGNsYXNzQWxpYXMsIGV4dGVuc2lvblBhY2thZ2VWZXJzaW9uLCBzZG1QbHVnaW5MaXN0KSlcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuI2Rvd25sb2FkQW5kSW5zdGFsbFBhY2thZ2VPblNkbShleHRlbnNpb25QYWNrYWdlSWQsIHdrc1BsdWdpbi5GcmFtZXdvcmtGaWxlTGlzdCk7XHJcblx0XHRcdH1cdFx0XHRcclxuXHRcdH0gY2F0Y2goZXJyb3IpIHtcclxuXHRcdFx0U05QX0xPR0dFUi53YXJuKG51bGwsIG51bGwsIFwiU0RNIGF1dG9tYXRpYyB1cGRhdGUgbm90IGF2YWlsYWJsZS4gTWF5YmUgeW91J3JlIHVzaW5nIGFuZCBvbGQgU0RNIHZlcnNpb24gb3IgU0RNIGlzIG9mZjpcIiArIGVycm9yKTtcclxuXHRcdH1cclxuXHR9ICBcclxuICBcclxuICBhc3luYyBfY3JlYXRlRGV2aWNlSW5zdGFuY2UocGFyYW1zKSB7XHJcblx0XHRhd2FpdCB0aGlzLiN1cGRhdGVTZG1QYWNrYWdlSWZOZWVkZWQocGFyYW1zLnBsdWdpbkluZm8pXHJcblx0XHRsZXQgcmVzdWx0ID0gcGFyYW1zLnBsdWdpbkluZm8uRHJpdmVyU2RtID8gZmFjdG9yeUNyZWF0ZURldmljZUluc3RhbmNlKHBhcmFtcywgdGhpcykgOiBudWxsO1xyXG5cdFx0cmV0dXJuIHJlc3VsdCAgXHJcbiAgfVxyXG4gIFxyXG4gICNpbml0aWFsaXplTWFuYWdlckNvbm5lY3Rpb24obWFuYWdlclBsdWdpbkluZm8pIHtcclxuICAgIGlmICh0aGlzLiNjb25uZWN0aW9uID09IG51bGwpIHtcclxuICAgICAgdGhpcy4jY29ubmVjdGlvbiA9IHRoaXMuI2NyZWF0ZU1hbmFnZXJDb25uZWN0aW9uKG1hbmFnZXJQbHVnaW5JbmZvKTtcclxuICAgICAgdGhpcy4jY29ubmVjdGlvbi5vbihcImxvZy1tZXNzYWdlXCIsIHBheWxvYWQgPT4gdGhpcy4jb25Mb2cocGF5bG9hZCkpO1xyXG4gICAgICB0aGlzLiNjb25uZWN0aW9uLmNvbm5lY3QoKTtcclxuICAgIH0gXHJcbiAgfSAgXHJcbiAgXHJcbiAgI29uTG9nKG1lc3NhZ2UpIHtcclxuXHRcdFNOUF9MT0dHRVIubG9nKG1lc3NhZ2UpO1xyXG5cdH1cclxuICBcclxuXHJcbiAgY3JlYXRlRGV2aWNlQ29ubmVjdGlvbihkZXZpY2VQbHVnaW5JbmZvKSB7XHJcbiAgICB0aGlzLiNpbml0aWFsaXplTWFuYWdlckNvbm5lY3Rpb24odGhpcy4jZ2V0Q29ubmVjdG9yUGx1Z2luSW5mbyh0aGlzLndvcmtzdGF0aW9uLlBsdWdpbkxpc3QpKTtcclxuICAgIHJldHVybiB0aGlzLmNyZWF0ZU1RVFRDb25uZWN0aW9uKGRldmljZVBsdWdpbkluZm8sIHRoaXMuI2dldENsaWVudElkKGRldmljZVBsdWdpbkluZm8pLCBmYWxzZSk7XHJcbiAgfVxyXG4gIFxyXG4gICNjcmVhdGVNYW5hZ2VyQ29ubmVjdGlvbihtYW5hZ2VyUGx1Z2luSW5mbykge1xyXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlTVFUVENvbm5lY3Rpb24obWFuYWdlclBsdWdpbkluZm8sIHRoaXMuI2dldENsaWVudElkKG1hbmFnZXJQbHVnaW5JbmZvKSwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICAjZ2V0Q2xpZW50SWQocGx1Z2luSW5mbykge1xyXG4gICAgcmV0dXJuIFwiY2xpX1wiICsgcGx1Z2luSW5mby5QbHVnaW5JZDsgICAgICAgICBcclxuICB9XHJcbiAgICBcclxuICBjcmVhdGVNUVRUQ29ubmVjdGlvbihwbHVnaW5JbmZvLCBjbGllbnRJZCwgbWFuYWdlckNvbm5lY3Rpb24pIHsgIFxyXG4gICAgbGV0IG1xdHRDZmcgPSB7fTtcclxuICAgIG1xdHRDZmcuYnJva2VyVXJsICAgICAgICAgICAgICAgPSB0aGlzLiNjb25uZWN0b3JDZmcuQnJva2VyVVJMICsgXCI6XCIgKyB0aGlzLiNjb25uZWN0b3JDZmcuQnJva2VyUG9ydDtcclxuICAgIG1xdHRDZmcuY2xpZW50SWQgICAgICAgICAgICAgICAgPSBjbGllbnRJZDtcclxuICAgIG1xdHRDZmcuY29ubmVjdGlvblRpbWVvdXQgICAgICAgPSAzMDAwO1xyXG4gICAgbXF0dENmZy5jb25uZWN0aW9uUmV0cnlQZXJpb2QgICA9IDUwMDA7XHJcbiAgICBtcXR0Q2ZnLnJldHJ5Q29ubmVjdGlvbklmRmFpbHMgID0gdHJ1ZTtcclxuICAgIG1xdHRDZmcuY3JlYXRlUGVyc2lzdGVudFNlc3Npb24gPSBmYWxzZTtcclxuICAgIG1xdHRDZmcubWFuYWdlckNvbm5lY3Rpb24gICAgIFx0PSBtYW5hZ2VyQ29ubmVjdGlvbjtcclxuXHRcdG1xdHRDZmcubG9nQ29uZmlnID0gdGhpcy53b3Jrc3RhdGlvbi5Mb2dDb25maWc7XHJcblx0XHRcclxuXHRcdHJldHVybiBuZXcgU2RtQ29ubmVjdGlvbk1xdHQocGx1Z2luSW5mbywgbXF0dENmZyk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIC8vVE9ET1xyXG4gIH1cclxuICBcclxuICBtYXBET1BsdWdpbkludG9ET0RldmljZVNkbShwbHVnaW5JbmZvKSB7XHJcbiAgICBsZXQgcGx1Z2luU2V0dGluZ3MgPSBwbHVnaW5JbmZvLlBsdWdpblNldHRpbmdzO1xyXG4gICAgbGV0IGRyaXZlclNldHRpbmdzID0gcGx1Z2luSW5mby5Ecml2ZXJTZXR0aW5ncztcclxuICAgIGxldCBtZXJnZWRTZXR0aW5ncyA9ICcnO1xyXG4gIFxyXG4gICAgaWYgKHBsdWdpblNldHRpbmdzKSBcclxuICAgICAgbWVyZ2VkU2V0dGluZ3MgKz0gcGx1Z2luU2V0dGluZ3M7XHJcbiAgICBcclxuICAgIGlmIChkcml2ZXJTZXR0aW5ncykge1xyXG4gICAgICBpZiAobWVyZ2VkU2V0dGluZ3MpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSBtZXJnZWRTZXR0aW5ncy5sYXN0SW5kZXhPZignfScpO1xyXG4gICAgICAgIG1lcmdlZFNldHRpbmdzLmRlbGV0ZShpbmRleCwgaW5kZXgpO1xyXG4gICAgICAgIG1lcmdlZFNldHRpbmdzLmFwcGVuZChkcml2ZXJTZXR0aW5ncy50cmltKCkuc3Vic3RyaW5nKDEpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtZXJnZWRTZXR0aW5ncy5hcHBlbmQoZHJpdmVyU2V0dGluZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgRGV2aWNlQWxpYXM6IHBsdWdpbkluZm8uRGV2aWNlQWxpYXMsXHJcbiAgICAgIERyaXZlckNsYXNzQWxpYXM6IHBsdWdpbkluZm8uRHJpdmVyQ2xhc3NBbGlhcyxcclxuICAgICAgRHJpdmVySWQ6IHBsdWdpbkluZm8uRHJpdmVySWQsXHJcbiAgICAgIERyaXZlck5hbWU6IHBsdWdpbkluZm8uRHJpdmVyTmFtZSxcclxuICAgICAgRGV2aWNlRW5hYmxlZDogcGx1Z2luSW5mby5QbHVnaW5FbmFibGVkLFxyXG4gICAgICBEZXZpY2VJZDogcGx1Z2luSW5mby5QbHVnaW5JZCxcclxuICAgICAgRGV2aWNlTmFtZTogcGx1Z2luSW5mby5QbHVnaW5OYW1lLFxyXG4gICAgICBEcml2ZXJUeXBlOiBwbHVnaW5JbmZvLkRyaXZlclR5cGUsXHJcbiAgICAgIERldmljZVNldHRpbmdzOiBtZXJnZWRTZXR0aW5nc1xyXG4gICAgfTtcclxuICB9XHJcblxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../script/sdm-device-manager.js\n");

/***/ }),

/***/ "../script/sdm-epd.js":
/*!****************************!*\
  !*** ../script/sdm-epd.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmExternalPaymentDevice\": () => (/* binding */ SdmExternalPaymentDevice)\n/* harmony export */ });\n/* harmony import */ var _common_script_device_manager_dm_payment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/device-manager/dm-payment */ \"../../../common-script/device-manager/dm-payment.js\");\n/* harmony import */ var _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-script/device-manager/dm-model */ \"../../../common-script/device-manager/dm-model.js\");\n/* harmony import */ var _common_script_errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @common-script/errors */ \"../../../common-script/errors.js\");\n\r\n\r\n\r\n\r\nclass SdmExternalPaymentDevice extends _common_script_device_manager_dm_payment__WEBPACK_IMPORTED_MODULE_0__.DMPayment {\r\n  #connection;\r\n\r\n  static get deviceType() {\r\n    return _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.EXT_PAY_DEVICE;\r\n  }\r\n\r\n  constructor(params, sdmConnector) {\r\n    super(params);\r\n    this.#connection = sdmConnector.createDeviceConnection(params.pluginInfo);\r\n\r\n    this.#connection.on(\"connection\",        payload => this.#onConnection(payload));\r\n    this.#connection.on(\"connection-status\", payload => this.#onConnectionStatus(payload));\r\n    this.#connection.on(\"device-status\",     payload => this.#onDeviceStatus(payload));\r\n\r\n    this.#connection.connect();\r\n  }\r\n  \r\n  #onConnection(payload) {    \r\n    if (this.#connection.isConnected())\r\n\t\t\tthis.setDeviceStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_STATUS.READY);\r\n  }\r\n  \r\n  #onConnectionStatus(payload) {\r\n\t  this.setError(payload.statusDescription);\r\n  }\r\n  \r\n  #onDeviceStatus(payload) {\r\n    let plgStatus = _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.PLUGIN_STATUS[payload.Description.toUpperCase()];\r\n    if (plgStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.PLUGIN_STATUS.ACTIVE)\r\n    \tthis.setDeviceStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_STATUS.READY);\r\n    else\r\n    \tthis.setError(payload.Details);\r\n  } \r\n\t\r\n  pay(currency, amount, transactionRef, deviceAlias) {\r\n\t  \r\n    let request = {\r\n      Amount: this._pluginInfo.PluginSettings.TestMode ? 0.01 : amount,\r\n      ISOCode: currency.ISOCode,\r\n      RoundDecimals: currency.RoundDecimals,\r\n      TDSSN: transactionRef,\r\n      DeviceAlias: deviceAlias\r\n    };\r\n    \r\n    return this.#connection.sendCommand(\"process_payment\", request, this._transactionTimeout)\r\n\t\t\t\t.then(response => this.#cardAuthorized(response));\r\n  }\r\n\t\t \r\n  void(currency, salePayment, transactionRef, deviceAlias) {\r\n\t  let request = {\r\n      Amount: salePayment.PaymentAmount,\r\n      ISOCode: currency.ISOCode,\r\n      RoundDecimals: currency.RoundDecimals,\r\n      TDSSN: transactionRef,\r\n      DeviceAlias: deviceAlias,\r\n      CardData: salePayment.CreditCard,\r\n      PaymentDataList: salePayment.PaymentDataList\r\n    };\r\n    \r\n    return this.#connection.sendCommand(\"void_payment\", request, this._transactionTimeout)\r\n\t\t\t\t.then(response => this.#cardAuthorized(response));\r\n\t}\r\n\t\r\n\trefund(currency, amount, transactionRef, deviceAlias) {\r\n\t  let request = {\r\n      Amount: amount,\r\n      ISOCode: currency.ISOCode,\r\n      RoundDecimals: currency.RoundDecimals,\r\n      TDSSN: transactionRef,\r\n      DeviceAlias: deviceAlias\r\n    };\r\n    \r\n    return this.#connection.sendCommand(\"refund_payment\", request, this._transactionTimeout)\r\n\t\t\t\t.then(response => this.#cardAuthorized(response));\r\n\t}\r\n\t\r\n\t#cardAuthorized(response) {\r\n\r\n\t  if (!response)\r\n\t    throw new Error(\"Missing payment response\");\r\n\r\n\t\tif (response.ResultCode == 0)\r\n\t\t\treturn response.PaymentResult;\r\n\t\t\r\n\t\tif (response.ResultCode == 2) {\r\n\t\t\tif (response.PaymentResult)\r\n\t\t\t\tthrow new _common_script_errors__WEBPACK_IMPORTED_MODULE_2__.ECCPaymentError(response.ResultDescription, _common_script_errors__WEBPACK_IMPORTED_MODULE_2__.PAYMENT_ERROR.FAILED, response.PaymentResult);\r\n\t\t\telse\r\n\t      throw new _common_script_errors__WEBPACK_IMPORTED_MODULE_2__.ECCPaymentError(response.errorCode, _common_script_errors__WEBPACK_IMPORTED_MODULE_2__.PAYMENT_ERROR.ABORT);\r\n\t\t}\r\n\t\t\r\n\t\tthrow new _common_script_errors__WEBPACK_IMPORTED_MODULE_2__.ECCPaymentError(response.ResultDescription, _common_script_errors__WEBPACK_IMPORTED_MODULE_2__.PAYMENT_ERROR.FAILED);\r\n\t}\r\n\r\n \tasync performMaintenance() {\r\n    return this.#connection.sendCommand(\"perform_maintenance\", {}, this._transactionTimeout);\r\n\t}\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1lcGQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRTtBQUM4QjtBQUM1QjtBQUN2RTtBQUNPLHVDQUF1QywrRUFBUztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhGQUEwQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUZBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlGQUFhO0FBQ2pDLHNCQUFzQix3RkFBb0I7QUFDMUMsMEJBQTBCLHVGQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRUFBZSw2QkFBNkIsdUVBQW9CO0FBQzlFO0FBQ0EsaUJBQWlCLGtFQUFlLHFCQUFxQixzRUFBbUI7QUFDeEU7QUFDQTtBQUNBLFlBQVksa0VBQWUsNkJBQTZCLHVFQUFvQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvc2RtLWVwZC5qcz83NDM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERNUGF5bWVudCB9IGZyb20gJ0Bjb21tb24tc2NyaXB0L2RldmljZS1tYW5hZ2VyL2RtLXBheW1lbnQnO1xyXG5pbXBvcnQgeyBERVZJQ0VfU1RBVFVTLCBQTFVHSU5fU1RBVFVTLCBERVZJQ0VfVFlQRSB9IGZyb20gJ0Bjb21tb24tc2NyaXB0L2RldmljZS1tYW5hZ2VyL2RtLW1vZGVsJztcclxuaW1wb3J0IHsgRUNDUGF5bWVudEVycm9yLCBQQVlNRU5UX0VSUk9SIH0gZnJvbSAnQGNvbW1vbi1zY3JpcHQvZXJyb3JzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZG1FeHRlcm5hbFBheW1lbnREZXZpY2UgZXh0ZW5kcyBETVBheW1lbnQge1xyXG4gICNjb25uZWN0aW9uO1xyXG5cclxuICBzdGF0aWMgZ2V0IGRldmljZVR5cGUoKSB7XHJcbiAgICByZXR1cm4gREVWSUNFX1RZUEUuRVhUX1BBWV9ERVZJQ0U7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbXMsIHNkbUNvbm5lY3Rvcikge1xyXG4gICAgc3VwZXIocGFyYW1zKTtcclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24gPSBzZG1Db25uZWN0b3IuY3JlYXRlRGV2aWNlQ29ubmVjdGlvbihwYXJhbXMucGx1Z2luSW5mbyk7XHJcblxyXG4gICAgdGhpcy4jY29ubmVjdGlvbi5vbihcImNvbm5lY3Rpb25cIiwgICAgICAgIHBheWxvYWQgPT4gdGhpcy4jb25Db25uZWN0aW9uKHBheWxvYWQpKTtcclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24ub24oXCJjb25uZWN0aW9uLXN0YXR1c1wiLCBwYXlsb2FkID0+IHRoaXMuI29uQ29ubmVjdGlvblN0YXR1cyhwYXlsb2FkKSk7XHJcbiAgICB0aGlzLiNjb25uZWN0aW9uLm9uKFwiZGV2aWNlLXN0YXR1c1wiLCAgICAgcGF5bG9hZCA9PiB0aGlzLiNvbkRldmljZVN0YXR1cyhwYXlsb2FkKSk7XHJcblxyXG4gICAgdGhpcy4jY29ubmVjdGlvbi5jb25uZWN0KCk7XHJcbiAgfVxyXG4gIFxyXG4gICNvbkNvbm5lY3Rpb24ocGF5bG9hZCkgeyAgICBcclxuICAgIGlmICh0aGlzLiNjb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkpXHJcblx0XHRcdHRoaXMuc2V0RGV2aWNlU3RhdHVzKERFVklDRV9TVEFUVVMuUkVBRFkpO1xyXG4gIH1cclxuICBcclxuICAjb25Db25uZWN0aW9uU3RhdHVzKHBheWxvYWQpIHtcclxuXHQgIHRoaXMuc2V0RXJyb3IocGF5bG9hZC5zdGF0dXNEZXNjcmlwdGlvbik7XHJcbiAgfVxyXG4gIFxyXG4gICNvbkRldmljZVN0YXR1cyhwYXlsb2FkKSB7XHJcbiAgICBsZXQgcGxnU3RhdHVzID0gUExVR0lOX1NUQVRVU1twYXlsb2FkLkRlc2NyaXB0aW9uLnRvVXBwZXJDYXNlKCldO1xyXG4gICAgaWYgKHBsZ1N0YXR1cyA9PT0gUExVR0lOX1NUQVRVUy5BQ1RJVkUpXHJcbiAgICBcdHRoaXMuc2V0RGV2aWNlU3RhdHVzKERFVklDRV9TVEFUVVMuUkVBRFkpO1xyXG4gICAgZWxzZVxyXG4gICAgXHR0aGlzLnNldEVycm9yKHBheWxvYWQuRGV0YWlscyk7XHJcbiAgfSBcclxuXHRcclxuICBwYXkoY3VycmVuY3ksIGFtb3VudCwgdHJhbnNhY3Rpb25SZWYsIGRldmljZUFsaWFzKSB7XHJcblx0ICBcclxuICAgIGxldCByZXF1ZXN0ID0ge1xyXG4gICAgICBBbW91bnQ6IHRoaXMuX3BsdWdpbkluZm8uUGx1Z2luU2V0dGluZ3MuVGVzdE1vZGUgPyAwLjAxIDogYW1vdW50LFxyXG4gICAgICBJU09Db2RlOiBjdXJyZW5jeS5JU09Db2RlLFxyXG4gICAgICBSb3VuZERlY2ltYWxzOiBjdXJyZW5jeS5Sb3VuZERlY2ltYWxzLFxyXG4gICAgICBURFNTTjogdHJhbnNhY3Rpb25SZWYsXHJcbiAgICAgIERldmljZUFsaWFzOiBkZXZpY2VBbGlhc1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHRoaXMuI2Nvbm5lY3Rpb24uc2VuZENvbW1hbmQoXCJwcm9jZXNzX3BheW1lbnRcIiwgcmVxdWVzdCwgdGhpcy5fdHJhbnNhY3Rpb25UaW1lb3V0KVxyXG5cdFx0XHRcdC50aGVuKHJlc3BvbnNlID0+IHRoaXMuI2NhcmRBdXRob3JpemVkKHJlc3BvbnNlKSk7XHJcbiAgfVxyXG5cdFx0IFxyXG4gIHZvaWQoY3VycmVuY3ksIHNhbGVQYXltZW50LCB0cmFuc2FjdGlvblJlZiwgZGV2aWNlQWxpYXMpIHtcclxuXHQgIGxldCByZXF1ZXN0ID0ge1xyXG4gICAgICBBbW91bnQ6IHNhbGVQYXltZW50LlBheW1lbnRBbW91bnQsXHJcbiAgICAgIElTT0NvZGU6IGN1cnJlbmN5LklTT0NvZGUsXHJcbiAgICAgIFJvdW5kRGVjaW1hbHM6IGN1cnJlbmN5LlJvdW5kRGVjaW1hbHMsXHJcbiAgICAgIFREU1NOOiB0cmFuc2FjdGlvblJlZixcclxuICAgICAgRGV2aWNlQWxpYXM6IGRldmljZUFsaWFzLFxyXG4gICAgICBDYXJkRGF0YTogc2FsZVBheW1lbnQuQ3JlZGl0Q2FyZCxcclxuICAgICAgUGF5bWVudERhdGFMaXN0OiBzYWxlUGF5bWVudC5QYXltZW50RGF0YUxpc3RcclxuICAgIH07XHJcbiAgICBcclxuICAgIHJldHVybiB0aGlzLiNjb25uZWN0aW9uLnNlbmRDb21tYW5kKFwidm9pZF9wYXltZW50XCIsIHJlcXVlc3QsIHRoaXMuX3RyYW5zYWN0aW9uVGltZW91dClcclxuXHRcdFx0XHQudGhlbihyZXNwb25zZSA9PiB0aGlzLiNjYXJkQXV0aG9yaXplZChyZXNwb25zZSkpO1xyXG5cdH1cclxuXHRcclxuXHRyZWZ1bmQoY3VycmVuY3ksIGFtb3VudCwgdHJhbnNhY3Rpb25SZWYsIGRldmljZUFsaWFzKSB7XHJcblx0ICBsZXQgcmVxdWVzdCA9IHtcclxuICAgICAgQW1vdW50OiBhbW91bnQsXHJcbiAgICAgIElTT0NvZGU6IGN1cnJlbmN5LklTT0NvZGUsXHJcbiAgICAgIFJvdW5kRGVjaW1hbHM6IGN1cnJlbmN5LlJvdW5kRGVjaW1hbHMsXHJcbiAgICAgIFREU1NOOiB0cmFuc2FjdGlvblJlZixcclxuICAgICAgRGV2aWNlQWxpYXM6IGRldmljZUFsaWFzXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICByZXR1cm4gdGhpcy4jY29ubmVjdGlvbi5zZW5kQ29tbWFuZChcInJlZnVuZF9wYXltZW50XCIsIHJlcXVlc3QsIHRoaXMuX3RyYW5zYWN0aW9uVGltZW91dClcclxuXHRcdFx0XHQudGhlbihyZXNwb25zZSA9PiB0aGlzLiNjYXJkQXV0aG9yaXplZChyZXNwb25zZSkpO1xyXG5cdH1cclxuXHRcclxuXHQjY2FyZEF1dGhvcml6ZWQocmVzcG9uc2UpIHtcclxuXHJcblx0ICBpZiAoIXJlc3BvbnNlKVxyXG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHBheW1lbnQgcmVzcG9uc2VcIik7XHJcblxyXG5cdFx0aWYgKHJlc3BvbnNlLlJlc3VsdENvZGUgPT0gMClcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLlBheW1lbnRSZXN1bHQ7XHJcblx0XHRcclxuXHRcdGlmIChyZXNwb25zZS5SZXN1bHRDb2RlID09IDIpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlLlBheW1lbnRSZXN1bHQpXHJcblx0XHRcdFx0dGhyb3cgbmV3IEVDQ1BheW1lbnRFcnJvcihyZXNwb25zZS5SZXN1bHREZXNjcmlwdGlvbiwgUEFZTUVOVF9FUlJPUi5GQUlMRUQsIHJlc3BvbnNlLlBheW1lbnRSZXN1bHQpO1xyXG5cdFx0XHRlbHNlXHJcblx0ICAgICAgdGhyb3cgbmV3IEVDQ1BheW1lbnRFcnJvcihyZXNwb25zZS5lcnJvckNvZGUsIFBBWU1FTlRfRVJST1IuQUJPUlQpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHR0aHJvdyBuZXcgRUNDUGF5bWVudEVycm9yKHJlc3BvbnNlLlJlc3VsdERlc2NyaXB0aW9uLCBQQVlNRU5UX0VSUk9SLkZBSUxFRCk7XHJcblx0fVxyXG5cclxuIFx0YXN5bmMgcGVyZm9ybU1haW50ZW5hbmNlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuI2Nvbm5lY3Rpb24uc2VuZENvbW1hbmQoXCJwZXJmb3JtX21haW50ZW5hbmNlXCIsIHt9LCB0aGlzLl90cmFuc2FjdGlvblRpbWVvdXQpO1xyXG5cdH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../script/sdm-epd.js\n");

/***/ }),

/***/ "../script/sdm-event-dispatcher.js":
/*!*****************************************!*\
  !*** ../script/sdm-event-dispatcher.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmEventDispatcher\": () => (/* binding */ SdmEventDispatcher)\n/* harmony export */ });\n\r\n\r\nclass SdmEventDispatcher {\r\n  #eventListenerMap = new Map();\r\n  \r\n  registerEventListener(eventName, listener) {\r\n    this.#eventListenerMap.set(eventName, listener); \r\n  }\r\n  \r\n  findListener(eventName) {\r\n    return this.#eventListenerMap.get(eventName);\r\n  }\r\n  \r\n  dispatchEvent(eventName, payload) {\r\n    let listener = this.findListener(eventName);\r\n    if (listener)\r\n      listener(payload);\r\n  }\r\n\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1ldmVudC1kaXNwYXRjaGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2aWNlLW1hbmFnZXItc2RtLy4uL3NjcmlwdC9zZG0tZXZlbnQtZGlzcGF0Y2hlci5qcz85Njc4Il0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuZXhwb3J0IGNsYXNzIFNkbUV2ZW50RGlzcGF0Y2hlciB7XHJcbiAgI2V2ZW50TGlzdGVuZXJNYXAgPSBuZXcgTWFwKCk7XHJcbiAgXHJcbiAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcclxuICAgIHRoaXMuI2V2ZW50TGlzdGVuZXJNYXAuc2V0KGV2ZW50TmFtZSwgbGlzdGVuZXIpOyBcclxuICB9XHJcbiAgXHJcbiAgZmluZExpc3RlbmVyKGV2ZW50TmFtZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuI2V2ZW50TGlzdGVuZXJNYXAuZ2V0KGV2ZW50TmFtZSk7XHJcbiAgfVxyXG4gIFxyXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnROYW1lLCBwYXlsb2FkKSB7XHJcbiAgICBsZXQgbGlzdGVuZXIgPSB0aGlzLmZpbmRMaXN0ZW5lcihldmVudE5hbWUpO1xyXG4gICAgaWYgKGxpc3RlbmVyKVxyXG4gICAgICBsaXN0ZW5lcihwYXlsb2FkKTtcclxuICB9XHJcblxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../script/sdm-event-dispatcher.js\n");

/***/ }),

/***/ "../script/sdm-event-listener.js":
/*!***************************************!*\
  !*** ../script/sdm-event-listener.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmEventListener\": () => (/* binding */ SdmEventListener)\n/* harmony export */ });\n\r\n\r\nclass SdmEventListener {\r\n  #payloadClass;\r\n  #eventConsumer;\r\n\r\n  constructor(payloadClass, eventConsumer) {\r\n    this.#payloadClass = payloadClass;\r\n    this.#eventConsumer = eventConsumer;   \r\n  }\r\n\r\n  dispatch(payloadJSON) {\r\n    if (payloadJSON != null)\r\n      eventConsumer.accept(payloadJSON);\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1ldmVudC1saXN0ZW5lci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vc2NyaXB0L3NkbS1ldmVudC1saXN0ZW5lci5qcz8xOGRmIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuZXhwb3J0IGNsYXNzIFNkbUV2ZW50TGlzdGVuZXIge1xyXG4gICNwYXlsb2FkQ2xhc3M7XHJcbiAgI2V2ZW50Q29uc3VtZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBheWxvYWRDbGFzcywgZXZlbnRDb25zdW1lcikge1xyXG4gICAgdGhpcy4jcGF5bG9hZENsYXNzID0gcGF5bG9hZENsYXNzO1xyXG4gICAgdGhpcy4jZXZlbnRDb25zdW1lciA9IGV2ZW50Q29uc3VtZXI7ICAgXHJcbiAgfVxyXG5cclxuICBkaXNwYXRjaChwYXlsb2FkSlNPTikge1xyXG4gICAgaWYgKHBheWxvYWRKU09OICE9IG51bGwpXHJcbiAgICAgIGV2ZW50Q29uc3VtZXIuYWNjZXB0KHBheWxvYWRKU09OKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../script/sdm-event-listener.js\n");

/***/ }),

/***/ "../script/sdm-main.js":
/*!*****************************!*\
  !*** ../script/sdm-main.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sdm_device_manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sdm-device-manager.js */ \"../script/sdm-device-manager.js\");\n\r\n\r\nwindow.DEVICE_MANAGER = new _sdm_device_manager_js__WEBPACK_IMPORTED_MODULE_0__.SDMDeviceManager();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1tYWluLmpzLmpzIiwibWFwcGluZ3MiOiI7O0FBQTJEO0FBQzNEO0FBQ0EsNEJBQTRCLG9FQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvc2RtLW1haW4uanM/MTNlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTRE1EZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9zZG0tZGV2aWNlLW1hbmFnZXIuanMnO1xyXG5cclxud2luZG93LkRFVklDRV9NQU5BR0VSID0gbmV3IFNETURldmljZU1hbmFnZXIoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../script/sdm-main.js\n");

/***/ }),

/***/ "../script/sdm-message-dispatcher.js":
/*!*******************************************!*\
  !*** ../script/sdm-message-dispatcher.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmMessageDispatcher\": () => (/* binding */ SdmMessageDispatcher)\n/* harmony export */ });\n/* harmony import */ var _common_script_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/utils */ \"../../../common-script/utils.js\");\n/* harmony import */ var _sdm_message_handler_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sdm-message-handler.js */ \"../script/sdm-message-handler.js\");\n\r\n\r\n\r\nclass SdmMessageDispatcher {\r\n  #brokerMessageHandlers = new Set();\r\n\r\n\taddBrokerMessageHandler(messageIdentifierFnc, processFnc) {\r\n    let handler = new _sdm_message_handler_js__WEBPACK_IMPORTED_MODULE_1__.SdmMessageHandler(messageIdentifierFnc, processFnc);\r\n    this.#brokerMessageHandlers.add(handler);\r\n    return handler;\r\n  }\r\n  \r\n  clearHandlers() {\r\n    this.#brokerMessageHandlers.clear();\r\n  }\r\n  \r\n  dispatchMessage(message) {\r\n\t  let found = false;\r\n\t  for (const handler of this.#brokerMessageHandlers) {\r\n\t\t  if (handler.handlesThisMessage(message)) {\r\n\t\t  \thandler.processMessage(message);\r\n\t\t  \tfound = true;\r\n\t\t  }\r\n\t  }\r\n\t  \r\n\t  if (!found)\r\n\t  \tSNP_LOGGER.error(null, null, \"No handler found for this message:\\n\" + _common_script_utils__WEBPACK_IMPORTED_MODULE_0__.Utils.beautifyJSONString(message.body.message));\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1tZXNzYWdlLWRpc3BhdGNoZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ2dCO0FBQzdEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0VBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSwwRUFBd0I7QUFDbEc7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvc2RtLW1lc3NhZ2UtZGlzcGF0Y2hlci5qcz9hNDY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFV0aWxzIH0gZnJvbSAnQGNvbW1vbi1zY3JpcHQvdXRpbHMnO1xyXG5pbXBvcnQgeyBTZG1NZXNzYWdlSGFuZGxlciB9IGZyb20gJy4vc2RtLW1lc3NhZ2UtaGFuZGxlci5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2RtTWVzc2FnZURpc3BhdGNoZXIge1xyXG4gICNicm9rZXJNZXNzYWdlSGFuZGxlcnMgPSBuZXcgU2V0KCk7XHJcblxyXG5cdGFkZEJyb2tlck1lc3NhZ2VIYW5kbGVyKG1lc3NhZ2VJZGVudGlmaWVyRm5jLCBwcm9jZXNzRm5jKSB7XHJcbiAgICBsZXQgaGFuZGxlciA9IG5ldyBTZG1NZXNzYWdlSGFuZGxlcihtZXNzYWdlSWRlbnRpZmllckZuYywgcHJvY2Vzc0ZuYyk7XHJcbiAgICB0aGlzLiNicm9rZXJNZXNzYWdlSGFuZGxlcnMuYWRkKGhhbmRsZXIpO1xyXG4gICAgcmV0dXJuIGhhbmRsZXI7XHJcbiAgfVxyXG4gIFxyXG4gIGNsZWFySGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLiNicm9rZXJNZXNzYWdlSGFuZGxlcnMuY2xlYXIoKTtcclxuICB9XHJcbiAgXHJcbiAgZGlzcGF0Y2hNZXNzYWdlKG1lc3NhZ2UpIHtcclxuXHQgIGxldCBmb3VuZCA9IGZhbHNlO1xyXG5cdCAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuI2Jyb2tlck1lc3NhZ2VIYW5kbGVycykge1xyXG5cdFx0ICBpZiAoaGFuZGxlci5oYW5kbGVzVGhpc01lc3NhZ2UobWVzc2FnZSkpIHtcclxuXHRcdCAgXHRoYW5kbGVyLnByb2Nlc3NNZXNzYWdlKG1lc3NhZ2UpO1xyXG5cdFx0ICBcdGZvdW5kID0gdHJ1ZTtcclxuXHRcdCAgfVxyXG5cdCAgfVxyXG5cdCAgXHJcblx0ICBpZiAoIWZvdW5kKVxyXG5cdCAgXHRTTlBfTE9HR0VSLmVycm9yKG51bGwsIG51bGwsIFwiTm8gaGFuZGxlciBmb3VuZCBmb3IgdGhpcyBtZXNzYWdlOlxcblwiICsgVXRpbHMuYmVhdXRpZnlKU09OU3RyaW5nKG1lc3NhZ2UuYm9keS5tZXNzYWdlKSk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../script/sdm-message-dispatcher.js\n");

/***/ }),

/***/ "../script/sdm-message-handler.js":
/*!****************************************!*\
  !*** ../script/sdm-message-handler.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmMessageHandler\": () => (/* binding */ SdmMessageHandler)\n/* harmony export */ });\n\r\nclass SdmMessageHandler  {\r\n  #messageIdentifierFnc;\r\n  #processFnc;\r\n  \r\n  constructor(messageIdentifierFnc, processFnc) {\r\n\t  this.#messageIdentifierFnc = messageIdentifierFnc;\r\n\t  this.#processFnc = processFnc;\r\n\t  this.#checkArgumentsValidity();\r\n  }\r\n  \r\n  #checkArgumentsValidity() {\r\n    if (!this.#messageIdentifierFnc)\r\n      throw new Error(\"messageIdentifier predicate cannot be null\");\r\n    if (!this.#processFnc)\r\n      throw new Error(\"process consumer cannot be null\");\r\n  }\r\n \r\n  handlesThisMessage(msg) {\r\n    return this.#messageIdentifierFnc(msg);\r\n  }\r\n\r\n  processMessage(msg) {\r\n    this.#processFnc(msg);\r\n  }    \r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1tZXNzYWdlLWhhbmRsZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vc2NyaXB0L3NkbS1tZXNzYWdlLWhhbmRsZXIuanM/Y2EzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGNsYXNzIFNkbU1lc3NhZ2VIYW5kbGVyICB7XHJcbiAgI21lc3NhZ2VJZGVudGlmaWVyRm5jO1xyXG4gICNwcm9jZXNzRm5jO1xyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2VJZGVudGlmaWVyRm5jLCBwcm9jZXNzRm5jKSB7XHJcblx0ICB0aGlzLiNtZXNzYWdlSWRlbnRpZmllckZuYyA9IG1lc3NhZ2VJZGVudGlmaWVyRm5jO1xyXG5cdCAgdGhpcy4jcHJvY2Vzc0ZuYyA9IHByb2Nlc3NGbmM7XHJcblx0ICB0aGlzLiNjaGVja0FyZ3VtZW50c1ZhbGlkaXR5KCk7XHJcbiAgfVxyXG4gIFxyXG4gICNjaGVja0FyZ3VtZW50c1ZhbGlkaXR5KCkge1xyXG4gICAgaWYgKCF0aGlzLiNtZXNzYWdlSWRlbnRpZmllckZuYylcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWVzc2FnZUlkZW50aWZpZXIgcHJlZGljYXRlIGNhbm5vdCBiZSBudWxsXCIpO1xyXG4gICAgaWYgKCF0aGlzLiNwcm9jZXNzRm5jKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzIGNvbnN1bWVyIGNhbm5vdCBiZSBudWxsXCIpO1xyXG4gIH1cclxuIFxyXG4gIGhhbmRsZXNUaGlzTWVzc2FnZShtc2cpIHtcclxuICAgIHJldHVybiB0aGlzLiNtZXNzYWdlSWRlbnRpZmllckZuYyhtc2cpO1xyXG4gIH1cclxuXHJcbiAgcHJvY2Vzc01lc3NhZ2UobXNnKSB7XHJcbiAgICB0aGlzLiNwcm9jZXNzRm5jKG1zZyk7XHJcbiAgfSAgICBcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../script/sdm-message-handler.js\n");

/***/ }),

/***/ "../script/sdm-printer.js":
/*!********************************!*\
  !*** ../script/sdm-printer.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmPrinter\": () => (/* binding */ SdmPrinter)\n/* harmony export */ });\n/* harmony import */ var _common_script_device_manager_dm_printer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/device-manager/dm-printer */ \"../../../common-script/device-manager/dm-printer.js\");\n/* harmony import */ var _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-script/device-manager/dm-model */ \"../../../common-script/device-manager/dm-model.js\");\n/* harmony import */ var _receipt_doc_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./receipt-doc-parser */ \"../script/receipt-doc-parser.js\");\n\r\n\r\n\r\n\r\nclass SdmPrinter extends _common_script_device_manager_dm_printer__WEBPACK_IMPORTED_MODULE_0__.DMPrinter {\r\n  #connection;\r\n  \r\n  static get deviceType() {\r\n    return _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.PRINTER;\r\n  }\r\n  \r\n  constructor(params, sdmConnector) {\r\n    super(params); \r\n      \r\n    this.#connection = sdmConnector.createDeviceConnection(params.pluginInfo);\r\n\r\n    this.#connection.on(\"connection\",        payload => this.#onConnection(payload));\r\n    this.#connection.on(\"connection-status\", payload => this.#onConnectionStatus(payload));\r\n    this.#connection.on(\"device-status\",     payload => this.#onDeviceStatus(payload));\r\n\r\n    this.#connection.connect();\r\n  }\r\n  \r\n  #onConnection(payload) {\r\n    if (payload.Printer.CanReadMediaCodes)\r\n      this._canReadMediaCodes = payload.Printer.CanReadMediaCodes;\r\n      \r\n    if (payload.Printer.IsVirtual)\r\n      this._isVirtual = payload.Printer.IsVirtual;\r\n    \r\n    if (this.#connection.isConnected())\r\n\t\t\tthis.setDeviceStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_STATUS.READY);\r\n  }\r\n  \r\n  #onConnectionStatus(payload) {\r\n\t  this.setError(payload.statusDescription);\r\n  }\r\n  \r\n  #onDeviceStatus(payload) {\r\n    let plgStatus = _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.PLUGIN_STATUS[payload.Description.toUpperCase()];\r\n    if (plgStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.PLUGIN_STATUS.ACTIVE)\r\n    \tthis.setDeviceStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_STATUS.READY);\r\n    else\r\n    \tthis.setError(payload.Details);\r\n  }\r\n\r\n  processDoc(doc, docEditorType) {\r\n\t  let printTemplate;\r\n\t  if(docEditorType === 2)\r\n\t      printTemplate = this.#processFGLTemplate(doc);\r\n\t  else\r\n\t  \t  printTemplate = _receipt_doc_parser__WEBPACK_IMPORTED_MODULE_2__.ReceiptDocDataParser.parseReceipt(doc);\r\n\t  return this.#doPrint(printTemplate);\r\n  }\r\n   \r\n  processReceipt(receiptPrintTemplate) {\r\n\t  return this.#doPrint(receiptPrintTemplate);\r\n  }\r\n  \r\n  #doPrint(printTemplate) {\r\n\t  return this.#connection.sendCommand(\"print\", printTemplate, 15000)\r\n\t  \t\t.then(response => {\r\n\t\t\t\t\t  if (response.ResultCode != 0)\r\n\t\t\t\t\t  \tthrow new Error(response.ResultDescription);\r\n\t\t\t\t  });\r\n\t  \r\n  }\r\n  \r\n  #processFGLTemplate(doc) {\r\n\t  let result = {ControlsList: []};\r\n\t  let rawCommand = doc;\r\n\t  let createMacroCut = false;\r\n\t  if (doc.endsWith(\"<CUT>\")) {\r\n\t\t  rawCommand = doc.replace(\"<CUT>\", \"\");\r\n\t\t  createMacroCut = true;\r\n\t  }\r\n\t  result.ControlsList.push({\r\n\t\t  Type: \"raw\",\r\n\t\t  RawCommand: rawCommand\r\n\t  });\r\n\t  if (createMacroCut) {\r\n\t\t  result.ControlsList.push({\r\n\t\t\t  Type: \"macro\",\r\n\t\t\t  Macro: {\r\n\t\t\t\t  MacroName: \"CUT\"\r\n\t\t\t  }\r\n\t\t  })\r\n\t  }\r\n\t  \r\n\t  return result;\t  \r\n  }\r\n  \r\n  async performMaintenance() {\r\n    return this.#connection.sendCommand(\"perform_maintenance\", {}, 120000);\r\n  }\r\n\r\n}\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n} //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1wcmludGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUU7QUFDOEI7QUFDeEM7QUFDM0Q7QUFDTyx5QkFBeUIsK0VBQVM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1RkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUZBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlGQUFhO0FBQ2pDLHNCQUFzQix3RkFBb0I7QUFDMUMsMEJBQTBCLHVGQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isa0ZBQWlDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvc2RtLXByaW50ZXIuanM/NWNkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBETVByaW50ZXIgfSBmcm9tICdAY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1wcmludGVyJztcclxuaW1wb3J0IHsgREVWSUNFX1NUQVRVUywgUExVR0lOX1NUQVRVUywgREVWSUNFX1RZUEUgfSBmcm9tICdAY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1tb2RlbCc7XHJcbmltcG9ydCB7IFJlY2VpcHREb2NEYXRhUGFyc2VyIH0gZnJvbSAnLi9yZWNlaXB0LWRvYy1wYXJzZXInXHJcblxyXG5leHBvcnQgY2xhc3MgU2RtUHJpbnRlciBleHRlbmRzIERNUHJpbnRlciB7XHJcbiAgI2Nvbm5lY3Rpb247XHJcbiAgXHJcbiAgc3RhdGljIGdldCBkZXZpY2VUeXBlKCkge1xyXG4gICAgcmV0dXJuIERFVklDRV9UWVBFLlBSSU5URVI7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtcywgc2RtQ29ubmVjdG9yKSB7XHJcbiAgICBzdXBlcihwYXJhbXMpOyBcclxuICAgICAgXHJcbiAgICB0aGlzLiNjb25uZWN0aW9uID0gc2RtQ29ubmVjdG9yLmNyZWF0ZURldmljZUNvbm5lY3Rpb24ocGFyYW1zLnBsdWdpbkluZm8pO1xyXG5cclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24ub24oXCJjb25uZWN0aW9uXCIsICAgICAgICBwYXlsb2FkID0+IHRoaXMuI29uQ29ubmVjdGlvbihwYXlsb2FkKSk7XHJcbiAgICB0aGlzLiNjb25uZWN0aW9uLm9uKFwiY29ubmVjdGlvbi1zdGF0dXNcIiwgcGF5bG9hZCA9PiB0aGlzLiNvbkNvbm5lY3Rpb25TdGF0dXMocGF5bG9hZCkpO1xyXG4gICAgdGhpcy4jY29ubmVjdGlvbi5vbihcImRldmljZS1zdGF0dXNcIiwgICAgIHBheWxvYWQgPT4gdGhpcy4jb25EZXZpY2VTdGF0dXMocGF5bG9hZCkpO1xyXG5cclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24uY29ubmVjdCgpO1xyXG4gIH1cclxuICBcclxuICAjb25Db25uZWN0aW9uKHBheWxvYWQpIHtcclxuICAgIGlmIChwYXlsb2FkLlByaW50ZXIuQ2FuUmVhZE1lZGlhQ29kZXMpXHJcbiAgICAgIHRoaXMuX2NhblJlYWRNZWRpYUNvZGVzID0gcGF5bG9hZC5QcmludGVyLkNhblJlYWRNZWRpYUNvZGVzO1xyXG4gICAgICBcclxuICAgIGlmIChwYXlsb2FkLlByaW50ZXIuSXNWaXJ0dWFsKVxyXG4gICAgICB0aGlzLl9pc1ZpcnR1YWwgPSBwYXlsb2FkLlByaW50ZXIuSXNWaXJ0dWFsO1xyXG4gICAgXHJcbiAgICBpZiAodGhpcy4jY29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKVxyXG5cdFx0XHR0aGlzLnNldERldmljZVN0YXR1cyhERVZJQ0VfU1RBVFVTLlJFQURZKTtcclxuICB9XHJcbiAgXHJcbiAgI29uQ29ubmVjdGlvblN0YXR1cyhwYXlsb2FkKSB7XHJcblx0ICB0aGlzLnNldEVycm9yKHBheWxvYWQuc3RhdHVzRGVzY3JpcHRpb24pO1xyXG4gIH1cclxuICBcclxuICAjb25EZXZpY2VTdGF0dXMocGF5bG9hZCkge1xyXG4gICAgbGV0IHBsZ1N0YXR1cyA9IFBMVUdJTl9TVEFUVVNbcGF5bG9hZC5EZXNjcmlwdGlvbi50b1VwcGVyQ2FzZSgpXTtcclxuICAgIGlmIChwbGdTdGF0dXMgPT09IFBMVUdJTl9TVEFUVVMuQUNUSVZFKVxyXG4gICAgXHR0aGlzLnNldERldmljZVN0YXR1cyhERVZJQ0VfU1RBVFVTLlJFQURZKTtcclxuICAgIGVsc2VcclxuICAgIFx0dGhpcy5zZXRFcnJvcihwYXlsb2FkLkRldGFpbHMpO1xyXG4gIH1cclxuXHJcbiAgcHJvY2Vzc0RvYyhkb2MsIGRvY0VkaXRvclR5cGUpIHtcclxuXHQgIGxldCBwcmludFRlbXBsYXRlO1xyXG5cdCAgaWYoZG9jRWRpdG9yVHlwZSA9PT0gMilcclxuXHQgICAgICBwcmludFRlbXBsYXRlID0gdGhpcy4jcHJvY2Vzc0ZHTFRlbXBsYXRlKGRvYyk7XHJcblx0ICBlbHNlXHJcblx0ICBcdCAgcHJpbnRUZW1wbGF0ZSA9IFJlY2VpcHREb2NEYXRhUGFyc2VyLnBhcnNlUmVjZWlwdChkb2MpO1xyXG5cdCAgcmV0dXJuIHRoaXMuI2RvUHJpbnQocHJpbnRUZW1wbGF0ZSk7XHJcbiAgfVxyXG4gICBcclxuICBwcm9jZXNzUmVjZWlwdChyZWNlaXB0UHJpbnRUZW1wbGF0ZSkge1xyXG5cdCAgcmV0dXJuIHRoaXMuI2RvUHJpbnQocmVjZWlwdFByaW50VGVtcGxhdGUpO1xyXG4gIH1cclxuICBcclxuICAjZG9QcmludChwcmludFRlbXBsYXRlKSB7XHJcblx0ICByZXR1cm4gdGhpcy4jY29ubmVjdGlvbi5zZW5kQ29tbWFuZChcInByaW50XCIsIHByaW50VGVtcGxhdGUsIDE1MDAwKVxyXG5cdCAgXHRcdC50aGVuKHJlc3BvbnNlID0+IHtcclxuXHRcdFx0XHRcdCAgaWYgKHJlc3BvbnNlLlJlc3VsdENvZGUgIT0gMClcclxuXHRcdFx0XHRcdCAgXHR0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuUmVzdWx0RGVzY3JpcHRpb24pO1xyXG5cdFx0XHRcdCAgfSk7XHJcblx0ICBcclxuICB9XHJcbiAgXHJcbiAgI3Byb2Nlc3NGR0xUZW1wbGF0ZShkb2MpIHtcclxuXHQgIGxldCByZXN1bHQgPSB7Q29udHJvbHNMaXN0OiBbXX07XHJcblx0ICBsZXQgcmF3Q29tbWFuZCA9IGRvYztcclxuXHQgIGxldCBjcmVhdGVNYWNyb0N1dCA9IGZhbHNlO1xyXG5cdCAgaWYgKGRvYy5lbmRzV2l0aChcIjxDVVQ+XCIpKSB7XHJcblx0XHQgIHJhd0NvbW1hbmQgPSBkb2MucmVwbGFjZShcIjxDVVQ+XCIsIFwiXCIpO1xyXG5cdFx0ICBjcmVhdGVNYWNyb0N1dCA9IHRydWU7XHJcblx0ICB9XHJcblx0ICByZXN1bHQuQ29udHJvbHNMaXN0LnB1c2goe1xyXG5cdFx0ICBUeXBlOiBcInJhd1wiLFxyXG5cdFx0ICBSYXdDb21tYW5kOiByYXdDb21tYW5kXHJcblx0ICB9KTtcclxuXHQgIGlmIChjcmVhdGVNYWNyb0N1dCkge1xyXG5cdFx0ICByZXN1bHQuQ29udHJvbHNMaXN0LnB1c2goe1xyXG5cdFx0XHQgIFR5cGU6IFwibWFjcm9cIixcclxuXHRcdFx0ICBNYWNybzoge1xyXG5cdFx0XHRcdCAgTWFjcm9OYW1lOiBcIkNVVFwiXHJcblx0XHRcdCAgfVxyXG5cdFx0ICB9KVxyXG5cdCAgfVxyXG5cdCAgXHJcblx0ICByZXR1cm4gcmVzdWx0O1x0ICBcclxuICB9XHJcbiAgXHJcbiAgYXN5bmMgcGVyZm9ybU1haW50ZW5hbmNlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuI2Nvbm5lY3Rpb24uc2VuZENvbW1hbmQoXCJwZXJmb3JtX21haW50ZW5hbmNlXCIsIHt9LCAxMjAwMDApO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNsZWVwKG1zKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG59ICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../script/sdm-printer.js\n");

/***/ }),

/***/ "../script/sdm-rdr.js":
/*!****************************!*\
  !*** ../script/sdm-rdr.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SdmReaderDevice\": () => (/* binding */ SdmReaderDevice)\n/* harmony export */ });\n/* harmony import */ var _common_script_device_manager_dm_reader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/device-manager/dm-reader */ \"../../../common-script/device-manager/dm-reader.js\");\n/* harmony import */ var _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-script/device-manager/dm-model */ \"../../../common-script/device-manager/dm-model.js\");\n\r\n\r\n\r\nclass SdmReaderDevice extends _common_script_device_manager_dm_reader__WEBPACK_IMPORTED_MODULE_0__.DMReader {\r\n  #connection;\r\n  \r\n  static get deviceType() {\r\n    return _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.READER;\r\n  }\r\n  \r\n  constructor(params, sdmConnector) {\r\n    super(params);\r\n    this.#connection = sdmConnector.createDeviceConnection(params.pluginInfo);\r\n\r\n    this.#connection.on(\"connection\",        payload => this.#onConnection(payload));\r\n    this.#connection.on(\"connection-status\", payload => this.#onConnectionStatus(payload));\r\n    this.#connection.on(\"device-status\",     payload => this.#onDeviceStatus(payload));\r\n    this.#connection.on(\"media-read\",              payload => this.#onDispatchNewRead(payload));\r\n    this.#connection.on(\"start-read\",        payload => this.#onStartRead(payload));\r\n    this.#connection.on(\"stop-read\",         payload => this.#onStopRead(payload));\r\n\r\n    this.#connection.connect();\r\n  }\r\n  \r\n  #onConnection(payload) {    \r\n    if (this.#connection.isConnected())\r\n      this.setDeviceStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_STATUS.READY);\r\n  }\r\n  \r\n  #onConnectionStatus(payload) {\r\n    this.setError(payload.statusDescription);\r\n  }\r\n  \r\n  #onDeviceStatus(payload) {\r\n    let plgStatus = _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.PLUGIN_STATUS[payload.Description.toUpperCase()];\r\n    if (plgStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.PLUGIN_STATUS.ACTIVE)\r\n      this.setDeviceStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_STATUS.READY);\r\n    else\r\n      this.setError(payload.Details);\r\n  } \r\n  \r\n  #onDispatchNewRead(payload) {\r\n    this._triggerMediaRead(payload)\r\n  }\r\n  \r\n  #onStartRead(payload) {\r\n    this.startRead()\r\n  }\r\n  \r\n  #onStopRead(payload) {\r\n    this.stopRead()\r\n  }   \r\n  \r\n  startRead() {\r\n    return this.#connection.sendCommand(\"start-read\", {}, 3000)\r\n        .then(response => {\r\n            if (response.ResultCode != 0)\r\n              throw new Error(response.ResultDescription);\r\n          });\r\n    \r\n  }\r\n  \r\n  stopRead() {\r\n    return this.#connection.sendCommand(\"stop-read\", {}, 3000)\r\n        .then(response => {\r\n            if (response.ResultCode != 0)\r\n              throw new Error(response.ResultDescription);\r\n          });\r\n    \r\n  }\r\n         \r\n }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc2NyaXB0L3NkbS1yZHIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1FO0FBQ2dDO0FBQ25HO0FBQ08sOEJBQThCLDZFQUFRO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0ZBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1RkFBbUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUZBQWE7QUFDakMsc0JBQXNCLHdGQUFvQjtBQUMxQywyQkFBMkIsdUZBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi9zY3JpcHQvc2RtLXJkci5qcz9iY2ZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERNUmVhZGVyIH0gZnJvbSAnQGNvbW1vbi1zY3JpcHQvZGV2aWNlLW1hbmFnZXIvZG0tcmVhZGVyJztcclxuaW1wb3J0IHsgREVWSUNFX1NUQVRVUywgUExVR0lOX1NUQVRVUywgREVWSUNFX1RZUEUgfSBmcm9tICdAY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1tb2RlbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2RtUmVhZGVyRGV2aWNlIGV4dGVuZHMgRE1SZWFkZXIge1xyXG4gICNjb25uZWN0aW9uO1xyXG4gIFxyXG4gIHN0YXRpYyBnZXQgZGV2aWNlVHlwZSgpIHtcclxuICAgIHJldHVybiBERVZJQ0VfVFlQRS5SRUFERVI7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtcywgc2RtQ29ubmVjdG9yKSB7XHJcbiAgICBzdXBlcihwYXJhbXMpO1xyXG4gICAgdGhpcy4jY29ubmVjdGlvbiA9IHNkbUNvbm5lY3Rvci5jcmVhdGVEZXZpY2VDb25uZWN0aW9uKHBhcmFtcy5wbHVnaW5JbmZvKTtcclxuXHJcbiAgICB0aGlzLiNjb25uZWN0aW9uLm9uKFwiY29ubmVjdGlvblwiLCAgICAgICAgcGF5bG9hZCA9PiB0aGlzLiNvbkNvbm5lY3Rpb24ocGF5bG9hZCkpO1xyXG4gICAgdGhpcy4jY29ubmVjdGlvbi5vbihcImNvbm5lY3Rpb24tc3RhdHVzXCIsIHBheWxvYWQgPT4gdGhpcy4jb25Db25uZWN0aW9uU3RhdHVzKHBheWxvYWQpKTtcclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24ub24oXCJkZXZpY2Utc3RhdHVzXCIsICAgICBwYXlsb2FkID0+IHRoaXMuI29uRGV2aWNlU3RhdHVzKHBheWxvYWQpKTtcclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24ub24oXCJtZWRpYS1yZWFkXCIsICAgICAgICAgICAgICBwYXlsb2FkID0+IHRoaXMuI29uRGlzcGF0Y2hOZXdSZWFkKHBheWxvYWQpKTtcclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24ub24oXCJzdGFydC1yZWFkXCIsICAgICAgICBwYXlsb2FkID0+IHRoaXMuI29uU3RhcnRSZWFkKHBheWxvYWQpKTtcclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24ub24oXCJzdG9wLXJlYWRcIiwgICAgICAgICBwYXlsb2FkID0+IHRoaXMuI29uU3RvcFJlYWQocGF5bG9hZCkpO1xyXG5cclxuICAgIHRoaXMuI2Nvbm5lY3Rpb24uY29ubmVjdCgpO1xyXG4gIH1cclxuICBcclxuICAjb25Db25uZWN0aW9uKHBheWxvYWQpIHsgICAgXHJcbiAgICBpZiAodGhpcy4jY29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKVxyXG4gICAgICB0aGlzLnNldERldmljZVN0YXR1cyhERVZJQ0VfU1RBVFVTLlJFQURZKTtcclxuICB9XHJcbiAgXHJcbiAgI29uQ29ubmVjdGlvblN0YXR1cyhwYXlsb2FkKSB7XHJcbiAgICB0aGlzLnNldEVycm9yKHBheWxvYWQuc3RhdHVzRGVzY3JpcHRpb24pO1xyXG4gIH1cclxuICBcclxuICAjb25EZXZpY2VTdGF0dXMocGF5bG9hZCkge1xyXG4gICAgbGV0IHBsZ1N0YXR1cyA9IFBMVUdJTl9TVEFUVVNbcGF5bG9hZC5EZXNjcmlwdGlvbi50b1VwcGVyQ2FzZSgpXTtcclxuICAgIGlmIChwbGdTdGF0dXMgPT09IFBMVUdJTl9TVEFUVVMuQUNUSVZFKVxyXG4gICAgICB0aGlzLnNldERldmljZVN0YXR1cyhERVZJQ0VfU1RBVFVTLlJFQURZKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5zZXRFcnJvcihwYXlsb2FkLkRldGFpbHMpO1xyXG4gIH0gXHJcbiAgXHJcbiAgI29uRGlzcGF0Y2hOZXdSZWFkKHBheWxvYWQpIHtcclxuICAgIHRoaXMuX3RyaWdnZXJNZWRpYVJlYWQocGF5bG9hZClcclxuICB9XHJcbiAgXHJcbiAgI29uU3RhcnRSZWFkKHBheWxvYWQpIHtcclxuICAgIHRoaXMuc3RhcnRSZWFkKClcclxuICB9XHJcbiAgXHJcbiAgI29uU3RvcFJlYWQocGF5bG9hZCkge1xyXG4gICAgdGhpcy5zdG9wUmVhZCgpXHJcbiAgfSAgIFxyXG4gIFxyXG4gIHN0YXJ0UmVhZCgpIHtcclxuICAgIHJldHVybiB0aGlzLiNjb25uZWN0aW9uLnNlbmRDb21tYW5kKFwic3RhcnQtcmVhZFwiLCB7fSwgMzAwMClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5SZXN1bHRDb2RlICE9IDApXHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLlJlc3VsdERlc2NyaXB0aW9uKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIHN0b3BSZWFkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuI2Nvbm5lY3Rpb24uc2VuZENvbW1hbmQoXCJzdG9wLXJlYWRcIiwge30sIDMwMDApXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuUmVzdWx0Q29kZSAhPSAwKVxyXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5SZXN1bHREZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICB9KTtcclxuICAgIFxyXG4gIH1cclxuICAgICAgICAgXHJcbiB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../script/sdm-rdr.js\n");

/***/ }),

/***/ "../../../common-script/condition-awaiter.js":
/*!***************************************************!*\
  !*** ../../../common-script/condition-awaiter.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConditionAwaiter\": () => (/* binding */ ConditionAwaiter)\n/* harmony export */ });\nclass ConditionAwaiter {\r\n\t\r\n\tstatic waitForCondition(conditionFunction, timeout, checkInterval=100) {\r\n    return new Promise((resolve, reject) => {\r\n        const poll = setInterval(() => {\r\n          if (!conditionFunction())\r\n            return;\r\n\r\n          clearInterval(poll);\r\n          resolve();\r\n        }, checkInterval);\r\n\r\n        setTimeout(() => {\r\n          clearInterval(poll);\r\n          reject('Timeout expired and condition was not met');\r\n        }, timeout);\r\n    });\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9jb25kaXRpb24tYXdhaXRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9jb25kaXRpb24tYXdhaXRlci5qcz9iOGExIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDb25kaXRpb25Bd2FpdGVyIHtcclxuXHRcclxuXHRzdGF0aWMgd2FpdEZvckNvbmRpdGlvbihjb25kaXRpb25GdW5jdGlvbiwgdGltZW91dCwgY2hlY2tJbnRlcnZhbD0xMDApIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcG9sbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgIGlmICghY29uZGl0aW9uRnVuY3Rpb24oKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbCk7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSwgY2hlY2tJbnRlcnZhbCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwb2xsKTtcclxuICAgICAgICAgIHJlamVjdCgnVGltZW91dCBleHBpcmVkIGFuZCBjb25kaXRpb24gd2FzIG5vdCBtZXQnKTtcclxuICAgICAgICB9LCB0aW1lb3V0KTtcclxuICAgIH0pO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../common-script/condition-awaiter.js\n");

/***/ }),

/***/ "../../../common-script/device-manager/device-manager.js":
/*!***************************************************************!*\
  !*** ../../../common-script/device-manager/device-manager.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DeviceManagerBase\": () => (/* binding */ DeviceManagerBase)\n/* harmony export */ });\n/* harmony import */ var _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/device-manager/dm-model */ \"../../../common-script/device-manager/dm-model.js\");\n\r\n\r\n\r\nclass DeviceManagerBase {\r\n  #status;\r\n  #deviceManagerName;\r\n  #errorMessage = \"\";\r\n\r\n  deviceInstanceMap = new Map();\r\n  #readerDevicePresent = false;\r\n  #printerDevicePresent = false;\r\n  #paymentDevicePresent = false;\r\n  workstation;\r\n\r\n  onMediaRead;\r\n  \r\n  constructor(name) {\r\n    this.#deviceManagerName = name;\r\n  }\r\n  \r\n  async init(workstation) {\r\n    this.setStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.CONNECTOR_STATUS.INIT);\r\n\t\tthis.workstation = workstation;\r\n\t\tfor (let plugin of workstation.PluginList) {\r\n      try {\r\n\t\t  \tif (plugin.DriverType !== _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.DEVICE_CONNECTOR) {\r\n\t        let device = await this._createDeviceInstance({\r\n\t\t\t      \"pluginInfo\": plugin,\r\n\t\t\t      \"onStatusChanged\": event => this.#onDeviceStatusChanged(event)\r\n\t\t\t\t  });\r\n\t\t\t\t    \r\n\t        if (device) {\r\n\t\t\t\t\t\tthis.deviceInstanceMap.set(device.deviceId, device);\r\n\t\t\t\t\t\tif (device.deviceType === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.READER) {\r\n\t\t\t\t  \t\tthis.#readerDevicePresent = true;\r\n\t            device.onMediaRead = r => this._triggerMediaRead(r);\r\n\t\t\t  \t\t}\r\n\t          else if (device.deviceType === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.PRINTER)\r\n\t          \tthis.#printerDevicePresent = true;\r\n\t          else if (device.deviceType === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.EXT_PAY_DEVICE)\r\n\t          \tthis.#paymentDevicePresent = true;\r\n\t        }\r\n\t\t\t  }\r\n      }\r\n      catch(err) {\r\n        SNP_LOGGER.error(plugin.PluginId, 27, `Failed to create device instance for ${plugin.PluginName} with error: ${err.message}`);\r\n      }\r\n    };\r\n    this.updateStatusAccordingToDevicesStatus();\r\n  }\r\n  \r\n  close() {\r\n    //To be implemented in extending class\r\n  }\r\n\r\n  get deviceManagerName() {\r\n    return this.#deviceManagerName;\r\n  }\r\n  \r\n  get errorMessage() {\r\n    return this.#errorMessage;\r\n  }\r\n\r\n  get status() {\r\n    return this.#status;\r\n  }\r\n  \r\n  setStatus(newStatus) {\r\n    if (newStatus !== this.#status) {\r\n      this.#status = newStatus;\r\n\t\t\tif (newStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.CONNECTOR_STATUS.READY)\r\n\t\t\t\tthis.#errorMessage = \"\";\r\n\t\t\telse if (newStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.CONNECTOR_STATUS.INIT)\r\n\t\t\t\tthis.#errorMessage = \"Initializing...\";\r\n      this.#triggerStatusChanged(this.#status);\r\n    }\r\n  }\r\n  \r\n \tsetError(message) {\r\n\t\tif (this.#errorMessage !== message) {\r\n\t\t\tthis.#errorMessage = message;\r\n\t\t\tthis.setStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.CONNECTOR_STATUS.ERROR);\r\n\t\t}\r\n\t}\r\n\r\n\t#onDeviceStatusChanged(event) {\r\n\t\tthis.updateStatusAccordingToDevicesStatus();\r\n    this.#triggerDeviceStatusChanged(event);\r\n\t}\r\n\t\r\n\tupdateStatusAccordingToDevicesStatus() {\r\n\t\tlet activeReaderFound = false;\r\n\t\tlet allPrintersReady = true;\r\n\t\tlet activePaymentDeviceFound = false;\r\n\t\tlet initializingDevice = false;\r\n\t\t\r\n    for (let device of this.deviceInstanceMap.values()) {\r\n\t\t\tif (device.deviceStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_STATUS.INIT) {\r\n\t\t\t\tinitializingDevice = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\t\r\n      if ((device.deviceType === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.PRINTER) && (device.deviceStatus !== _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_STATUS.READY))\r\n      \tallPrintersReady = false;\r\n      \t\r\n      if ((device.deviceType === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.READER) && (device.deviceStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_STATUS.READY))\r\n      \tactiveReaderFound = true;\r\n      \t\r\n      if ((device.deviceType === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.EXT_PAY_DEVICE) && (device.deviceStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_STATUS.READY))\r\n      \tactivePaymentDeviceFound = true;\r\n\t  } \r\n\t\t\r\n\t\tif (initializingDevice)\r\n\t\t\tthis.setStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.CONNECTOR_STATUS.INIT);\r\n\t\telse if (this.#enoughDevicesReady(allPrintersReady, activeReaderFound, activePaymentDeviceFound))\r\n\t\t\tthis.setStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.CONNECTOR_STATUS.READY);\r\n\t\telse\r\n\t\t\tthis.setError(\"Minimum required devices not ready\");\r\n\t}\r\n\t\r\n\t#enoughDevicesReady(allPrintersReady, activeReaderFound, activePaymentDeviceFound) {\r\n\t\treturn (!this.#printerDevicePresent || allPrintersReady) &&\r\n\t\t\t\t\t (!this.#readerDevicePresent || activeReaderFound) && \r\n\t\t\t\t\t (!this.#paymentDevicePresent || activePaymentDeviceFound);\r\n\t}\r\n\t\r\n  async _createDeviceInstance(params) {\r\n    throw Error(\"To be implemented in extending class\");\r\n  }\r\n  \r\n  allLightsOff() {\r\n    //To be implemented in extending class if needed\r\n  }\r\n  \r\n  findDeviceById(deviceId) {    \r\n    return this.deviceInstanceMap.get(deviceId);\r\n  }\r\n  \r\n  findDeviceByClassAndDeviceAlias(classAlias, deviceAlias) {  \r\n    for (let device of this.deviceInstanceMap.values())  \r\n      if ((device.classAlias === classAlias) && (!deviceAlias || (device.deviceAlias === deviceAlias)))\r\n        return device;\r\n        \r\n    return null;\r\n  }\r\n  \r\n  findDeviceByDeviceType(deviceType) { \r\n\t  let result = [];\r\n\t  \r\n    for (let device of this.deviceInstanceMap.values())  \r\n      if (device.deviceType === deviceType)\r\n        result.push(device);\r\n        \r\n    return result;\r\n  }\r\n\r\n  startRead() {\r\n    for (const device of this.deviceInstanceMap.values()) {\r\n      if (device.deviceType === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.READER)\r\n        device.startRead();\r\n    }\r\n  }\r\n  \r\n  stopRead() {\r\n    for (const device of this.deviceInstanceMap.values()) {\r\n      if (device.deviceType === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE.READER)\r\n        device.stopRead();\r\n    }\r\n  }\r\n  \r\n  async performMaintenance() {\r\n\t\tfor (const device of this.deviceInstanceMap.values()) {\r\n\t\t\tSNP_LOGGER.debug(plugin.PluginId, 27, \"Start maintenance for: \" + device.pluginName);\r\n\t\t\tawait device.performMaintenance();\r\n\t\t\tSNP_LOGGER.debug(plugin.PluginId, 27, \"End maintenance for: \" + device.pluginName);\r\n\t\t}\r\n  }\r\n\r\n  #triggerEvent(eventCode, payload) {\r\n    $(document).trigger(eventCode, payload);\r\n  }\r\n\r\n  #triggerStatusChanged(status) {\r\n    this.#triggerEvent(\"device-manager-status\", status);\r\n  }\r\n  \r\n  #triggerDeviceStatusChanged(status) {\r\n    this.#triggerEvent(\"device-status\", status);\r\n  }\r\n  \r\n  _triggerMediaRead(read) {\r\n    if (this.onMediaRead)\r\n      this.onMediaRead(read)\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kZXZpY2UtbWFuYWdlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF5RjtBQUNwQjtBQUNyRTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5RkFBcUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdHQUE0QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNGQUFrQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsdUZBQW1CO0FBQzdEO0FBQ0EsMENBQTBDLDhGQUEwQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLG1CQUFtQixjQUFjLFlBQVk7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBGQUFzQjtBQUMzQztBQUNBLDBCQUEwQix5RkFBcUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwRkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNGQUFrQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1RkFBbUIsOEJBQThCLHVGQUFtQjtBQUNyRztBQUNBO0FBQ0EsaUNBQWlDLHNGQUFrQiw4QkFBOEIsdUZBQW1CO0FBQ3BHO0FBQ0E7QUFDQSxpQ0FBaUMsOEZBQTBCLDhCQUE4Qix1RkFBbUI7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseUZBQXFCO0FBQ3ZDO0FBQ0Esa0JBQWtCLDBGQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0ZBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzRkFBa0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi8uLi8uLi9jb21tb24tc2NyaXB0L2RldmljZS1tYW5hZ2VyL2RldmljZS1tYW5hZ2VyLmpzP2ViY2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ09OTkVDVE9SX1NUQVRVUywgREVWSUNFX1NUQVRVUyB9IGZyb20gJ0Bjb21tb24tc2NyaXB0L2RldmljZS1tYW5hZ2VyL2RtLW1vZGVsJztcclxuaW1wb3J0IHsgREVWSUNFX1RZUEUgfSBmcm9tICdAY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1tb2RlbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2aWNlTWFuYWdlckJhc2Uge1xyXG4gICNzdGF0dXM7XHJcbiAgI2RldmljZU1hbmFnZXJOYW1lO1xyXG4gICNlcnJvck1lc3NhZ2UgPSBcIlwiO1xyXG5cclxuICBkZXZpY2VJbnN0YW5jZU1hcCA9IG5ldyBNYXAoKTtcclxuICAjcmVhZGVyRGV2aWNlUHJlc2VudCA9IGZhbHNlO1xyXG4gICNwcmludGVyRGV2aWNlUHJlc2VudCA9IGZhbHNlO1xyXG4gICNwYXltZW50RGV2aWNlUHJlc2VudCA9IGZhbHNlO1xyXG4gIHdvcmtzdGF0aW9uO1xyXG5cclxuICBvbk1lZGlhUmVhZDtcclxuICBcclxuICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICB0aGlzLiNkZXZpY2VNYW5hZ2VyTmFtZSA9IG5hbWU7XHJcbiAgfVxyXG4gIFxyXG4gIGFzeW5jIGluaXQod29ya3N0YXRpb24pIHtcclxuICAgIHRoaXMuc2V0U3RhdHVzKENPTk5FQ1RPUl9TVEFUVVMuSU5JVCk7XHJcblx0XHR0aGlzLndvcmtzdGF0aW9uID0gd29ya3N0YXRpb247XHJcblx0XHRmb3IgKGxldCBwbHVnaW4gb2Ygd29ya3N0YXRpb24uUGx1Z2luTGlzdCkge1xyXG4gICAgICB0cnkge1xyXG5cdFx0ICBcdGlmIChwbHVnaW4uRHJpdmVyVHlwZSAhPT0gREVWSUNFX1RZUEUuREVWSUNFX0NPTk5FQ1RPUikge1xyXG5cdCAgICAgICAgbGV0IGRldmljZSA9IGF3YWl0IHRoaXMuX2NyZWF0ZURldmljZUluc3RhbmNlKHtcclxuXHRcdFx0ICAgICAgXCJwbHVnaW5JbmZvXCI6IHBsdWdpbixcclxuXHRcdFx0ICAgICAgXCJvblN0YXR1c0NoYW5nZWRcIjogZXZlbnQgPT4gdGhpcy4jb25EZXZpY2VTdGF0dXNDaGFuZ2VkKGV2ZW50KVxyXG5cdFx0XHRcdCAgfSk7XHJcblx0XHRcdFx0ICAgIFxyXG5cdCAgICAgICAgaWYgKGRldmljZSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRldmljZUluc3RhbmNlTWFwLnNldChkZXZpY2UuZGV2aWNlSWQsIGRldmljZSk7XHJcblx0XHRcdFx0XHRcdGlmIChkZXZpY2UuZGV2aWNlVHlwZSA9PT0gREVWSUNFX1RZUEUuUkVBREVSKSB7XHJcblx0XHRcdFx0ICBcdFx0dGhpcy4jcmVhZGVyRGV2aWNlUHJlc2VudCA9IHRydWU7XHJcblx0ICAgICAgICAgICAgZGV2aWNlLm9uTWVkaWFSZWFkID0gciA9PiB0aGlzLl90cmlnZ2VyTWVkaWFSZWFkKHIpO1xyXG5cdFx0XHQgIFx0XHR9XHJcblx0ICAgICAgICAgIGVsc2UgaWYgKGRldmljZS5kZXZpY2VUeXBlID09PSBERVZJQ0VfVFlQRS5QUklOVEVSKVxyXG5cdCAgICAgICAgICBcdHRoaXMuI3ByaW50ZXJEZXZpY2VQcmVzZW50ID0gdHJ1ZTtcclxuXHQgICAgICAgICAgZWxzZSBpZiAoZGV2aWNlLmRldmljZVR5cGUgPT09IERFVklDRV9UWVBFLkVYVF9QQVlfREVWSUNFKVxyXG5cdCAgICAgICAgICBcdHRoaXMuI3BheW1lbnREZXZpY2VQcmVzZW50ID0gdHJ1ZTtcclxuXHQgICAgICAgIH1cclxuXHRcdFx0ICB9XHJcbiAgICAgIH1cclxuICAgICAgY2F0Y2goZXJyKSB7XHJcbiAgICAgICAgU05QX0xPR0dFUi5lcnJvcihwbHVnaW4uUGx1Z2luSWQsIDI3LCBgRmFpbGVkIHRvIGNyZWF0ZSBkZXZpY2UgaW5zdGFuY2UgZm9yICR7cGx1Z2luLlBsdWdpbk5hbWV9IHdpdGggZXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLnVwZGF0ZVN0YXR1c0FjY29yZGluZ1RvRGV2aWNlc1N0YXR1cygpO1xyXG4gIH1cclxuICBcclxuICBjbG9zZSgpIHtcclxuICAgIC8vVG8gYmUgaW1wbGVtZW50ZWQgaW4gZXh0ZW5kaW5nIGNsYXNzXHJcbiAgfVxyXG5cclxuICBnZXQgZGV2aWNlTWFuYWdlck5hbWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4jZGV2aWNlTWFuYWdlck5hbWU7XHJcbiAgfVxyXG4gIFxyXG4gIGdldCBlcnJvck1lc3NhZ2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4jZXJyb3JNZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHN0YXR1cygpIHtcclxuICAgIHJldHVybiB0aGlzLiNzdGF0dXM7XHJcbiAgfVxyXG4gIFxyXG4gIHNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuICAgIGlmIChuZXdTdGF0dXMgIT09IHRoaXMuI3N0YXR1cykge1xyXG4gICAgICB0aGlzLiNzdGF0dXMgPSBuZXdTdGF0dXM7XHJcblx0XHRcdGlmIChuZXdTdGF0dXMgPT09IENPTk5FQ1RPUl9TVEFUVVMuUkVBRFkpXHJcblx0XHRcdFx0dGhpcy4jZXJyb3JNZXNzYWdlID0gXCJcIjtcclxuXHRcdFx0ZWxzZSBpZiAobmV3U3RhdHVzID09PSBDT05ORUNUT1JfU1RBVFVTLklOSVQpXHJcblx0XHRcdFx0dGhpcy4jZXJyb3JNZXNzYWdlID0gXCJJbml0aWFsaXppbmcuLi5cIjtcclxuICAgICAgdGhpcy4jdHJpZ2dlclN0YXR1c0NoYW5nZWQodGhpcy4jc3RhdHVzKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiBcdHNldEVycm9yKG1lc3NhZ2UpIHtcclxuXHRcdGlmICh0aGlzLiNlcnJvck1lc3NhZ2UgIT09IG1lc3NhZ2UpIHtcclxuXHRcdFx0dGhpcy4jZXJyb3JNZXNzYWdlID0gbWVzc2FnZTtcclxuXHRcdFx0dGhpcy5zZXRTdGF0dXMoQ09OTkVDVE9SX1NUQVRVUy5FUlJPUik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQjb25EZXZpY2VTdGF0dXNDaGFuZ2VkKGV2ZW50KSB7XHJcblx0XHR0aGlzLnVwZGF0ZVN0YXR1c0FjY29yZGluZ1RvRGV2aWNlc1N0YXR1cygpO1xyXG4gICAgdGhpcy4jdHJpZ2dlckRldmljZVN0YXR1c0NoYW5nZWQoZXZlbnQpO1xyXG5cdH1cclxuXHRcclxuXHR1cGRhdGVTdGF0dXNBY2NvcmRpbmdUb0RldmljZXNTdGF0dXMoKSB7XHJcblx0XHRsZXQgYWN0aXZlUmVhZGVyRm91bmQgPSBmYWxzZTtcclxuXHRcdGxldCBhbGxQcmludGVyc1JlYWR5ID0gdHJ1ZTtcclxuXHRcdGxldCBhY3RpdmVQYXltZW50RGV2aWNlRm91bmQgPSBmYWxzZTtcclxuXHRcdGxldCBpbml0aWFsaXppbmdEZXZpY2UgPSBmYWxzZTtcclxuXHRcdFxyXG4gICAgZm9yIChsZXQgZGV2aWNlIG9mIHRoaXMuZGV2aWNlSW5zdGFuY2VNYXAudmFsdWVzKCkpIHtcclxuXHRcdFx0aWYgKGRldmljZS5kZXZpY2VTdGF0dXMgPT09IERFVklDRV9TVEFUVVMuSU5JVCkge1xyXG5cdFx0XHRcdGluaXRpYWxpemluZ0RldmljZSA9IHRydWU7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0XHRcclxuICAgICAgaWYgKChkZXZpY2UuZGV2aWNlVHlwZSA9PT0gREVWSUNFX1RZUEUuUFJJTlRFUikgJiYgKGRldmljZS5kZXZpY2VTdGF0dXMgIT09IERFVklDRV9TVEFUVVMuUkVBRFkpKVxyXG4gICAgICBcdGFsbFByaW50ZXJzUmVhZHkgPSBmYWxzZTtcclxuICAgICAgXHRcclxuICAgICAgaWYgKChkZXZpY2UuZGV2aWNlVHlwZSA9PT0gREVWSUNFX1RZUEUuUkVBREVSKSAmJiAoZGV2aWNlLmRldmljZVN0YXR1cyA9PT0gREVWSUNFX1NUQVRVUy5SRUFEWSkpXHJcbiAgICAgIFx0YWN0aXZlUmVhZGVyRm91bmQgPSB0cnVlO1xyXG4gICAgICBcdFxyXG4gICAgICBpZiAoKGRldmljZS5kZXZpY2VUeXBlID09PSBERVZJQ0VfVFlQRS5FWFRfUEFZX0RFVklDRSkgJiYgKGRldmljZS5kZXZpY2VTdGF0dXMgPT09IERFVklDRV9TVEFUVVMuUkVBRFkpKVxyXG4gICAgICBcdGFjdGl2ZVBheW1lbnREZXZpY2VGb3VuZCA9IHRydWU7XHJcblx0ICB9IFxyXG5cdFx0XHJcblx0XHRpZiAoaW5pdGlhbGl6aW5nRGV2aWNlKVxyXG5cdFx0XHR0aGlzLnNldFN0YXR1cyhDT05ORUNUT1JfU1RBVFVTLklOSVQpO1xyXG5cdFx0ZWxzZSBpZiAodGhpcy4jZW5vdWdoRGV2aWNlc1JlYWR5KGFsbFByaW50ZXJzUmVhZHksIGFjdGl2ZVJlYWRlckZvdW5kLCBhY3RpdmVQYXltZW50RGV2aWNlRm91bmQpKVxyXG5cdFx0XHR0aGlzLnNldFN0YXR1cyhDT05ORUNUT1JfU1RBVFVTLlJFQURZKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhpcy5zZXRFcnJvcihcIk1pbmltdW0gcmVxdWlyZWQgZGV2aWNlcyBub3QgcmVhZHlcIik7XHJcblx0fVxyXG5cdFxyXG5cdCNlbm91Z2hEZXZpY2VzUmVhZHkoYWxsUHJpbnRlcnNSZWFkeSwgYWN0aXZlUmVhZGVyRm91bmQsIGFjdGl2ZVBheW1lbnREZXZpY2VGb3VuZCkge1xyXG5cdFx0cmV0dXJuICghdGhpcy4jcHJpbnRlckRldmljZVByZXNlbnQgfHwgYWxsUHJpbnRlcnNSZWFkeSkgJiZcclxuXHRcdFx0XHRcdCAoIXRoaXMuI3JlYWRlckRldmljZVByZXNlbnQgfHwgYWN0aXZlUmVhZGVyRm91bmQpICYmIFxyXG5cdFx0XHRcdFx0ICghdGhpcy4jcGF5bWVudERldmljZVByZXNlbnQgfHwgYWN0aXZlUGF5bWVudERldmljZUZvdW5kKTtcclxuXHR9XHJcblx0XHJcbiAgYXN5bmMgX2NyZWF0ZURldmljZUluc3RhbmNlKHBhcmFtcykge1xyXG4gICAgdGhyb3cgRXJyb3IoXCJUbyBiZSBpbXBsZW1lbnRlZCBpbiBleHRlbmRpbmcgY2xhc3NcIik7XHJcbiAgfVxyXG4gIFxyXG4gIGFsbExpZ2h0c09mZigpIHtcclxuICAgIC8vVG8gYmUgaW1wbGVtZW50ZWQgaW4gZXh0ZW5kaW5nIGNsYXNzIGlmIG5lZWRlZFxyXG4gIH1cclxuICBcclxuICBmaW5kRGV2aWNlQnlJZChkZXZpY2VJZCkgeyAgICBcclxuICAgIHJldHVybiB0aGlzLmRldmljZUluc3RhbmNlTWFwLmdldChkZXZpY2VJZCk7XHJcbiAgfVxyXG4gIFxyXG4gIGZpbmREZXZpY2VCeUNsYXNzQW5kRGV2aWNlQWxpYXMoY2xhc3NBbGlhcywgZGV2aWNlQWxpYXMpIHsgIFxyXG4gICAgZm9yIChsZXQgZGV2aWNlIG9mIHRoaXMuZGV2aWNlSW5zdGFuY2VNYXAudmFsdWVzKCkpICBcclxuICAgICAgaWYgKChkZXZpY2UuY2xhc3NBbGlhcyA9PT0gY2xhc3NBbGlhcykgJiYgKCFkZXZpY2VBbGlhcyB8fCAoZGV2aWNlLmRldmljZUFsaWFzID09PSBkZXZpY2VBbGlhcykpKVxyXG4gICAgICAgIHJldHVybiBkZXZpY2U7XHJcbiAgICAgICAgXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgXHJcbiAgZmluZERldmljZUJ5RGV2aWNlVHlwZShkZXZpY2VUeXBlKSB7IFxyXG5cdCAgbGV0IHJlc3VsdCA9IFtdO1xyXG5cdCAgXHJcbiAgICBmb3IgKGxldCBkZXZpY2Ugb2YgdGhpcy5kZXZpY2VJbnN0YW5jZU1hcC52YWx1ZXMoKSkgIFxyXG4gICAgICBpZiAoZGV2aWNlLmRldmljZVR5cGUgPT09IGRldmljZVR5cGUpXHJcbiAgICAgICAgcmVzdWx0LnB1c2goZGV2aWNlKTtcclxuICAgICAgICBcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBzdGFydFJlYWQoKSB7XHJcbiAgICBmb3IgKGNvbnN0IGRldmljZSBvZiB0aGlzLmRldmljZUluc3RhbmNlTWFwLnZhbHVlcygpKSB7XHJcbiAgICAgIGlmIChkZXZpY2UuZGV2aWNlVHlwZSA9PT0gREVWSUNFX1RZUEUuUkVBREVSKVxyXG4gICAgICAgIGRldmljZS5zdGFydFJlYWQoKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgc3RvcFJlYWQoKSB7XHJcbiAgICBmb3IgKGNvbnN0IGRldmljZSBvZiB0aGlzLmRldmljZUluc3RhbmNlTWFwLnZhbHVlcygpKSB7XHJcbiAgICAgIGlmIChkZXZpY2UuZGV2aWNlVHlwZSA9PT0gREVWSUNFX1RZUEUuUkVBREVSKVxyXG4gICAgICAgIGRldmljZS5zdG9wUmVhZCgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBhc3luYyBwZXJmb3JtTWFpbnRlbmFuY2UoKSB7XHJcblx0XHRmb3IgKGNvbnN0IGRldmljZSBvZiB0aGlzLmRldmljZUluc3RhbmNlTWFwLnZhbHVlcygpKSB7XHJcblx0XHRcdFNOUF9MT0dHRVIuZGVidWcocGx1Z2luLlBsdWdpbklkLCAyNywgXCJTdGFydCBtYWludGVuYW5jZSBmb3I6IFwiICsgZGV2aWNlLnBsdWdpbk5hbWUpO1xyXG5cdFx0XHRhd2FpdCBkZXZpY2UucGVyZm9ybU1haW50ZW5hbmNlKCk7XHJcblx0XHRcdFNOUF9MT0dHRVIuZGVidWcocGx1Z2luLlBsdWdpbklkLCAyNywgXCJFbmQgbWFpbnRlbmFuY2UgZm9yOiBcIiArIGRldmljZS5wbHVnaW5OYW1lKTtcclxuXHRcdH1cclxuICB9XHJcblxyXG4gICN0cmlnZ2VyRXZlbnQoZXZlbnRDb2RlLCBwYXlsb2FkKSB7XHJcbiAgICAkKGRvY3VtZW50KS50cmlnZ2VyKGV2ZW50Q29kZSwgcGF5bG9hZCk7XHJcbiAgfVxyXG5cclxuICAjdHJpZ2dlclN0YXR1c0NoYW5nZWQoc3RhdHVzKSB7XHJcbiAgICB0aGlzLiN0cmlnZ2VyRXZlbnQoXCJkZXZpY2UtbWFuYWdlci1zdGF0dXNcIiwgc3RhdHVzKTtcclxuICB9XHJcbiAgXHJcbiAgI3RyaWdnZXJEZXZpY2VTdGF0dXNDaGFuZ2VkKHN0YXR1cykge1xyXG4gICAgdGhpcy4jdHJpZ2dlckV2ZW50KFwiZGV2aWNlLXN0YXR1c1wiLCBzdGF0dXMpO1xyXG4gIH1cclxuICBcclxuICBfdHJpZ2dlck1lZGlhUmVhZChyZWFkKSB7XHJcbiAgICBpZiAodGhpcy5vbk1lZGlhUmVhZClcclxuICAgICAgdGhpcy5vbk1lZGlhUmVhZChyZWFkKVxyXG4gIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../common-script/device-manager/device-manager.js\n");

/***/ }),

/***/ "../../../common-script/device-manager/dm-device.js":
/*!**********************************************************!*\
  !*** ../../../common-script/device-manager/dm-device.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DMDevice\": () => (/* binding */ DMDevice)\n/* harmony export */ });\n/* harmony import */ var _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/device-manager/dm-model */ \"../../../common-script/device-manager/dm-model.js\");\n\r\n\r\nclass DMDevice {\r\n  _pluginInfo;\r\n  #deviceStatus;\r\n  #errorMessage = \"\";\r\n\t#onStatusChanged;\r\n  \r\n  /*\r\n  params = {\r\n    pluginInfo: DOPluginInfo //device configuration\r\n    onStatusChanged: callback // Called when the status of the device changes\r\n  }\r\n  */\r\n  constructor(params) {\r\n    this._pluginInfo = params.pluginInfo;\r\n    this.#onStatusChanged = params.onStatusChanged;\r\n    this.setDeviceStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_STATUS.INIT)\r\n  }\r\n  \r\n  get deviceId() {\r\n    return this._pluginInfo.PluginId;\r\n  }\r\n  \r\n  get pluginName() {\r\n\t  return this._pluginInfo.PluginName;\r\n  }\r\n  \r\n  get iconName() {\r\n\t  return this._pluginInfo.IconName;\r\n  }\r\n  \r\n  get classAlias() {\r\n    return this._pluginInfo.DriverClassAlias;\r\n  }\r\n\r\n  get deviceAlias() {\r\n    return this._pluginInfo.DeviceAlias;\r\n  }\r\n  \r\n  get driverType() {\r\n\t  return this._pluginInfo.DriverType;\r\n  }\r\n  \r\n  get deviceStatus() {\r\n    return this.#deviceStatus;\r\n  }\r\n  \r\n  get errorMessage() {\r\n    return this.#errorMessage;\r\n  }\r\n\r\n\tsetDeviceStatus(newStatus) {\r\n\t\tif (this.#deviceStatus !== newStatus) {\r\n\t\t\tthis.#deviceStatus = newStatus;\r\n\t\t\tif (newStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_STATUS.READY)\r\n\t\t\t\tthis.#errorMessage = \"\";\r\n\t\t\telse if (newStatus === _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_STATUS.INIT)\r\n\t\t\t\tthis.#errorMessage = \"Initializing...\";\r\n\r\n\t\t\tthis.#triggerStatusChangedEvent(this.#deviceStatus);\r\n\t\t}\r\n\t}\r\n\t\r\n\t#triggerStatusChangedEvent(deviceStatus) {\r\n\t\tif (this.#onStatusChanged) {\r\n\t\t\tlet event = {\r\n\t\t\t\tdeviceId: this.deviceId,\r\n\t\t\t\tdriverType: this.driverType,\r\n\t\t\t\tdeviceStatus: deviceStatus\r\n\t\t\t}\r\n\t\t\tthis.#onStatusChanged(event);\r\n\t\t}\r\n\t}\r\n\r\n\tsetError(message) {\r\n\t\tif (this.#errorMessage !== message) {\r\n\t\t\tthis.#errorMessage = message;\r\n\t\t\tthis.setDeviceStatus(_common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_0__.DEVICE_STATUS.ERROR);\r\n\t\t}\r\n\t}\r\n\t\r\n\trefreshStatus() {\r\n\t\tthrow new Error(\"RefreshStatus method not implemented\");\r\n\t}\r\n\t\r\n\treset() {\r\n\t\tthrow new Error(\"Reset method not implemented\");\r\n\t}\r\n\t\r\n\tasync performMaintenance() {\r\n\t\t//To be implemented by subclasses if required.\r\n\t}\r\n\t\r\n\ttest() {\r\n\t\tthrow new Error(\"Test method not implemented\");\r\n\t}\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1kZXZpY2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUU7QUFDdkU7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0ZBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVGQUFtQjtBQUN4QztBQUNBLDBCQUEwQixzRkFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1kZXZpY2UuanM/MzY0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBERVZJQ0VfU1RBVFVTIH0gZnJvbSAnQGNvbW1vbi1zY3JpcHQvZGV2aWNlLW1hbmFnZXIvZG0tbW9kZWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIERNRGV2aWNlIHtcclxuICBfcGx1Z2luSW5mbztcclxuICAjZGV2aWNlU3RhdHVzO1xyXG4gICNlcnJvck1lc3NhZ2UgPSBcIlwiO1xyXG5cdCNvblN0YXR1c0NoYW5nZWQ7XHJcbiAgXHJcbiAgLypcclxuICBwYXJhbXMgPSB7XHJcbiAgICBwbHVnaW5JbmZvOiBET1BsdWdpbkluZm8gLy9kZXZpY2UgY29uZmlndXJhdGlvblxyXG4gICAgb25TdGF0dXNDaGFuZ2VkOiBjYWxsYmFjayAvLyBDYWxsZWQgd2hlbiB0aGUgc3RhdHVzIG9mIHRoZSBkZXZpY2UgY2hhbmdlc1xyXG4gIH1cclxuICAqL1xyXG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xyXG4gICAgdGhpcy5fcGx1Z2luSW5mbyA9IHBhcmFtcy5wbHVnaW5JbmZvO1xyXG4gICAgdGhpcy4jb25TdGF0dXNDaGFuZ2VkID0gcGFyYW1zLm9uU3RhdHVzQ2hhbmdlZDtcclxuICAgIHRoaXMuc2V0RGV2aWNlU3RhdHVzKERFVklDRV9TVEFUVVMuSU5JVClcclxuICB9XHJcbiAgXHJcbiAgZ2V0IGRldmljZUlkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsdWdpbkluZm8uUGx1Z2luSWQ7XHJcbiAgfVxyXG4gIFxyXG4gIGdldCBwbHVnaW5OYW1lKCkge1xyXG5cdCAgcmV0dXJuIHRoaXMuX3BsdWdpbkluZm8uUGx1Z2luTmFtZTtcclxuICB9XHJcbiAgXHJcbiAgZ2V0IGljb25OYW1lKCkge1xyXG5cdCAgcmV0dXJuIHRoaXMuX3BsdWdpbkluZm8uSWNvbk5hbWU7XHJcbiAgfVxyXG4gIFxyXG4gIGdldCBjbGFzc0FsaWFzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsdWdpbkluZm8uRHJpdmVyQ2xhc3NBbGlhcztcclxuICB9XHJcblxyXG4gIGdldCBkZXZpY2VBbGlhcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9wbHVnaW5JbmZvLkRldmljZUFsaWFzO1xyXG4gIH1cclxuICBcclxuICBnZXQgZHJpdmVyVHlwZSgpIHtcclxuXHQgIHJldHVybiB0aGlzLl9wbHVnaW5JbmZvLkRyaXZlclR5cGU7XHJcbiAgfVxyXG4gIFxyXG4gIGdldCBkZXZpY2VTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4jZGV2aWNlU3RhdHVzO1xyXG4gIH1cclxuICBcclxuICBnZXQgZXJyb3JNZXNzYWdlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuI2Vycm9yTWVzc2FnZTtcclxuICB9XHJcblxyXG5cdHNldERldmljZVN0YXR1cyhuZXdTdGF0dXMpIHtcclxuXHRcdGlmICh0aGlzLiNkZXZpY2VTdGF0dXMgIT09IG5ld1N0YXR1cykge1xyXG5cdFx0XHR0aGlzLiNkZXZpY2VTdGF0dXMgPSBuZXdTdGF0dXM7XHJcblx0XHRcdGlmIChuZXdTdGF0dXMgPT09IERFVklDRV9TVEFUVVMuUkVBRFkpXHJcblx0XHRcdFx0dGhpcy4jZXJyb3JNZXNzYWdlID0gXCJcIjtcclxuXHRcdFx0ZWxzZSBpZiAobmV3U3RhdHVzID09PSBERVZJQ0VfU1RBVFVTLklOSVQpXHJcblx0XHRcdFx0dGhpcy4jZXJyb3JNZXNzYWdlID0gXCJJbml0aWFsaXppbmcuLi5cIjtcclxuXHJcblx0XHRcdHRoaXMuI3RyaWdnZXJTdGF0dXNDaGFuZ2VkRXZlbnQodGhpcy4jZGV2aWNlU3RhdHVzKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0I3RyaWdnZXJTdGF0dXNDaGFuZ2VkRXZlbnQoZGV2aWNlU3RhdHVzKSB7XHJcblx0XHRpZiAodGhpcy4jb25TdGF0dXNDaGFuZ2VkKSB7XHJcblx0XHRcdGxldCBldmVudCA9IHtcclxuXHRcdFx0XHRkZXZpY2VJZDogdGhpcy5kZXZpY2VJZCxcclxuXHRcdFx0XHRkcml2ZXJUeXBlOiB0aGlzLmRyaXZlclR5cGUsXHJcblx0XHRcdFx0ZGV2aWNlU3RhdHVzOiBkZXZpY2VTdGF0dXNcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLiNvblN0YXR1c0NoYW5nZWQoZXZlbnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c2V0RXJyb3IobWVzc2FnZSkge1xyXG5cdFx0aWYgKHRoaXMuI2Vycm9yTWVzc2FnZSAhPT0gbWVzc2FnZSkge1xyXG5cdFx0XHR0aGlzLiNlcnJvck1lc3NhZ2UgPSBtZXNzYWdlO1xyXG5cdFx0XHR0aGlzLnNldERldmljZVN0YXR1cyhERVZJQ0VfU1RBVFVTLkVSUk9SKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0cmVmcmVzaFN0YXR1cygpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIlJlZnJlc2hTdGF0dXMgbWV0aG9kIG5vdCBpbXBsZW1lbnRlZFwiKTtcclxuXHR9XHJcblx0XHJcblx0cmVzZXQoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJSZXNldCBtZXRob2Qgbm90IGltcGxlbWVudGVkXCIpO1xyXG5cdH1cclxuXHRcclxuXHRhc3luYyBwZXJmb3JtTWFpbnRlbmFuY2UoKSB7XHJcblx0XHQvL1RvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMgaWYgcmVxdWlyZWQuXHJcblx0fVxyXG5cdFxyXG5cdHRlc3QoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJUZXN0IG1ldGhvZCBub3QgaW1wbGVtZW50ZWRcIik7XHJcblx0fVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../common-script/device-manager/dm-device.js\n");

/***/ }),

/***/ "../../../common-script/device-manager/dm-model.js":
/*!*********************************************************!*\
  !*** ../../../common-script/device-manager/dm-model.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CONNECTOR_STATUS\": () => (/* binding */ CONNECTOR_STATUS),\n/* harmony export */   \"DEVICE_STATUS\": () => (/* binding */ DEVICE_STATUS),\n/* harmony export */   \"DEVICE_TYPE\": () => (/* binding */ DEVICE_TYPE),\n/* harmony export */   \"LOG_LEVEL\": () => (/* binding */ LOG_LEVEL),\n/* harmony export */   \"PLUGIN_STATUS\": () => (/* binding */ PLUGIN_STATUS)\n/* harmony export */ });\nconst DEVICE_STATUS = { \r\n  INIT: \"INITIALIZING\",\r\n  READY: \"READY\",\r\n  ERROR: \"ERROR\"\r\n}\r\n\r\nconst CONNECTOR_STATUS = { \r\n  INIT: \"INITIALIZING\",\r\n  READY: \"READY\",\r\n  ERROR: \"ERROR\"\r\n}\r\n\r\nconst DEVICE_TYPE = { \r\n  PRINTER: 1,\r\n  EXT_PAY_DEVICE: 6,\r\n  READER: 7,\r\n  DEVICE_CONNECTOR: 13\r\n}\r\n\r\nconst PLUGIN_STATUS = Object.freeze({\r\n  DISABLED: \"DISABLED\",\r\n  ACTIVE: \"ACTIVE\",\r\n  DOWNLOADING: \"DOWNLOADING\",\r\n  WARNING: \"WARNING\",\r\n  ERROR: \"ERROR\"\r\n});\r\n\r\nconst LOG_LEVEL = {\r\n\tFATAL: 1,\r\n\tERROR: 2,\r\n\tWARN: 3,\r\n\tINFO: 4,\r\n\tDEBUG: 5,\r\n\tTRACE: 6\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1tb2RlbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmljZS1tYW5hZ2VyLXNkbS8uLi8uLi8uLi9jb21tb24tc2NyaXB0L2RldmljZS1tYW5hZ2VyL2RtLW1vZGVsLmpzPzRhMGEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IERFVklDRV9TVEFUVVMgPSB7IFxyXG4gIElOSVQ6IFwiSU5JVElBTElaSU5HXCIsXHJcbiAgUkVBRFk6IFwiUkVBRFlcIixcclxuICBFUlJPUjogXCJFUlJPUlwiXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDT05ORUNUT1JfU1RBVFVTID0geyBcclxuICBJTklUOiBcIklOSVRJQUxJWklOR1wiLFxyXG4gIFJFQURZOiBcIlJFQURZXCIsXHJcbiAgRVJST1I6IFwiRVJST1JcIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVWSUNFX1RZUEUgPSB7IFxyXG4gIFBSSU5URVI6IDEsXHJcbiAgRVhUX1BBWV9ERVZJQ0U6IDYsXHJcbiAgUkVBREVSOiA3LFxyXG4gIERFVklDRV9DT05ORUNUT1I6IDEzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBQTFVHSU5fU1RBVFVTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgRElTQUJMRUQ6IFwiRElTQUJMRURcIixcclxuICBBQ1RJVkU6IFwiQUNUSVZFXCIsXHJcbiAgRE9XTkxPQURJTkc6IFwiRE9XTkxPQURJTkdcIixcclxuICBXQVJOSU5HOiBcIldBUk5JTkdcIixcclxuICBFUlJPUjogXCJFUlJPUlwiXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IExPR19MRVZFTCA9IHtcclxuXHRGQVRBTDogMSxcclxuXHRFUlJPUjogMixcclxuXHRXQVJOOiAzLFxyXG5cdElORk86IDQsXHJcblx0REVCVUc6IDUsXHJcblx0VFJBQ0U6IDZcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../common-script/device-manager/dm-model.js\n");

/***/ }),

/***/ "../../../common-script/device-manager/dm-payment.js":
/*!***********************************************************!*\
  !*** ../../../common-script/device-manager/dm-payment.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DMPayment\": () => (/* binding */ DMPayment)\n/* harmony export */ });\n/* harmony import */ var _common_script_device_manager_dm_device__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/device-manager/dm-device */ \"../../../common-script/device-manager/dm-device.js\");\n/* harmony import */ var _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-script/device-manager/dm-model */ \"../../../common-script/device-manager/dm-model.js\");\n\r\n\r\n\r\nclass DMPayment extends _common_script_device_manager_dm_device__WEBPACK_IMPORTED_MODULE_0__.DMDevice { \r\n\t_transactionTimeout = 240000;\r\n\t\r\n  get deviceType() {\r\n    return _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.EXT_PAY_DEVICE;\r\n  }\r\n  \r\n  get paymentTransactionTimeout() {\r\n    return this._transactionTimeout;\r\n  }\r\n  \r\n  get paymentMethodIDs() {\r\n    return this._pluginInfo.PaymentMethodIDs;\r\n  }\r\n \r\n  pay(currency, amount, transactionRef, deviceAlias) {\r\n\t\tthrow new Error(\"Pay method must be implemented in extending class\");\r\n  }\r\n  \r\n \tvoid(currency, salePayment, transactionRef, deviceAlias) {\r\n\t\tthrow new Error(\"Void method must be implemented in extending class\");\r\n\t}\r\n\r\n  refund(currency, amount, transactionRef, deviceAlias) {\r\n\t\tthrow new Error(\"Refund method must be implemented in extending class\");\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1wYXltZW50LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRTtBQUNFO0FBQ3JFO0FBQ08sd0JBQXdCLDZFQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOEZBQTBCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2aWNlLW1hbmFnZXItc2RtLy4uLy4uLy4uL2NvbW1vbi1zY3JpcHQvZGV2aWNlLW1hbmFnZXIvZG0tcGF5bWVudC5qcz80YzMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERNRGV2aWNlIH0gZnJvbSAnQGNvbW1vbi1zY3JpcHQvZGV2aWNlLW1hbmFnZXIvZG0tZGV2aWNlJztcclxuaW1wb3J0IHsgREVWSUNFX1RZUEUgfSBmcm9tICdAY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1tb2RlbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgRE1QYXltZW50IGV4dGVuZHMgRE1EZXZpY2UgeyBcclxuXHRfdHJhbnNhY3Rpb25UaW1lb3V0ID0gMjQwMDAwO1xyXG5cdFxyXG4gIGdldCBkZXZpY2VUeXBlKCkge1xyXG4gICAgcmV0dXJuIERFVklDRV9UWVBFLkVYVF9QQVlfREVWSUNFO1xyXG4gIH1cclxuICBcclxuICBnZXQgcGF5bWVudFRyYW5zYWN0aW9uVGltZW91dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl90cmFuc2FjdGlvblRpbWVvdXQ7XHJcbiAgfVxyXG4gIFxyXG4gIGdldCBwYXltZW50TWV0aG9kSURzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsdWdpbkluZm8uUGF5bWVudE1ldGhvZElEcztcclxuICB9XHJcbiBcclxuICBwYXkoY3VycmVuY3ksIGFtb3VudCwgdHJhbnNhY3Rpb25SZWYsIGRldmljZUFsaWFzKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQYXkgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gZXh0ZW5kaW5nIGNsYXNzXCIpO1xyXG4gIH1cclxuICBcclxuIFx0dm9pZChjdXJyZW5jeSwgc2FsZVBheW1lbnQsIHRyYW5zYWN0aW9uUmVmLCBkZXZpY2VBbGlhcykge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiVm9pZCBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBleHRlbmRpbmcgY2xhc3NcIik7XHJcblx0fVxyXG5cclxuICByZWZ1bmQoY3VycmVuY3ksIGFtb3VudCwgdHJhbnNhY3Rpb25SZWYsIGRldmljZUFsaWFzKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJSZWZ1bmQgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gZXh0ZW5kaW5nIGNsYXNzXCIpO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../common-script/device-manager/dm-payment.js\n");

/***/ }),

/***/ "../../../common-script/device-manager/dm-printer.js":
/*!***********************************************************!*\
  !*** ../../../common-script/device-manager/dm-printer.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DMPrinter\": () => (/* binding */ DMPrinter)\n/* harmony export */ });\n/* harmony import */ var _common_script_device_manager_dm_device__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @common-script/device-manager/dm-device */ \"../../../common-script/device-manager/dm-device.js\");\n/* harmony import */ var _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-script/device-manager/dm-model */ \"../../../common-script/device-manager/dm-model.js\");\n\r\n\r\n\r\nclass DMPrinter extends _common_script_device_manager_dm_device__WEBPACK_IMPORTED_MODULE_0__.DMDevice { \r\n  _canReadMediaCodes = false;\r\n  _isVirtual = false;\r\n\r\n  get deviceType() {\r\n    return _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.PRINTER;\r\n  }\r\n  \r\n  get canReadMediaCodes() {\r\n    return this._canReadMediaCodes;\r\n  }\r\n\r\n  get isVirtual() {\r\n    return this._isVirtual;\r\n  }\r\n  \r\n  processDoc(doc, docEditorType) {\r\n\t\tthrow new Error(\"processDoc not supported by \" + this.pluginName);\r\n  }\r\n  \r\n  processReceipt(receiptPrintTemplate) {\r\n\t\tthrow new Error(\"processReceipt not supported by \" + this.pluginName);\r\n  }\r\n\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1wcmludGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRTtBQUNFO0FBQ3JFO0FBQ08sd0JBQXdCLDZFQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1RkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1wcmludGVyLmpzP2I0MzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRE1EZXZpY2UgfSBmcm9tICdAY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1kZXZpY2UnO1xyXG5pbXBvcnQgeyBERVZJQ0VfVFlQRSB9IGZyb20gJ0Bjb21tb24tc2NyaXB0L2RldmljZS1tYW5hZ2VyL2RtLW1vZGVsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBETVByaW50ZXIgZXh0ZW5kcyBETURldmljZSB7IFxyXG4gIF9jYW5SZWFkTWVkaWFDb2RlcyA9IGZhbHNlO1xyXG4gIF9pc1ZpcnR1YWwgPSBmYWxzZTtcclxuXHJcbiAgZ2V0IGRldmljZVR5cGUoKSB7XHJcbiAgICByZXR1cm4gREVWSUNFX1RZUEUuUFJJTlRFUjtcclxuICB9XHJcbiAgXHJcbiAgZ2V0IGNhblJlYWRNZWRpYUNvZGVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhblJlYWRNZWRpYUNvZGVzO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzVmlydHVhbCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1ZpcnR1YWw7XHJcbiAgfVxyXG4gIFxyXG4gIHByb2Nlc3NEb2MoZG9jLCBkb2NFZGl0b3JUeXBlKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzRG9jIG5vdCBzdXBwb3J0ZWQgYnkgXCIgKyB0aGlzLnBsdWdpbk5hbWUpO1xyXG4gIH1cclxuICBcclxuICBwcm9jZXNzUmVjZWlwdChyZWNlaXB0UHJpbnRUZW1wbGF0ZSkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzc1JlY2VpcHQgbm90IHN1cHBvcnRlZCBieSBcIiArIHRoaXMucGx1Z2luTmFtZSk7XHJcbiAgfVxyXG5cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../common-script/device-manager/dm-printer.js\n");

/***/ }),

/***/ "../../../common-script/device-manager/dm-reader.js":
/*!**********************************************************!*\
  !*** ../../../common-script/device-manager/dm-reader.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DMReader\": () => (/* binding */ DMReader)\n/* harmony export */ });\n/* harmony import */ var _dm_device__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dm-device */ \"../../../common-script/device-manager/dm-device.js\");\n/* harmony import */ var _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-script/device-manager/dm-model */ \"../../../common-script/device-manager/dm-model.js\");\n\r\n\r\n\r\nclass DMReader extends _dm_device__WEBPACK_IMPORTED_MODULE_0__.DMDevice { \r\n  onMediaRead;\r\n  \r\n  get deviceType() {\r\n    return _common_script_device_manager_dm_model__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.READER;\r\n  }\r\n  \r\n  startRead() {}\r\n  stopRead() {}\r\n  \r\n  _triggerMediaRead(read) {\r\n    if (this.onMediaRead)\r\n      this.onMediaRead(read);\r\n\r\n    $(document).trigger(\"kiosk-media-read\", read);\r\n  }\r\n\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9kZXZpY2UtbWFuYWdlci9kbS1yZWFkZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVDO0FBQzhCO0FBQ3JFO0FBQ08sdUJBQXVCLGdEQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0ZBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2aWNlLW1hbmFnZXItc2RtLy4uLy4uLy4uL2NvbW1vbi1zY3JpcHQvZGV2aWNlLW1hbmFnZXIvZG0tcmVhZGVyLmpzPzQ5ZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRE1EZXZpY2UgfSBmcm9tICcuL2RtLWRldmljZSc7XHJcbmltcG9ydCB7IERFVklDRV9UWVBFIH0gZnJvbSAnQGNvbW1vbi1zY3JpcHQvZGV2aWNlLW1hbmFnZXIvZG0tbW9kZWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIERNUmVhZGVyIGV4dGVuZHMgRE1EZXZpY2UgeyBcclxuICBvbk1lZGlhUmVhZDtcclxuICBcclxuICBnZXQgZGV2aWNlVHlwZSgpIHtcclxuICAgIHJldHVybiBERVZJQ0VfVFlQRS5SRUFERVI7XHJcbiAgfVxyXG4gIFxyXG4gIHN0YXJ0UmVhZCgpIHt9XHJcbiAgc3RvcFJlYWQoKSB7fVxyXG4gIFxyXG4gIF90cmlnZ2VyTWVkaWFSZWFkKHJlYWQpIHtcclxuICAgIGlmICh0aGlzLm9uTWVkaWFSZWFkKVxyXG4gICAgICB0aGlzLm9uTWVkaWFSZWFkKHJlYWQpO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoXCJraW9zay1tZWRpYS1yZWFkXCIsIHJlYWQpO1xyXG4gIH1cclxuXHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../common-script/device-manager/dm-reader.js\n");

/***/ }),

/***/ "../../../common-script/errors.js":
/*!****************************************!*\
  !*** ../../../common-script/errors.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ECCPaymentError\": () => (/* binding */ ECCPaymentError),\n/* harmony export */   \"EPaymentError\": () => (/* binding */ EPaymentError),\n/* harmony export */   \"EPrintError\": () => (/* binding */ EPrintError),\n/* harmony export */   \"ESnAppError\": () => (/* binding */ ESnAppError),\n/* harmony export */   \"PAYMENT_ERROR\": () => (/* binding */ PAYMENT_ERROR)\n/* harmony export */ });\nclass ESnAppError extends Error {\r\n\t#errorCode;\r\n\t\r\n\tconstructor(message, errorCode) {\r\n\t\tsuper(message);\r\n\t\tthis.name = this.constructor.name;\r\n\t\tthis.#errorCode = errorCode;\r\n\t}\r\n\t\r\n  static getClassName() {\r\n    return this.name;\r\n  }\r\n  \r\n  static isSameClass(e) {\r\n    return e.constructor.name === this.name;\r\n  }\r\n\t\r\n\tget errorCode() {\r\n\t\treturn this.#errorCode;\r\n\t}\r\n}\r\n\r\nclass ECCPaymentError extends ESnAppError {\r\n\t#processorResult;\r\n\r\n\tconstructor(message, errorCode, processorResult) {\r\n\t\tsuper(message, errorCode);\r\n\t\tthis.#processorResult = processorResult;\r\n\t}\t\r\n\t\r\n\tget processorResult() {\r\n\t\treturn this.#processorResult;\r\n\t}\r\n}\r\n\r\nclass EPaymentError extends ESnAppError {\r\n\t#paymentResult;\r\n\r\n\tconstructor(message, errorCode, paymentResult) {\r\n\t\tsuper(message, errorCode);\r\n\t\tthis.#paymentResult = paymentResult;\r\n\t}\t\r\n\t\r\n\tget paymentResult() {\r\n\t\treturn this.#paymentResult;\r\n\t}\r\n\r\n}\r\n\r\nclass EPrintError extends Error {\r\n\t#printedMediaList;\r\n\r\n\tconstructor(message, printedMediaList) {\r\n\t\tsuper(message);\r\n\t\tthis.#printedMediaList = printedMediaList;\r\n\t}\t\r\n\t\r\n\tget printedMediaList() {\r\n\t\treturn this.#printedMediaList;\r\n\t}\r\n}\r\n\r\nconst PAYMENT_ERROR = { \r\n  ABORT: \"ABORT\",\r\n  FAILED: \"FAILED\"\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9lcnJvcnMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vLi4vLi4vY29tbW9uLXNjcmlwdC9lcnJvcnMuanM/ZTI4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRVNuQXBwRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcblx0I2Vycm9yQ29kZTtcclxuXHRcclxuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBlcnJvckNvZGUpIHtcclxuXHRcdHN1cGVyKG1lc3NhZ2UpO1xyXG5cdFx0dGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xyXG5cdFx0dGhpcy4jZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xyXG5cdH1cclxuXHRcclxuICBzdGF0aWMgZ2V0Q2xhc3NOYW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICB9XHJcbiAgXHJcbiAgc3RhdGljIGlzU2FtZUNsYXNzKGUpIHtcclxuICAgIHJldHVybiBlLmNvbnN0cnVjdG9yLm5hbWUgPT09IHRoaXMubmFtZTtcclxuICB9XHJcblx0XHJcblx0Z2V0IGVycm9yQ29kZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLiNlcnJvckNvZGU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUNDUGF5bWVudEVycm9yIGV4dGVuZHMgRVNuQXBwRXJyb3Ige1xyXG5cdCNwcm9jZXNzb3JSZXN1bHQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGVycm9yQ29kZSwgcHJvY2Vzc29yUmVzdWx0KSB7XHJcblx0XHRzdXBlcihtZXNzYWdlLCBlcnJvckNvZGUpO1xyXG5cdFx0dGhpcy4jcHJvY2Vzc29yUmVzdWx0ID0gcHJvY2Vzc29yUmVzdWx0O1xyXG5cdH1cdFxyXG5cdFxyXG5cdGdldCBwcm9jZXNzb3JSZXN1bHQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4jcHJvY2Vzc29yUmVzdWx0O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVQYXltZW50RXJyb3IgZXh0ZW5kcyBFU25BcHBFcnJvciB7XHJcblx0I3BheW1lbnRSZXN1bHQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGVycm9yQ29kZSwgcGF5bWVudFJlc3VsdCkge1xyXG5cdFx0c3VwZXIobWVzc2FnZSwgZXJyb3JDb2RlKTtcclxuXHRcdHRoaXMuI3BheW1lbnRSZXN1bHQgPSBwYXltZW50UmVzdWx0O1xyXG5cdH1cdFxyXG5cdFxyXG5cdGdldCBwYXltZW50UmVzdWx0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuI3BheW1lbnRSZXN1bHQ7XHJcblx0fVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVQcmludEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG5cdCNwcmludGVkTWVkaWFMaXN0O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBwcmludGVkTWVkaWFMaXN0KSB7XHJcblx0XHRzdXBlcihtZXNzYWdlKTtcclxuXHRcdHRoaXMuI3ByaW50ZWRNZWRpYUxpc3QgPSBwcmludGVkTWVkaWFMaXN0O1xyXG5cdH1cdFxyXG5cdFxyXG5cdGdldCBwcmludGVkTWVkaWFMaXN0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuI3ByaW50ZWRNZWRpYUxpc3Q7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUEFZTUVOVF9FUlJPUiA9IHsgXHJcbiAgQUJPUlQ6IFwiQUJPUlRcIixcclxuICBGQUlMRUQ6IFwiRkFJTEVEXCJcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../common-script/errors.js\n");

/***/ }),

/***/ "../../../common-script/utils.js":
/*!***************************************!*\
  !*** ../../../common-script/utils.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Utils\": () => (/* binding */ Utils)\n/* harmony export */ });\nclass Utils {\r\n\tstatic beautifyJSONString(str) {\r\n\t\treturn JSON.stringify(str, null, 4)\r\n\t}\t\r\n\r\n\tstatic decodeBase64(str) {\r\n\t\tif (str[str.length-1] === \"=\")\r\n    \tstr = str.slice(0,-1);\r\n\t\treturn atob(str);\r\n\t}\r\n\r\n\tstatic encodeBase64(str) {\r\n\t\treturn btoa(str);\r\n\t}\r\n\t\r\n\tstatic createUUID() {\r\n    let dt = new Date().getTime();\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n      let r = (dt + Math.random() * 16) % 16 | 0;\r\n      dt = Math.floor(dt / 16);\r\n      return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n  }\r\n  \r\n\tstatic async encodeBase64URLEncoded(str) {\r\n\t\tlet blob = new Blob([str], { type: 'text/plain; charset=UTF-8' });\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\treader.onloadend = () => {\r\n\t\t\t\t\tlet base64data = reader.result.split(',')[1];\r\n\t\t\t\t\tresolve(base64data);\r\n\t\t\t\t};\r\n\t\t\treader.onerror = reject;\r\n\t\t\treader.readAsDataURL(blob);\r\n\t\t});\r\n\t}\r\n\t\r\n\tstatic async streamToBase64(stream) {\r\n    // Convert the stream to blob\r\n    const blob = await new Response(stream).blob();\r\n\r\n    // Create a FileReader instance\r\n    const reader = new FileReader();\r\n\r\n    // Convert the blob to base64\r\n    return new Promise((resolve, reject) => {\r\n        reader.onloadend = () => resolve(reader.result.split(',')[1]); // Remove the Data URL prefix\r\n        reader.onerror = reject;\r\n        reader.readAsDataURL(blob);\r\n    });\r\n\t}\t\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vY29tbW9uLXNjcmlwdC91dGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixtQkFBbUIsZ0JBQWdCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZpY2UtbWFuYWdlci1zZG0vLi4vLi4vLi4vY29tbW9uLXNjcmlwdC91dGlscy5qcz82MTZjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBVdGlscyB7XHJcblx0c3RhdGljIGJlYXV0aWZ5SlNPTlN0cmluZyhzdHIpIHtcclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShzdHIsIG51bGwsIDQpXHJcblx0fVx0XHJcblxyXG5cdHN0YXRpYyBkZWNvZGVCYXNlNjQoc3RyKSB7XHJcblx0XHRpZiAoc3RyW3N0ci5sZW5ndGgtMV0gPT09IFwiPVwiKVxyXG4gICAgXHRzdHIgPSBzdHIuc2xpY2UoMCwtMSk7XHJcblx0XHRyZXR1cm4gYXRvYihzdHIpO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGVuY29kZUJhc2U2NChzdHIpIHtcclxuXHRcdHJldHVybiBidG9hKHN0cik7XHJcblx0fVxyXG5cdFxyXG5cdHN0YXRpYyBjcmVhdGVVVUlEKCkge1xyXG4gICAgbGV0IGR0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XHJcbiAgICAgIGxldCByID0gKGR0ICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcclxuICAgICAgZHQgPSBNYXRoLmZsb29yKGR0IC8gMTYpO1xyXG4gICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG5cdHN0YXRpYyBhc3luYyBlbmNvZGVCYXNlNjRVUkxFbmNvZGVkKHN0cikge1xyXG5cdFx0bGV0IGJsb2IgPSBuZXcgQmxvYihbc3RyXSwgeyB0eXBlOiAndGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOCcgfSk7XHJcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0bGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblx0XHRcdFx0cmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGxldCBiYXNlNjRkYXRhID0gcmVhZGVyLnJlc3VsdC5zcGxpdCgnLCcpWzFdO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShiYXNlNjRkYXRhKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRyZWFkZXIub25lcnJvciA9IHJlamVjdDtcclxuXHRcdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0XHJcblx0c3RhdGljIGFzeW5jIHN0cmVhbVRvQmFzZTY0KHN0cmVhbSkge1xyXG4gICAgLy8gQ29udmVydCB0aGUgc3RyZWFtIHRvIGJsb2JcclxuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBuZXcgUmVzcG9uc2Uoc3RyZWFtKS5ibG9iKCk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgRmlsZVJlYWRlciBpbnN0YW5jZVxyXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IHRoZSBibG9iIHRvIGJhc2U2NFxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0LnNwbGl0KCcsJylbMV0pOyAvLyBSZW1vdmUgdGhlIERhdGEgVVJMIHByZWZpeFxyXG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG4gICAgfSk7XHJcblx0fVx0XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../common-script/utils.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("../script/sdm-main.js");
/******/ 	globalThis["device-manager-sdm"] = __webpack_exports__;
/******/ 	
/******/ })()
;